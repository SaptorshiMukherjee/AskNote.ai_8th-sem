var Vo=Object.defineProperty;var eo=i=>{throw TypeError(i)};var Wo=(i,s,o)=>s in i?Vo(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o;var or=(i,s,o)=>Wo(i,typeof s!="symbol"?s+"":s,o),vs=(i,s,o)=>s.has(i)||eo("Cannot "+o);var at=(i,s,o)=>(vs(i,s,"read from private field"),o?o.call(i):s.get(i)),fn=(i,s,o)=>s.has(i)?eo("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(i):s.set(i,o),dn=(i,s,o,a)=>(vs(i,s,"write to private field"),a?a.call(i,o):s.set(i,o),o),an=(i,s,o)=>(vs(i,s,"access private method"),o);var Er=(i,s,o,a)=>({set _(c){dn(i,s,c,o)},get _(){return at(i,s,a)}});function _mergeNamespaces(i,s){for(var o=0;o<s.length;o++){const a=s[o];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in i)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(i,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function o(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=o(c);fetch(c.href,d)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var s=i.default;if(typeof s=="function"){var o=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};o.prototype=s.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var c=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(o,a,c.get?c:{enumerable:!0,get:function(){return i[a]}})}),o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$2={};function E$2(i,s,o){this.props=i,this.context=s,this.refs=D$2,this.updater=o||B$1}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};E$2.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$2.prototype;function G$1(i,s,o){this.props=i,this.context=s,this.refs=D$2,this.updater=o||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$2.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,s,o){var a,c={},d=null,h=null;if(s!=null)for(a in s.ref!==void 0&&(h=s.ref),s.key!==void 0&&(d=""+s.key),s)J.call(s,a)&&!L$2.hasOwnProperty(a)&&(c[a]=s[a]);var g=arguments.length-2;if(g===1)c.children=o;else if(1<g){for(var _=Array(g),b=0;b<g;b++)_[b]=arguments[b+2];c.children=_}if(i&&i.defaultProps)for(a in g=i.defaultProps,g)c[a]===void 0&&(c[a]=g[a]);return{$$typeof:l$1,type:i,key:d,ref:h,props:c,_owner:K$1.current}}function N$1(i,s){return{$$typeof:l$1,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$1}function escape$1(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(o){return s[o]})}var P$2=/\/+/g;function Q$1(i,s){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):s.toString(36)}function R$1(i,s,o,a,c){var d=typeof i;(d==="undefined"||d==="boolean")&&(i=null);var h=!1;if(i===null)h=!0;else switch(d){case"string":case"number":h=!0;break;case"object":switch(i.$$typeof){case l$1:case n$1:h=!0}}if(h)return h=i,c=c(h),i=a===""?"."+Q$1(h,0):a,I$1(c)?(o="",i!=null&&(o=i.replace(P$2,"$&/")+"/"),R$1(c,s,o,"",function(b){return b})):c!=null&&(O$1(c)&&(c=N$1(c,o+(!c.key||h&&h.key===c.key?"":(""+c.key).replace(P$2,"$&/")+"/")+i)),s.push(c)),1;if(h=0,a=a===""?".":a+":",I$1(i))for(var g=0;g<i.length;g++){d=i[g];var _=a+Q$1(d,g);h+=R$1(d,s,o,_,c)}else if(_=A$1(i),typeof _=="function")for(i=_.call(i),g=0;!(d=i.next()).done;)d=d.value,_=a+Q$1(d,g++),h+=R$1(d,s,o,_,c);else if(d==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return h}function S$1(i,s,o){if(i==null)return i;var a=[],c=0;return R$1(i,a,"","",function(d){return s.call(o,d,c++)}),a}function T$1(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(o){(i._status===0||i._status===-1)&&(i._status=1,i._result=o)},function(o){(i._status===0||i._status===-1)&&(i._status=2,i._result=o)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var U$2={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,s,o){S$1(i,function(){s.apply(this,arguments)},o)},count:function(i){var s=0;return S$1(i,function(){s++}),s},toArray:function(i){return S$1(i,function(s){return s})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$2;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(i,s,o){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var a=C$1({},i.props),c=i.key,d=i.ref,h=i._owner;if(s!=null){if(s.ref!==void 0&&(d=s.ref,h=K$1.current),s.key!==void 0&&(c=""+s.key),i.type&&i.type.defaultProps)var g=i.type.defaultProps;for(_ in s)J.call(s,_)&&!L$2.hasOwnProperty(_)&&(a[_]=s[_]===void 0&&g!==void 0?g[_]:s[_])}var _=arguments.length-2;if(_===1)a.children=o;else if(1<_){g=Array(_);for(var b=0;b<_;b++)g[b]=arguments[b+2];a.children=g}return{$$typeof:l$1,type:i.type,key:c,ref:d,props:a,_owner:h}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var s=M$1.bind(null,i);return s.type=i,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$2,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,s){return{$$typeof:x,type:i,compare:s===void 0?null:s}};react_production_min.startTransition=function(i){var s=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=s}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(i,s){return U$2.current.useCallback(i,s)};react_production_min.useContext=function(i){return U$2.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$2.current.useDeferredValue(i)};react_production_min.useEffect=function(i,s){return U$2.current.useEffect(i,s)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(i,s,o){return U$2.current.useImperativeHandle(i,s,o)};react_production_min.useInsertionEffect=function(i,s){return U$2.current.useInsertionEffect(i,s)};react_production_min.useLayoutEffect=function(i,s){return U$2.current.useLayoutEffect(i,s)};react_production_min.useMemo=function(i,s){return U$2.current.useMemo(i,s)};react_production_min.useReducer=function(i,s,o){return U$2.current.useReducer(i,s,o)};react_production_min.useRef=function(i){return U$2.current.useRef(i)};react_production_min.useState=function(i){return U$2.current.useState(i)};react_production_min.useSyncExternalStore=function(i,s,o){return U$2.current.useSyncExternalStore(i,s,o)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const e=getDefaultExportFromCjs(reactExports),React=_mergeNamespaces({__proto__:null,default:e},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(i,s,o){var a,c={},d=null,h=null;o!==void 0&&(d=""+o),s.key!==void 0&&(d=""+s.key),s.ref!==void 0&&(h=s.ref);for(a in s)m$1.call(s,a)&&!p$1.hasOwnProperty(a)&&(c[a]=s[a]);if(i&&i.defaultProps)for(a in s=i.defaultProps,s)c[a]===void 0&&(c[a]=s[a]);return{$$typeof:k,type:i,key:d,ref:h,props:c,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(Nt,At){var wt=Nt.length;Nt.push(At);e:for(;0<wt;){var rn=wt-1>>>1,kt=Nt[rn];if(0<c(kt,At))Nt[rn]=At,Nt[wt]=kt,wt=rn;else break e}}function o(Nt){return Nt.length===0?null:Nt[0]}function a(Nt){if(Nt.length===0)return null;var At=Nt[0],wt=Nt.pop();if(wt!==At){Nt[0]=wt;e:for(var rn=0,kt=Nt.length,ot=kt>>>1;rn<ot;){var bt=2*(rn+1)-1,Pt=Nt[bt],Mt=bt+1,jt=Nt[Mt];if(0>c(Pt,wt))Mt<kt&&0>c(jt,Pt)?(Nt[rn]=jt,Nt[Mt]=wt,rn=Mt):(Nt[rn]=Pt,Nt[bt]=wt,rn=bt);else if(Mt<kt&&0>c(jt,wt))Nt[rn]=jt,Nt[Mt]=wt,rn=Mt;else break e}}return At}function c(Nt,At){var wt=Nt.sortIndex-At.sortIndex;return wt!==0?wt:Nt.id-At.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var h=Date,g=h.now();i.unstable_now=function(){return h.now()-g}}var _=[],b=[],$=1,et=null,_e=3,tt=!1,it=!1,st=!1,lt=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pt(Nt){for(var At=o(b);At!==null;){if(At.callback===null)a(b);else if(At.startTime<=Nt)a(b),At.sortIndex=At.expirationTime,s(_,At);else break;At=o(b)}}function gt(Nt){if(st=!1,pt(Nt),!it)if(o(_)!==null)it=!0,sn(ht);else{var At=o(b);At!==null&&en(gt,At.startTime-Nt)}}function ht(Nt,At){it=!1,st&&(st=!1,nt(yt),yt=-1),tt=!0;var wt=_e;try{for(pt(At),et=o(_);et!==null&&(!(et.expirationTime>At)||Nt&&!vt());){var rn=et.callback;if(typeof rn=="function"){et.callback=null,_e=et.priorityLevel;var kt=rn(et.expirationTime<=At);At=i.unstable_now(),typeof kt=="function"?et.callback=kt:et===o(_)&&a(_),pt(At)}else a(_);et=o(_)}if(et!==null)var ot=!0;else{var bt=o(b);bt!==null&&en(gt,bt.startTime-At),ot=!1}return ot}finally{et=null,_e=wt,tt=!1}}var dt=!1,mt=null,yt=-1,xt=5,Et=-1;function vt(){return!(i.unstable_now()-Et<xt)}function St(){if(mt!==null){var Nt=i.unstable_now();Et=Nt;var At=!0;try{At=mt(!0,Nt)}finally{At?Rt():(dt=!1,mt=null)}}else dt=!1}var Rt;if(typeof rt=="function")Rt=function(){rt(St)};else if(typeof MessageChannel<"u"){var nn=new MessageChannel,zt=nn.port2;nn.port1.onmessage=St,Rt=function(){zt.postMessage(null)}}else Rt=function(){lt(St,0)};function sn(Nt){mt=Nt,dt||(dt=!0,Rt())}function en(Nt,At){yt=lt(function(){Nt(i.unstable_now())},At)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Nt){Nt.callback=null},i.unstable_continueExecution=function(){it||tt||(it=!0,sn(ht))},i.unstable_forceFrameRate=function(Nt){0>Nt||125<Nt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xt=0<Nt?Math.floor(1e3/Nt):5},i.unstable_getCurrentPriorityLevel=function(){return _e},i.unstable_getFirstCallbackNode=function(){return o(_)},i.unstable_next=function(Nt){switch(_e){case 1:case 2:case 3:var At=3;break;default:At=_e}var wt=_e;_e=At;try{return Nt()}finally{_e=wt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Nt,At){switch(Nt){case 1:case 2:case 3:case 4:case 5:break;default:Nt=3}var wt=_e;_e=Nt;try{return At()}finally{_e=wt}},i.unstable_scheduleCallback=function(Nt,At,wt){var rn=i.unstable_now();switch(typeof wt=="object"&&wt!==null?(wt=wt.delay,wt=typeof wt=="number"&&0<wt?rn+wt:rn):wt=rn,Nt){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=wt+kt,Nt={id:$++,callback:At,priorityLevel:Nt,startTime:wt,expirationTime:kt,sortIndex:-1},wt>rn?(Nt.sortIndex=wt,s(b,Nt),o(_)===null&&Nt===o(b)&&(st?(nt(yt),yt=-1):st=!0,en(gt,wt-rn))):(Nt.sortIndex=kt,s(_,Nt),it||tt||(it=!0,sn(ht))),Nt},i.unstable_shouldYield=vt,i.unstable_wrapCallback=function(Nt){var At=_e;return function(){var wt=_e;_e=At;try{return Nt.apply(this,arguments)}finally{_e=wt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,s){ha(i,s),ha(i+"Capture",s)}function ha(i,s){for(ea[i]=s,i=0;i<s.length;i++)da.add(s[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,s,o,a){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,s,o,a){if(s===null||typeof s>"u"||pa(i,s,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$1(i,s,o,a,c,d,h){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=i,this.type=s,this.sanitizeURL=d,this.removeEmptyString=h}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];z[s]=new v$1(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,s,o,a){var c=z.hasOwnProperty(s)?z[s]:null;(c!==null?c.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,o,c,a)&&(o=null),a||c===null?oa(s)&&(o===null?i.removeAttribute(s):i.setAttribute(s,""+o)):c.mustUseProperty?i[c.propertyName]=o===null?c.type===3?!1:"":o:(s=c.attributeName,a=c.attributeNamespace,o===null?i.removeAttribute(s):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?i.setAttributeNS(a,s,o):i.setAttribute(s,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+i}var Na=!1;function Oa(i,s){if(!i||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(b){var a=b}Reflect.construct(i,[],s)}else{try{s.call()}catch(b){a=b}i.call(s.prototype)}else{try{throw Error()}catch(b){a=b}i()}}catch(b){if(b&&a&&typeof b.stack=="string"){for(var c=b.stack.split(`
`),d=a.stack.split(`
`),h=c.length-1,g=d.length-1;1<=h&&0<=g&&c[h]!==d[g];)g--;for(;1<=h&&0<=g;h--,g--)if(c[h]!==d[g]){if(h!==1||g!==1)do if(h--,g--,0>g||c[h]!==d[g]){var _=`
`+c[h].replace(" at new "," at ");return i.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",i.displayName)),_}while(1<=h&&0<=g);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return s=i.displayName||null,s!==null?s:Qa(i.type)||"Memo";case Ha:s=i._payload,i=i._init;try{return Qa(i(s))}catch{}}return null}function Ra(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(i){var s=Ta(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),a=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,d=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return c.call(this)},set:function(h){a=""+h,d.call(this,h)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),a="";return i&&(a=Ta(i)?i.checked?"true":"false":i.value),i=a,i!==o?(s.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,s){var o=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??i._wrapperState.initialChecked})}function Za(i,s){var o=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;o=Sa(s.value!=null?s.value:o),i._wrapperState={initialChecked:a,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(i,s){s=s.checked,s!=null&&ta(i,"checked",s,!1)}function bb(i,s){ab(i,s);var o=Sa(s.value),a=s.type;if(o!=null)a==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+o):i.value!==""+o&&(i.value=""+o);else if(a==="submit"||a==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?cb(i,s.type,o):s.hasOwnProperty("defaultValue")&&cb(i,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function db(i,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,o||s===i.value||(i.value=s),i.defaultValue=s}o=i.name,o!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,o!==""&&(i.name=o)}function cb(i,s,o){(s!=="number"||Xa(i.ownerDocument)!==i)&&(o==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+o&&(i.defaultValue=""+o))}var eb=Array.isArray;function fb(i,s,o,a){if(i=i.options,s){s={};for(var c=0;c<o.length;c++)s["$"+o[c]]=!0;for(o=0;o<i.length;o++)c=s.hasOwnProperty("$"+i[o].value),i[o].selected!==c&&(i[o].selected=c),c&&a&&(i[o].defaultSelected=!0)}else{for(o=""+Sa(o),s=null,c=0;c<i.length;c++){if(i[c].value===o){i[c].selected=!0,a&&(i[c].defaultSelected=!0);return}s!==null||i[c].disabled||(s=i[c])}s!==null&&(s.selected=!0)}}function gb(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(p(92));if(eb(o)){if(1<o.length)throw Error(p(93));o=o[0]}s=o}s==null&&(s=""),o=s}i._wrapperState={initialValue:Sa(o)}}function ib(i,s){var o=Sa(s.value),a=Sa(s.defaultValue);o!=null&&(o=""+o,o!==i.value&&(i.value=o),s.defaultValue==null&&i.defaultValue!==o&&(i.defaultValue=o)),a!=null&&(i.defaultValue=""+a)}function jb(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,a,c){MSApp.execUnsafeLocalFunction(function(){return i(s,o,a,c)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ob(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),pb[s]=pb[i]})});function rb(i,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||pb.hasOwnProperty(i)&&pb[i]?(""+s).trim():s+"px"}function sb(i,s){i=i.style;for(var o in s)if(s.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=rb(o,s[o],a);o==="float"&&(o="cssFloat"),a?i.setProperty(o,c):i[o]=c}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,s){if(s){if(tb[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p(280));var s=i.stateNode;s&&(s=Db(s),yb(i.stateNode,i.type,s))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,s=Ab;if(Ab=zb=null,Bb(i),s)for(i=0;i<s.length;i++)Bb(s[i])}}function Gb(i,s){return i(s)}function Hb(){}var Ib=!1;function Jb(i,s,o){if(Ib)return i(s,o);Ib=!0;try{return Gb(i,s,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,s){var o=i.stateNode;if(o===null)return null;var a=Db(o);if(a===null)return null;o=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(i=i.type,a=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!a;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(p(231,s,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,s,o,a,c,d,h,g,_){var b=Array.prototype.slice.call(arguments,3);try{s.apply(o,b)}catch($){this.onError($)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,s,o,a,c,d,h,g,_){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,s,o,a,c,d,h,g,_){if(Tb.apply(this,arguments),Ob){if(Ob){var b=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=b)}}function Vb(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function Wb(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p(188))}function Yb(i){var s=i.alternate;if(!s){if(s=Vb(i),s===null)throw Error(p(188));return s!==i?null:i}for(var o=i,a=s;;){var c=o.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===o)return Xb(c),i;if(d===a)return Xb(c),s;d=d.sibling}throw Error(p(188))}if(o.return!==a.return)o=c,a=d;else{for(var h=!1,g=c.child;g;){if(g===o){h=!0,o=c,a=d;break}if(g===a){h=!0,a=c,o=d;break}g=g.sibling}if(!h){for(g=d.child;g;){if(g===o){h=!0,o=d,a=c;break}if(g===a){h=!0,a=d,o=c;break}g=g.sibling}if(!h)throw Error(p(189))}}if(o.alternate!==a)throw Error(p(190))}if(o.tag!==3)throw Error(p(188));return o.stateNode.current===o?i:s}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=$b(i);if(s!==null)return s;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,s){var o=i.pendingLanes;if(o===0)return 0;var a=0,c=i.suspendedLanes,d=i.pingedLanes,h=o&268435455;if(h!==0){var g=h&~c;g!==0?a=tc(g):(d&=h,d!==0&&(a=tc(d)))}else h=o&~c,h!==0?a=tc(h):d!==0&&(a=tc(d));if(a===0)return 0;if(s!==0&&s!==a&&!(s&c)&&(c=a&-a,d=s&-s,c>=d||c===16&&(d&4194240)!==0))return s;if(a&4&&(a|=o&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=a;0<s;)o=31-oc(s),c=1<<o,a|=i[o],s&=~c;return a}function vc(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,s){for(var o=i.suspendedLanes,a=i.pingedLanes,c=i.expirationTimes,d=i.pendingLanes;0<d;){var h=31-oc(d),g=1<<h,_=c[h];_===-1?(!(g&o)||g&a)&&(c[h]=vc(g,s)):_<=s&&(i.expiredLanes|=g),d&=~g}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ac(i,s,o){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-oc(s),i[s]=o}function Bc(i,s){var o=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var a=i.eventTimes;for(i=i.expirationTimes;0<o;){var c=31-oc(o),d=1<<c;s[c]=0,a[c]=-1,i[c]=-1,o&=~d}}function Cc(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var a=31-oc(o),c=1<<a;c&s|i[a]&s&&(i[a]|=s),o&=~c}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,s){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(i,s,o,a,c,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:o,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),i):(i.eventSystemFlags|=a,s=i.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),i)}function Uc(i,s,o,a,c){switch(s){case"focusin":return Lc=Tc(Lc,i,s,o,a,c),!0;case"dragenter":return Mc=Tc(Mc,i,s,o,a,c),!0;case"mouseover":return Nc=Tc(Nc,i,s,o,a,c),!0;case"pointerover":var d=c.pointerId;return Oc.set(d,Tc(Oc.get(d)||null,i,s,o,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Pc.set(d,Tc(Pc.get(d)||null,i,s,o,a,c)),!0}return!1}function Vc(i){var s=Wc(i.target);if(s!==null){var o=Vb(s);if(o!==null){if(s=o.tag,s===13){if(s=Wb(o),s!==null){i.blockedOn=s,Ic(i.priority,function(){Gc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Yc(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(o===null){o=i.nativeEvent;var a=new o.constructor(o.type,o);wb=a,o.target.dispatchEvent(a),wb=null}else return s=Cb(o),s!==null&&Fc(s),i.blockedOn=o,!1;s.shift()}return!0}function Zc(i,s,o){Xc(i)&&o.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,s){i.blockedOn===s&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function s(c){return ad(c,i)}if(0<Kc.length){ad(Kc[0],i);for(var o=1;o<Kc.length;o++){var a=Kc[o];a.blockedOn===i&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(s),Pc.forEach(s),o=0;o<Qc.length;o++)a=Qc[o],a.blockedOn===i&&(a.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,s,o,a){var c=C,d=cd.transition;cd.transition=null;try{C=1,fd(i,s,o,a)}finally{C=c,cd.transition=d}}function gd(i,s,o,a){var c=C,d=cd.transition;cd.transition=null;try{C=4,fd(i,s,o,a)}finally{C=c,cd.transition=d}}function fd(i,s,o,a){if(dd){var c=Yc(i,s,o,a);if(c===null)hd(i,s,a,id,o),Sc(i,a);else if(Uc(c,i,s,o,a))a.stopPropagation();else if(Sc(i,a),s&4&&-1<Rc.indexOf(i)){for(;c!==null;){var d=Cb(c);if(d!==null&&Ec(d),d=Yc(i,s,o,a),d===null&&hd(i,s,a,id,o),d===c)break;c=d}c!==null&&a.stopPropagation()}else hd(i,s,a,null,o)}}var id=null;function Yc(i,s,o,a){if(id=null,i=xb(a),i=Wc(i),i!==null)if(s=Vb(i),s===null)i=null;else if(o=s.tag,o===13){if(i=Wb(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,s=ld,o=s.length,a,c="value"in kd?kd.value:kd.textContent,d=c.length;for(i=0;i<o&&s[i]===c[i];i++);var h=o-i;for(a=1;a<=h&&s[o-a]===c[d-a];a++);return md=c.slice(i,1<a?1-a:void 0)}function od(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function s(o,a,c,d,h){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var g in i)i.hasOwnProperty(g)&&(o=i[g],this[g]=o?o(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Od[i])?!!s[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var s=Md[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae$1||be&&8<be&&11>=be),ee$1=" ",fe=!1;function ge(i,s){switch(i){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee$1);case"textInput":return i=s.data,i===ee$1&&fe?null:i;default:return null}}function ke(i,s){if(ie)return i==="compositionend"||!ae$1&&ge(i,s)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!le[i.type]:s==="textarea"}function ne$1(i,s,o,a){Eb(a),s=oe$1(s,"onChange"),0<s.length&&(o=new td("onChange","change",null,o,a),i.push({event:o,listeners:s}))}var pe=null,qe=null;function re$1(i){se$1(i,0)}function te$1(i){var s=ue(i);if(Wa(s))return i}function ve(i,s){if(i==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te$1(qe)){var s=[];ne$1(s,qe,i,xb(i)),Jb(re$1,s)}}function Ce(i,s,o){i==="focusin"?(Ae(),pe=s,qe=o,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te$1(qe)}function Ee(i,s){if(i==="click")return te$1(s)}function Fe(i,s){if(i==="input"||i==="change")return te$1(s)}function Ge(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,s){if(He(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),a=Object.keys(s);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!ja.call(s,c)||!He(i[c],s[c]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,s){var o=Je(i);i=0;for(var a;o;){if(o.nodeType===3){if(a=i+o.textContent.length,i<=s&&a>=s)return{node:o,offset:s-i};i=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je(o)}}function Le(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Le(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var i=window,s=Xa();s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Xa(i.document)}return s}function Ne(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Oe(i){var s=Me(),o=i.focusedElem,a=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Le(o.ownerDocument.documentElement,o)){if(a!==null&&Ne(o)){if(s=a.start,i=a.end,i===void 0&&(i=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(i,o.value.length);else if(i=(s=o.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var c=o.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!i.extend&&d>a&&(c=a,a=d,d=c),c=Ke(o,d);var h=Ke(o,a);c&&h&&(i.rangeCount!==1||i.anchorNode!==c.node||i.anchorOffset!==c.offset||i.focusNode!==h.node||i.focusOffset!==h.offset)&&(s=s.createRange(),s.setStart(c.node,c.offset),i.removeAllRanges(),d>a?(i.addRange(s),i.extend(h.node,h.offset)):(s.setEnd(h.node,h.offset),i.addRange(s)))}}for(s=[],i=o;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)i=s[o],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te$1=!1;function Ue(i,s,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te$1||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe$1(Re,"onSelect"),0<a.length&&(s=new td("onSelect","select",null,s,o),i.push({event:s,listeners:a}),s.target=Qe)))}function Ve(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var s=We[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ye)return Xe[i]=s[o];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,s){df.set(i,s),fa(s,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,s,o){var a=i.type||"unknown-event";i.currentTarget=o,Ub(a,s,void 0,i),i.currentTarget=null}function se$1(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var a=i[o],c=a.event;a=a.listeners;e:{var d=void 0;if(s)for(var h=a.length-1;0<=h;h--){var g=a[h],_=g.instance,b=g.currentTarget;if(g=g.listener,_!==d&&c.isPropagationStopped())break e;nf(c,g,b),d=_}else for(h=0;h<a.length;h++){if(g=a[h],_=g.instance,b=g.currentTarget,g=g.listener,_!==d&&c.isPropagationStopped())break e;nf(c,g,b),d=_}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D$1(i,s){var o=s[of];o===void 0&&(o=s[of]=new Set);var a=i+"__bubble";o.has(a)||(pf(s,i,2,!1),o.add(a))}function qf(i,s,o){var a=0;s&&(a|=4),pf(o,i,a,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,i),qf(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(i,s,o,a){switch(jd(s)){case 1:var c=ed;break;case 4:c=gd;break;default:c=fd}o=c.bind(null,s,o,i),c=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),a?c!==void 0?i.addEventListener(s,o,{capture:!0,passive:c}):i.addEventListener(s,o,!0):c!==void 0?i.addEventListener(s,o,{passive:c}):i.addEventListener(s,o,!1)}function hd(i,s,o,a,c){var d=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var h=a.tag;if(h===3||h===4){var g=a.stateNode.containerInfo;if(g===c||g.nodeType===8&&g.parentNode===c)break;if(h===4)for(h=a.return;h!==null;){var _=h.tag;if((_===3||_===4)&&(_=h.stateNode.containerInfo,_===c||_.nodeType===8&&_.parentNode===c))return;h=h.return}for(;g!==null;){if(h=Wc(g),h===null)return;if(_=h.tag,_===5||_===6){a=d=h;continue e}g=g.parentNode}}a=a.return}Jb(function(){var b=d,$=xb(o),et=[];e:{var _e=df.get(i);if(_e!==void 0){var tt=td,it=i;switch(i){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":tt=Rd;break;case"focusin":it="focus",tt=Fd;break;case"focusout":it="blur",tt=Fd;break;case"beforeblur":case"afterblur":tt=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Vd;break;case $e:case af:case bf:tt=Hd;break;case cf:tt=Xd;break;case"scroll":tt=vd;break;case"wheel":tt=Zd;break;case"copy":case"cut":case"paste":tt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Td}var st=(s&4)!==0,lt=!st&&i==="scroll",nt=st?_e!==null?_e+"Capture":null:_e;st=[];for(var rt=b,pt;rt!==null;){pt=rt;var gt=pt.stateNode;if(pt.tag===5&&gt!==null&&(pt=gt,nt!==null&&(gt=Kb(rt,nt),gt!=null&&st.push(tf(rt,gt,pt)))),lt)break;rt=rt.return}0<st.length&&(_e=new tt(_e,it,null,o,$),et.push({event:_e,listeners:st}))}}if(!(s&7)){e:{if(_e=i==="mouseover"||i==="pointerover",tt=i==="mouseout"||i==="pointerout",_e&&o!==wb&&(it=o.relatedTarget||o.fromElement)&&(Wc(it)||it[uf]))break e;if((tt||_e)&&(_e=$.window===$?$:(_e=$.ownerDocument)?_e.defaultView||_e.parentWindow:window,tt?(it=o.relatedTarget||o.toElement,tt=b,it=it?Wc(it):null,it!==null&&(lt=Vb(it),it!==lt||it.tag!==5&&it.tag!==6)&&(it=null)):(tt=null,it=b),tt!==it)){if(st=Bd,gt="onMouseLeave",nt="onMouseEnter",rt="mouse",(i==="pointerout"||i==="pointerover")&&(st=Td,gt="onPointerLeave",nt="onPointerEnter",rt="pointer"),lt=tt==null?_e:ue(tt),pt=it==null?_e:ue(it),_e=new st(gt,rt+"leave",tt,o,$),_e.target=lt,_e.relatedTarget=pt,gt=null,Wc($)===b&&(st=new st(nt,rt+"enter",it,o,$),st.target=pt,st.relatedTarget=lt,gt=st),lt=gt,tt&&it)t:{for(st=tt,nt=it,rt=0,pt=st;pt;pt=vf(pt))rt++;for(pt=0,gt=nt;gt;gt=vf(gt))pt++;for(;0<rt-pt;)st=vf(st),rt--;for(;0<pt-rt;)nt=vf(nt),pt--;for(;rt--;){if(st===nt||nt!==null&&st===nt.alternate)break t;st=vf(st),nt=vf(nt)}st=null}else st=null;tt!==null&&wf(et,_e,tt,st,!1),it!==null&&lt!==null&&wf(et,lt,it,st,!0)}}e:{if(_e=b?ue(b):window,tt=_e.nodeName&&_e.nodeName.toLowerCase(),tt==="select"||tt==="input"&&_e.type==="file")var ht=ve;else if(me(_e))if(we)ht=Fe;else{ht=De;var dt=Ce}else(tt=_e.nodeName)&&tt.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(ht=Ee);if(ht&&(ht=ht(i,b))){ne$1(et,ht,o,$);break e}dt&&dt(i,_e,b),i==="focusout"&&(dt=_e._wrapperState)&&dt.controlled&&_e.type==="number"&&cb(_e,"number",_e.value)}switch(dt=b?ue(b):window,i){case"focusin":(me(dt)||dt.contentEditable==="true")&&(Qe=dt,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(et,o,$);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(et,o,$)}var mt;if(ae$1)e:{switch(i){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else ie?ge(i,o)&&(yt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(yt="onCompositionStart");yt&&(de&&o.locale!=="ko"&&(ie||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&ie&&(mt=nd()):(kd=$,ld="value"in kd?kd.value:kd.textContent,ie=!0)),dt=oe$1(b,yt),0<dt.length&&(yt=new Ld(yt,i,null,o,$),et.push({event:yt,listeners:dt}),mt?yt.data=mt:(mt=he(o),mt!==null&&(yt.data=mt)))),(mt=ce?je(i,o):ke(i,o))&&(b=oe$1(b,"onBeforeInput"),0<b.length&&($=new Ld("onBeforeInput","beforeinput",null,o,$),et.push({event:$,listeners:b}),$.data=mt))}se$1(et,s)})}function tf(i,s,o){return{instance:i,listener:s,currentTarget:o}}function oe$1(i,s){for(var o=s+"Capture",a=[];i!==null;){var c=i,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Kb(i,o),d!=null&&a.unshift(tf(i,d,c)),d=Kb(i,s),d!=null&&a.push(tf(i,d,c))),i=i.return}return a}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,s,o,a,c){for(var d=s._reactName,h=[];o!==null&&o!==a;){var g=o,_=g.alternate,b=g.stateNode;if(_!==null&&_===a)break;g.tag===5&&b!==null&&(g=b,c?(_=Kb(o,d),_!=null&&h.unshift(tf(o,_,g))):c||(_=Kb(o,d),_!=null&&h.push(tf(o,_,g)))),o=o.return}h.length!==0&&i.push({event:s,listeners:h})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,s,o){if(s=zf(s),zf(i)!==s&&o)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,s){var o=s,a=0;do{var c=o.nextSibling;if(i.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){i.removeChild(c),bd(s);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);bd(s)}function Lf(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var s=i[Of];if(s)return s;for(var o=i.parentNode;o;){if(s=o[uf]||o[Of]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Mf(i);i!==null;){if(o=i[Of])return o;i=Mf(i)}return s}i=o,o=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E$1(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,s){Tf++,Sf[Tf]=i.current,i.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,s){var o=i.type.contextTypes;if(!o)return Vf;var a=i.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in o)c[d]=s[d];return a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=c),c}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E$1(Wf),E$1(H)}function ag(i,s,o){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,o)}function bg(i,s,o){var a=i.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in s))throw Error(p(108,Ra(i)||"Unknown",c));return A({},o,a)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,s,o){var a=i.stateNode;if(!a)throw Error(p(169));o?(i=bg(i,s,Xf),a.__reactInternalMemoizedMergedChildContext=i,E$1(Wf),E$1(H),G(H,i)):E$1(Wf),G(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,s=C;try{var o=eg;for(C=1;i<o.length;i++){var a=o[i];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(c){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),c}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,s){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=s}function ug(i,s,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var a=rg;i=sg;var c=32-oc(a)-1;a&=~(1<<c),o+=1;var d=32-oc(s)+c;if(30<d){var h=c-c%5;d=(a&(1<<h)-1).toString(32),a>>=h,c-=h,rg=1<<32-oc(s)+c|o<<c|a,sg=d+i}else rg=1<<d|o<<c|a,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,s){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=i,s=i.deletions,s===null?(i.deletions=[o],i.flags|=16):s.push(o)}function Cg(i,s){switch(i.tag){case 5:var o=i.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xg=i,yg=Lf(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xg=i,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=s,o.return=i,i.child=o,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var s=yg;if(s){var o=s;if(!Cg(i,s)){if(Dg(i))throw Error(p(418));s=Lf(o.nextSibling);var a=xg;s&&Cg(i,s)?Ag(a,o):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ef(i.type,i.memoizedProps)),s&&(s=yg)){if(Dg(i))throw Hg(),Error(p(418));for(;s;)Ag(i,s),s=Lf(s.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"){if(s===0){yg=Lf(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,s,o){if(i=o.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p(309));var a=o.stateNode}if(!a)throw Error(p(147,i));var c=a,d=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===d?s.ref:(s=function(h){var g=c.refs;h===null?delete g[d]:g[d]=h},s._stringRef=d,s)}if(typeof i!="string")throw Error(p(284));if(!o._owner)throw Error(p(290,i))}return i}function Mg(i,s){throw i=Object.prototype.toString.call(s),Error(p(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Ng(i){var s=i._init;return s(i._payload)}function Og(i){function s(nt,rt){if(i){var pt=nt.deletions;pt===null?(nt.deletions=[rt],nt.flags|=16):pt.push(rt)}}function o(nt,rt){if(!i)return null;for(;rt!==null;)s(nt,rt),rt=rt.sibling;return null}function a(nt,rt){for(nt=new Map;rt!==null;)rt.key!==null?nt.set(rt.key,rt):nt.set(rt.index,rt),rt=rt.sibling;return nt}function c(nt,rt){return nt=Pg(nt,rt),nt.index=0,nt.sibling=null,nt}function d(nt,rt,pt){return nt.index=pt,i?(pt=nt.alternate,pt!==null?(pt=pt.index,pt<rt?(nt.flags|=2,rt):pt):(nt.flags|=2,rt)):(nt.flags|=1048576,rt)}function h(nt){return i&&nt.alternate===null&&(nt.flags|=2),nt}function g(nt,rt,pt,gt){return rt===null||rt.tag!==6?(rt=Qg(pt,nt.mode,gt),rt.return=nt,rt):(rt=c(rt,pt),rt.return=nt,rt)}function _(nt,rt,pt,gt){var ht=pt.type;return ht===ya?$(nt,rt,pt.props.children,gt,pt.key):rt!==null&&(rt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ha&&Ng(ht)===rt.type)?(gt=c(rt,pt.props),gt.ref=Lg(nt,rt,pt),gt.return=nt,gt):(gt=Rg(pt.type,pt.key,pt.props,null,nt.mode,gt),gt.ref=Lg(nt,rt,pt),gt.return=nt,gt)}function b(nt,rt,pt,gt){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==pt.containerInfo||rt.stateNode.implementation!==pt.implementation?(rt=Sg(pt,nt.mode,gt),rt.return=nt,rt):(rt=c(rt,pt.children||[]),rt.return=nt,rt)}function $(nt,rt,pt,gt,ht){return rt===null||rt.tag!==7?(rt=Tg(pt,nt.mode,gt,ht),rt.return=nt,rt):(rt=c(rt,pt),rt.return=nt,rt)}function et(nt,rt,pt){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return rt=Qg(""+rt,nt.mode,pt),rt.return=nt,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case va:return pt=Rg(rt.type,rt.key,rt.props,null,nt.mode,pt),pt.ref=Lg(nt,null,rt),pt.return=nt,pt;case wa:return rt=Sg(rt,nt.mode,pt),rt.return=nt,rt;case Ha:var gt=rt._init;return et(nt,gt(rt._payload),pt)}if(eb(rt)||Ka(rt))return rt=Tg(rt,nt.mode,pt,null),rt.return=nt,rt;Mg(nt,rt)}return null}function _e(nt,rt,pt,gt){var ht=rt!==null?rt.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return ht!==null?null:g(nt,rt,""+pt,gt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return pt.key===ht?_(nt,rt,pt,gt):null;case wa:return pt.key===ht?b(nt,rt,pt,gt):null;case Ha:return ht=pt._init,_e(nt,rt,ht(pt._payload),gt)}if(eb(pt)||Ka(pt))return ht!==null?null:$(nt,rt,pt,gt,null);Mg(nt,pt)}return null}function tt(nt,rt,pt,gt,ht){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return nt=nt.get(pt)||null,g(rt,nt,""+gt,ht);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return nt=nt.get(gt.key===null?pt:gt.key)||null,_(rt,nt,gt,ht);case wa:return nt=nt.get(gt.key===null?pt:gt.key)||null,b(rt,nt,gt,ht);case Ha:var dt=gt._init;return tt(nt,rt,pt,dt(gt._payload),ht)}if(eb(gt)||Ka(gt))return nt=nt.get(pt)||null,$(rt,nt,gt,ht,null);Mg(rt,gt)}return null}function it(nt,rt,pt,gt){for(var ht=null,dt=null,mt=rt,yt=rt=0,xt=null;mt!==null&&yt<pt.length;yt++){mt.index>yt?(xt=mt,mt=null):xt=mt.sibling;var Et=_e(nt,mt,pt[yt],gt);if(Et===null){mt===null&&(mt=xt);break}i&&mt&&Et.alternate===null&&s(nt,mt),rt=d(Et,rt,yt),dt===null?ht=Et:dt.sibling=Et,dt=Et,mt=xt}if(yt===pt.length)return o(nt,mt),I&&tg(nt,yt),ht;if(mt===null){for(;yt<pt.length;yt++)mt=et(nt,pt[yt],gt),mt!==null&&(rt=d(mt,rt,yt),dt===null?ht=mt:dt.sibling=mt,dt=mt);return I&&tg(nt,yt),ht}for(mt=a(nt,mt);yt<pt.length;yt++)xt=tt(mt,nt,yt,pt[yt],gt),xt!==null&&(i&&xt.alternate!==null&&mt.delete(xt.key===null?yt:xt.key),rt=d(xt,rt,yt),dt===null?ht=xt:dt.sibling=xt,dt=xt);return i&&mt.forEach(function(vt){return s(nt,vt)}),I&&tg(nt,yt),ht}function st(nt,rt,pt,gt){var ht=Ka(pt);if(typeof ht!="function")throw Error(p(150));if(pt=ht.call(pt),pt==null)throw Error(p(151));for(var dt=ht=null,mt=rt,yt=rt=0,xt=null,Et=pt.next();mt!==null&&!Et.done;yt++,Et=pt.next()){mt.index>yt?(xt=mt,mt=null):xt=mt.sibling;var vt=_e(nt,mt,Et.value,gt);if(vt===null){mt===null&&(mt=xt);break}i&&mt&&vt.alternate===null&&s(nt,mt),rt=d(vt,rt,yt),dt===null?ht=vt:dt.sibling=vt,dt=vt,mt=xt}if(Et.done)return o(nt,mt),I&&tg(nt,yt),ht;if(mt===null){for(;!Et.done;yt++,Et=pt.next())Et=et(nt,Et.value,gt),Et!==null&&(rt=d(Et,rt,yt),dt===null?ht=Et:dt.sibling=Et,dt=Et);return I&&tg(nt,yt),ht}for(mt=a(nt,mt);!Et.done;yt++,Et=pt.next())Et=tt(mt,nt,yt,Et.value,gt),Et!==null&&(i&&Et.alternate!==null&&mt.delete(Et.key===null?yt:Et.key),rt=d(Et,rt,yt),dt===null?ht=Et:dt.sibling=Et,dt=Et);return i&&mt.forEach(function(St){return s(nt,St)}),I&&tg(nt,yt),ht}function lt(nt,rt,pt,gt){if(typeof pt=="object"&&pt!==null&&pt.type===ya&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:e:{for(var ht=pt.key,dt=rt;dt!==null;){if(dt.key===ht){if(ht=pt.type,ht===ya){if(dt.tag===7){o(nt,dt.sibling),rt=c(dt,pt.props.children),rt.return=nt,nt=rt;break e}}else if(dt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ha&&Ng(ht)===dt.type){o(nt,dt.sibling),rt=c(dt,pt.props),rt.ref=Lg(nt,dt,pt),rt.return=nt,nt=rt;break e}o(nt,dt);break}else s(nt,dt);dt=dt.sibling}pt.type===ya?(rt=Tg(pt.props.children,nt.mode,gt,pt.key),rt.return=nt,nt=rt):(gt=Rg(pt.type,pt.key,pt.props,null,nt.mode,gt),gt.ref=Lg(nt,rt,pt),gt.return=nt,nt=gt)}return h(nt);case wa:e:{for(dt=pt.key;rt!==null;){if(rt.key===dt)if(rt.tag===4&&rt.stateNode.containerInfo===pt.containerInfo&&rt.stateNode.implementation===pt.implementation){o(nt,rt.sibling),rt=c(rt,pt.children||[]),rt.return=nt,nt=rt;break e}else{o(nt,rt);break}else s(nt,rt);rt=rt.sibling}rt=Sg(pt,nt.mode,gt),rt.return=nt,nt=rt}return h(nt);case Ha:return dt=pt._init,lt(nt,rt,dt(pt._payload),gt)}if(eb(pt))return it(nt,rt,pt,gt);if(Ka(pt))return st(nt,rt,pt,gt);Mg(nt,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,rt!==null&&rt.tag===6?(o(nt,rt.sibling),rt=c(rt,pt),rt.return=nt,nt=rt):(o(nt,rt),rt=Qg(pt,nt.mode,gt),rt.return=nt,nt=rt),h(nt)):o(nt,rt)}return lt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var s=Wg.current;E$1(Wg),i._currentValue=s}function bh(i,s,o){for(;i!==null;){var a=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),i===o)break;i=i.return}}function ch(i,s){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(dh=!0),i.firstContext=null)}function eh(i){var s=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return s}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,s,o,a){var c=s.interleaved;return c===null?(o.next=o,gh(s)):(o.next=c.next,c.next=o),s.interleaved=o,ih(i,a)}function ih(i,s){i.lanes|=s;var o=i.alternate;for(o!==null&&(o.lanes|=s),o=i,i=i.return;i!==null;)i.childLanes|=s,o=i.alternate,o!==null&&(o.childLanes|=s),o=i,i=i.return;return o.tag===3?o.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(i,s,o){var a=i.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var c=a.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s,ih(i,o)}return c=a.interleaved,c===null?(s.next=s,gh(a)):(s.next=c.next,c.next=s),a.interleaved=s,ih(i,o)}function oh(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}function ph(i,s){var o=i.updateQueue,a=i.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var h={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};d===null?c=d=h:d=d.next=h,o=o.next}while(o!==null);d===null?c=d=s:d=d.next=s}else c=d=s;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}function qh(i,s,o,a){var c=i.updateQueue;jh=!1;var d=c.firstBaseUpdate,h=c.lastBaseUpdate,g=c.shared.pending;if(g!==null){c.shared.pending=null;var _=g,b=_.next;_.next=null,h===null?d=b:h.next=b,h=_;var $=i.alternate;$!==null&&($=$.updateQueue,g=$.lastBaseUpdate,g!==h&&(g===null?$.firstBaseUpdate=b:g.next=b,$.lastBaseUpdate=_))}if(d!==null){var et=c.baseState;h=0,$=b=_=null,g=d;do{var _e=g.lane,tt=g.eventTime;if((a&_e)===_e){$!==null&&($=$.next={eventTime:tt,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var it=i,st=g;switch(_e=s,tt=o,st.tag){case 1:if(it=st.payload,typeof it=="function"){et=it.call(tt,et,_e);break e}et=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=st.payload,_e=typeof it=="function"?it.call(tt,et,_e):it,_e==null)break e;et=A({},et,_e);break e;case 2:jh=!0}}g.callback!==null&&g.lane!==0&&(i.flags|=64,_e=c.effects,_e===null?c.effects=[g]:_e.push(g))}else tt={eventTime:tt,lane:_e,tag:g.tag,payload:g.payload,callback:g.callback,next:null},$===null?(b=$=tt,_=et):$=$.next=tt,h|=_e;if(g=g.next,g===null){if(g=c.shared.pending,g===null)break;_e=g,g=_e.next,_e.next=null,c.lastBaseUpdate=_e,c.shared.pending=null}}while(!0);if($===null&&(_=et),c.baseState=_,c.firstBaseUpdate=b,c.lastBaseUpdate=$,s=c.shared.interleaved,s!==null){c=s;do h|=c.lane,c=c.next;while(c!==s)}else d===null&&(c.shared.lanes=0);rh|=h,i.lanes=h,i.memoizedState=et}}function sh(i,s,o){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var a=i[s],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(p(191,c));c.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p(174));return i}function yh(i,s){switch(G(wh,s),G(vh,i),G(uh,th),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=lb(s,i)}E$1(uh),G(uh,s)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(i){xh(wh.current);var s=xh(uh.current),o=lb(s,i.type);s!==o&&(G(vh,i),G(uh,o))}function Bh(i){vh.current===i&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p(321))}function Mh(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!He(i[o],s[o]))return!1;return!0}function Nh(i,s,o,a,c,d){if(Hh=d,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=o(a,c),Jh){d=0;do{if(Jh=!1,Kh=0,25<=d)throw Error(p(301));d+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,i=o(a,c)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=i;else{if(i===null)throw Error(p(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,s){return typeof s=="function"?s(i):s}function Wh(i){var s=Uh(),o=s.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=i;var a=N,c=a.baseQueue,d=o.pending;if(d!==null){if(c!==null){var h=c.next;c.next=d.next,d.next=h}a.baseQueue=c=d,o.pending=null}if(c!==null){d=c.next,a=a.baseState;var g=h=null,_=null,b=d;do{var $=b.lane;if((Hh&$)===$)_!==null&&(_=_.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),a=b.hasEagerState?b.eagerState:i(a,b.action);else{var et={lane:$,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};_===null?(g=_=et,h=a):_=_.next=et,M.lanes|=$,rh|=$}b=b.next}while(b!==null&&b!==d);_===null?h=a:_.next=g,He(a,s.memoizedState)||(dh=!0),s.memoizedState=a,s.baseState=h,s.baseQueue=_,o.lastRenderedState=a}if(i=o.interleaved,i!==null){c=i;do d=c.lane,M.lanes|=d,rh|=d,c=c.next;while(c!==i)}else c===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Xh(i){var s=Uh(),o=s.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=i;var a=o.dispatch,c=o.pending,d=s.memoizedState;if(c!==null){o.pending=null;var h=c=c.next;do d=i(d,h.action),h=h.next;while(h!==c);He(d,s.memoizedState)||(dh=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),o.lastRenderedState=d}return[d,a]}function Yh(){}function Zh(i,s){var o=M,a=Uh(),c=s(),d=!He(a.memoizedState,c);if(d&&(a.memoizedState=c,dh=!0),a=a.queue,$h(ai.bind(null,o,a,i),[i]),a.getSnapshot!==s||d||O!==null&&O.memoizedState.tag&1){if(o.flags|=2048,bi(9,ci.bind(null,o,a,c,s),void 0,null),Q===null)throw Error(p(349));Hh&30||di(o,s,c)}return c}function di(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function ci(i,s,o,a){s.value=o,s.getSnapshot=a,ei(s)&&fi(i)}function ai(i,s,o){return o(function(){ei(s)&&fi(i)})}function ei(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!He(i,o)}catch{return!0}}function fi(i){var s=ih(i,1);s!==null&&gi(s,i,1,-1)}function hi(i){var s=Th();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},s.queue=i,i=i.dispatch=ii.bind(null,M,i),[s.memoizedState,i]}function bi(i,s,o,a){return i={tag:i,create:s,destroy:o,deps:a,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=i.next=i):(o=s.lastEffect,o===null?s.lastEffect=i.next=i:(a=o.next,o.next=i,i.next=a,s.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,s,o,a){var c=Th();M.flags|=i,c.memoizedState=bi(1|s,o,void 0,a===void 0?null:a)}function li(i,s,o,a){var c=Uh();a=a===void 0?null:a;var d=void 0;if(N!==null){var h=N.memoizedState;if(d=h.destroy,a!==null&&Mh(a,h.deps)){c.memoizedState=bi(s,o,d,a);return}}M.flags|=i,c.memoizedState=bi(1|s,o,d,a)}function mi(i,s){return ki(8390656,8,i,s)}function $h(i,s){return li(2048,8,i,s)}function ni(i,s){return li(4,2,i,s)}function oi(i,s){return li(4,4,i,s)}function pi(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function qi(i,s,o){return o=o!=null?o.concat([i]):null,li(4,4,pi.bind(null,s,i),o)}function ri(){}function si(i,s){var o=Uh();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(o.memoizedState=[i,s],i)}function ti(i,s){var o=Uh();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(i=i(),o.memoizedState=[i,s],i)}function ui(i,s,o){return Hh&21?(He(o,s)||(o=yc(),M.lanes|=o,rh|=o,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=o)}function vi(i,s){var o=C;C=o!==0&&4>o?o:4,i(!0);var a=Gh.transition;Gh.transition={};try{i(!1),s()}finally{C=o,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(i,s,o){var a=yi(i);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(s,o);else if(o=hh(i,s,o,a),o!==null){var c=R();gi(o,i,a,c),Bi(o,s,a)}}function ii(i,s,o){var a=yi(i),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(s,c);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var h=s.lastRenderedState,g=d(h,o);if(c.hasEagerState=!0,c.eagerState=g,He(g,h)){var _=s.interleaved;_===null?(c.next=c,gh(s)):(c.next=_.next,_.next=c),s.interleaved=c;return}}catch{}finally{}o=hh(i,s,c,a),o!==null&&(c=R(),gi(o,i,a,c),Bi(o,s,a))}}function zi(i){var s=i.alternate;return i===M||s!==null&&s===M}function Ai(i,s){Jh=Ih=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Bi(i,s,o){if(o&4194240){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,s){return Th().memoizedState=[i,s===void 0?null:s],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,s,o){return o=o!=null?o.concat([i]):null,ki(4194308,4,pi.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ki(4194308,4,i,s)},useInsertionEffect:function(i,s){return ki(4,2,i,s)},useMemo:function(i,s){var o=Th();return s=s===void 0?null:s,i=i(),o.memoizedState=[i,s],i},useReducer:function(i,s,o){var a=Th();return s=o!==void 0?o(s):s,a.memoizedState=a.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},a.queue=i,i=i.dispatch=xi.bind(null,M,i),[a.memoizedState,i]},useRef:function(i){var s=Th();return i={current:i},s.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),s=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,o){var a=M,c=Th();if(I){if(o===void 0)throw Error(p(407));o=o()}else{if(o=s(),Q===null)throw Error(p(349));Hh&30||di(a,s,o)}c.memoizedState=o;var d={value:o,getSnapshot:s};return c.queue=d,mi(ai.bind(null,a,d,i),[i]),a.flags|=2048,bi(9,ci.bind(null,a,d,o,s),void 0,null),o},useId:function(){var i=Th(),s=Q.identifierPrefix;if(I){var o=sg,a=rg;o=(a&~(1<<32-oc(a)-1)).toString(32)+o,s=":"+s+"R"+o,o=Kh++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Lh++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return ui(s,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return N===null?s.memoizedState=i:ui(s,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,s){if(i&&i.defaultProps){s=A({},s),i=i.defaultProps;for(var o in i)s[o]===void 0&&(s[o]=i[o]);return s}return s}function Di(i,s,o,a){s=i.memoizedState,o=o(a,s),o=o==null?s:A({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var a=R(),c=yi(i),d=mh(a,c);d.payload=s,o!=null&&(d.callback=o),s=nh(i,d,c),s!==null&&(gi(s,i,c,a),oh(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var a=R(),c=yi(i),d=mh(a,c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=nh(i,d,c),s!==null&&(gi(s,i,c,a),oh(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=R(),a=yi(i),c=mh(o,a);c.tag=2,s!=null&&(c.callback=s),s=nh(i,c,a),s!==null&&(gi(s,i,a,o),oh(s,i,a))}};function Fi(i,s,o,a,c,d,h){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(a,d,h):s.prototype&&s.prototype.isPureReactComponent?!Ie(o,a)||!Ie(c,d):!0}function Gi(i,s,o){var a=!1,c=Vf,d=s.contextType;return typeof d=="object"&&d!==null?d=eh(d):(c=Zf(s)?Xf:H.current,a=s.contextTypes,d=(a=a!=null)?Yf(i,c):Vf),s=new s(o,d),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,i.stateNode=s,s._reactInternals=i,a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=c,i.__reactInternalMemoizedMaskedChildContext=d),s}function Hi(i,s,o,a){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,a),s.state!==i&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(i,s,o,a){var c=i.stateNode;c.props=o,c.state=i.memoizedState,c.refs={},kh(i);var d=s.contextType;typeof d=="object"&&d!==null?c.context=eh(d):(d=Zf(s)?Xf:H.current,c.context=Yf(i,d)),c.state=i.memoizedState,d=s.getDerivedStateFromProps,typeof d=="function"&&(Di(i,s,d,o),c.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(s=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),s!==c.state&&Ei.enqueueReplaceState(c,c.state,null),qh(i,o,c,a),c.state=i.memoizedState),typeof c.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,s){try{var o="",a=s;do o+=Pa(a),a=a.return;while(a);var c=o}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:i,source:s,stack:c,digest:null}}function Ki(i,s,o){return{value:i,source:null,stack:o??null,digest:s??null}}function Li(i,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,s,o){o=mh(-1,o),o.tag=3,o.payload={element:null};var a=s.value;return o.callback=function(){Oi||(Oi=!0,Pi=a),Li(i,s)},o}function Qi(i,s,o){o=mh(-1,o),o.tag=3;var a=i.type.getDerivedStateFromError;if(typeof a=="function"){var c=s.value;o.payload=function(){return a(c)},o.callback=function(){Li(i,s)}}var d=i.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(o.callback=function(){Li(i,s),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var h=s.stack;this.componentDidCatch(s.value,{componentStack:h!==null?h:""})}),o}function Si(i,s,o){var a=i.pingCache;if(a===null){a=i.pingCache=new Mi;var c=new Set;a.set(s,c)}else c=a.get(s),c===void 0&&(c=new Set,a.set(s,c));c.has(o)||(c.add(o),i=Ti.bind(null,i,s,o),s.then(i,i))}function Ui(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Vi(i,s,o,a,c){return i.mode&1?(i.flags|=65536,i.lanes=c,i):(i===s?i.flags|=65536:(i.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=mh(-1,1),s.tag=2,nh(o,s,1))),o.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,s,o,a){s.child=i===null?Vg(s,null,o,a):Ug(s,i.child,o,a)}function Yi(i,s,o,a,c){o=o.render;var d=s.ref;return ch(s,c),a=Nh(i,s,o,a,d,c),o=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c,Zi(i,s,c)):(I&&o&&vg(s),s.flags|=1,Xi(i,s,a,c),s.child)}function $i(i,s,o,a,c){if(i===null){var d=o.type;return typeof d=="function"&&!aj(d)&&d.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=d,bj(i,s,d,a,c)):(i=Rg(o.type,null,a,s,s.mode,c),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!(i.lanes&c)){var h=d.memoizedProps;if(o=o.compare,o=o!==null?o:Ie,o(h,a)&&i.ref===s.ref)return Zi(i,s,c)}return s.flags|=1,i=Pg(d,a),i.ref=s.ref,i.return=s,s.child=i}function bj(i,s,o,a,c){if(i!==null){var d=i.memoizedProps;if(Ie(d,a)&&i.ref===s.ref)if(dh=!1,s.pendingProps=a=d,(i.lanes&c)!==0)i.flags&131072&&(dh=!0);else return s.lanes=i.lanes,Zi(i,s,c)}return cj(i,s,o,a,c)}function dj(i,s,o){var a=s.pendingProps,c=a.children,d=i!==null?i.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=o;else{if(!(o&1073741824))return i=d!==null?d.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:o,G(ej,fj),fj|=a}else d!==null?(a=d.baseLanes|o,s.memoizedState=null):a=o,G(ej,fj),fj|=a;return Xi(i,s,c,o),s.child}function gj(i,s){var o=s.ref;(i===null&&o!==null||i!==null&&i.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function cj(i,s,o,a,c){var d=Zf(o)?Xf:H.current;return d=Yf(s,d),ch(s,c),o=Nh(i,s,o,a,d,c),a=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c,Zi(i,s,c)):(I&&a&&vg(s),s.flags|=1,Xi(i,s,o,c),s.child)}function hj(i,s,o,a,c){if(Zf(o)){var d=!0;cg(s)}else d=!1;if(ch(s,c),s.stateNode===null)ij(i,s),Gi(s,o,a),Ii(s,o,a,c),a=!0;else if(i===null){var h=s.stateNode,g=s.memoizedProps;h.props=g;var _=h.context,b=o.contextType;typeof b=="object"&&b!==null?b=eh(b):(b=Zf(o)?Xf:H.current,b=Yf(s,b));var $=o.getDerivedStateFromProps,et=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function";et||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==a||_!==b)&&Hi(s,h,a,b),jh=!1;var _e=s.memoizedState;h.state=_e,qh(s,a,h,c),_=s.memoizedState,g!==a||_e!==_||Wf.current||jh?(typeof $=="function"&&(Di(s,o,$,a),_=s.memoizedState),(g=jh||Fi(s,o,g,a,_e,_,b))?(et||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=_),h.props=a,h.state=_,h.context=b,a=g):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{h=s.stateNode,lh(i,s),g=s.memoizedProps,b=s.type===s.elementType?g:Ci(s.type,g),h.props=b,et=s.pendingProps,_e=h.context,_=o.contextType,typeof _=="object"&&_!==null?_=eh(_):(_=Zf(o)?Xf:H.current,_=Yf(s,_));var tt=o.getDerivedStateFromProps;($=typeof tt=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==et||_e!==_)&&Hi(s,h,a,_),jh=!1,_e=s.memoizedState,h.state=_e,qh(s,a,h,c);var it=s.memoizedState;g!==et||_e!==it||Wf.current||jh?(typeof tt=="function"&&(Di(s,o,tt,a),it=s.memoizedState),(b=jh||Fi(s,o,b,a,_e,it,_)||!1)?($||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,it,_),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,it,_)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===i.memoizedProps&&_e===i.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===i.memoizedProps&&_e===i.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=it),h.props=a,h.state=it,h.context=_,a=b):(typeof h.componentDidUpdate!="function"||g===i.memoizedProps&&_e===i.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===i.memoizedProps&&_e===i.memoizedState||(s.flags|=1024),a=!1)}return jj(i,s,o,a,d,c)}function jj(i,s,o,a,c,d){gj(i,s);var h=(s.flags&128)!==0;if(!a&&!h)return c&&dg(s,o,!1),Zi(i,s,d);a=s.stateNode,Wi.current=s;var g=h&&typeof o.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,i!==null&&h?(s.child=Ug(s,i.child,null,d),s.child=Ug(s,null,g,d)):Xi(i,s,g,d),s.memoizedState=a.state,c&&dg(s,o,!0),s.child}function kj(i){var s=i.stateNode;s.pendingContext?ag(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(i,s.context,!1),yh(i,s.containerInfo)}function lj(i,s,o,a,c){return Ig(),Jg(c),s.flags|=256,Xi(i,s,o,a),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,s,o){var a=s.pendingProps,c=L$1.current,d=!1,h=(s.flags&128)!==0,g;if((g=h)||(g=i!==null&&i.memoizedState===null?!1:(c&2)!==0),g?(d=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(c|=1),G(L$1,c&1),i===null)return Eg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(h=a.children,i=a.fallback,d?(a=s.mode,d=s.child,h={mode:"hidden",children:h},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=h):d=pj(h,a,0,null),i=Tg(i,a,o,null),d.return=s,i.return=s,d.sibling=i,s.child=d,s.child.memoizedState=nj(o),s.memoizedState=mj,i):qj(s,h));if(c=i.memoizedState,c!==null&&(g=c.dehydrated,g!==null))return rj(i,s,h,a,g,c,o);if(d){d=a.fallback,h=s.mode,c=i.child,g=c.sibling;var _={mode:"hidden",children:a.children};return!(h&1)&&s.child!==c?(a=s.child,a.childLanes=0,a.pendingProps=_,s.deletions=null):(a=Pg(c,_),a.subtreeFlags=c.subtreeFlags&14680064),g!==null?d=Pg(g,d):(d=Tg(d,h,o,null),d.flags|=2),d.return=s,a.return=s,a.sibling=d,s.child=a,a=d,d=s.child,h=i.child.memoizedState,h=h===null?nj(o):{baseLanes:h.baseLanes|o,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=i.childLanes&~o,s.memoizedState=mj,a}return d=i.child,i=d.sibling,a=Pg(d,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=o),a.return=s,a.sibling=null,i!==null&&(o=s.deletions,o===null?(s.deletions=[i],s.flags|=16):o.push(i)),s.child=a,s.memoizedState=null,a}function qj(i,s){return s=pj({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function sj(i,s,o,a){return a!==null&&Jg(a),Ug(s,i.child,null,o),i=qj(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function rj(i,s,o,a,c,d,h){if(o)return s.flags&256?(s.flags&=-257,a=Ki(Error(p(422))),sj(i,s,h,a)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(d=a.fallback,c=s.mode,a=pj({mode:"visible",children:a.children},c,0,null),d=Tg(d,c,h,null),d.flags|=2,a.return=s,d.return=s,a.sibling=d,s.child=a,s.mode&1&&Ug(s,i.child,null,h),s.child.memoizedState=nj(h),s.memoizedState=mj,d);if(!(s.mode&1))return sj(i,s,h,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var g=a.dgst;return a=g,d=Error(p(419)),a=Ki(d,a,void 0),sj(i,s,h,a)}if(g=(h&i.childLanes)!==0,dh||g){if(a=Q,a!==null){switch(h&-h){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|h)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,ih(i,c),gi(a,i,c,-1))}return tj(),a=Ki(Error(p(421))),sj(i,s,h,a)}return c.data==="$?"?(s.flags|=128,s.child=i.child,s=uj.bind(null,i),c._reactRetry=s,null):(i=d.treeContext,yg=Lf(c.nextSibling),xg=s,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=s),s=qj(s,a.children),s.flags|=4096,s)}function vj(i,s,o){i.lanes|=s;var a=i.alternate;a!==null&&(a.lanes|=s),bh(i.return,s,o)}function wj(i,s,o,a,c){var d=i.memoizedState;d===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=o,d.tailMode=c)}function xj(i,s,o){var a=s.pendingProps,c=a.revealOrder,d=a.tail;if(Xi(i,s,a.children,o),a=L$1.current,a&2)a=a&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,o,s);else if(i.tag===19)vj(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}a&=1}if(G(L$1,a),!(s.mode&1))s.memoizedState=null;else switch(c){case"forwards":for(o=s.child,c=null;o!==null;)i=o.alternate,i!==null&&Ch(i)===null&&(c=o),o=o.sibling;o=c,o===null?(c=s.child,s.child=null):(c=o.sibling,o.sibling=null),wj(s,!1,c,o,d);break;case"backwards":for(o=null,c=s.child,s.child=null;c!==null;){if(i=c.alternate,i!==null&&Ch(i)===null){s.child=c;break}i=c.sibling,c.sibling=o,o=c,c=i}wj(s,!0,o,null,d);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Zi(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),rh|=s.lanes,!(o&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(p(153));if(s.child!==null){for(i=s.child,o=Pg(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Pg(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function yj(i,s,o){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,c=s.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=c;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(G(L$1,L$1.current&1),s.flags|=128,null):o&s.child.childLanes?oj(i,s,o):(G(L$1,L$1.current&1),i=Zi(i,s,o),i!==null?i.sibling:null);G(L$1,L$1.current&1);break;case 19:if(a=(o&s.childLanes)!==0,i.flags&128){if(a)return xj(i,s,o);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(L$1,L$1.current),a)break;return null;case 22:case 23:return s.lanes=0,dj(i,s,o)}return Zi(i,s,o)}var zj,Aj,Bj,Cj;zj=function(i,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Aj=function(){};Bj=function(i,s,o,a){var c=i.memoizedProps;if(c!==a){i=s.stateNode,xh(uh.current);var d=null;switch(o){case"input":c=Ya(i,c),a=Ya(i,a),d=[];break;case"select":c=A({},c,{value:void 0}),a=A({},a,{value:void 0}),d=[];break;case"textarea":c=gb(i,c),a=gb(i,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(i.onclick=Bf)}ub(o,a);var h;o=null;for(b in c)if(!a.hasOwnProperty(b)&&c.hasOwnProperty(b)&&c[b]!=null)if(b==="style"){var g=c[b];for(h in g)g.hasOwnProperty(h)&&(o||(o={}),o[h]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?d||(d=[]):(d=d||[]).push(b,null));for(b in a){var _=a[b];if(g=c!=null?c[b]:void 0,a.hasOwnProperty(b)&&_!==g&&(_!=null||g!=null))if(b==="style")if(g){for(h in g)!g.hasOwnProperty(h)||_&&_.hasOwnProperty(h)||(o||(o={}),o[h]="");for(h in _)_.hasOwnProperty(h)&&g[h]!==_[h]&&(o||(o={}),o[h]=_[h])}else o||(d||(d=[]),d.push(b,o)),o=_;else b==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,g=g?g.__html:void 0,_!=null&&g!==_&&(d=d||[]).push(b,_)):b==="children"?typeof _!="string"&&typeof _!="number"||(d=d||[]).push(b,""+_):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ea.hasOwnProperty(b)?(_!=null&&b==="onScroll"&&D$1("scroll",i),d||g===_||(d=[])):(d=d||[]).push(b,_))}o&&(d=d||[]).push("style",o);var b=d;(s.updateQueue=b)&&(s.flags|=4)}};Cj=function(i,s,o,a){o!==a&&(s.flags|=4)};function Dj(i,s){if(!I)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:a.sibling=null}}function S(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,a=0;if(s)for(var c=i.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=i,c=c.sibling;else for(c=i.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=i,c=c.sibling;return i.subtreeFlags|=a,i.childLanes=o,s}function Ej(i,s,o){var a=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return a=s.stateNode,zh(),E$1(Wf),E$1(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Gg(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,s),S(s),null;case 5:Bh(s);var c=xh(wh.current);if(o=s.type,i!==null&&s.stateNode!=null)Bj(i,s,o,a,c),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(i=xh(uh.current),Gg(s)){a=s.stateNode,o=s.type;var d=s.memoizedProps;switch(a[Of]=s,a[Pf]=d,i=(s.mode&1)!==0,o){case"dialog":D$1("cancel",a),D$1("close",a);break;case"iframe":case"object":case"embed":D$1("load",a);break;case"video":case"audio":for(c=0;c<lf.length;c++)D$1(lf[c],a);break;case"source":D$1("error",a);break;case"img":case"image":case"link":D$1("error",a),D$1("load",a);break;case"details":D$1("toggle",a);break;case"input":Za(a,d),D$1("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},D$1("invalid",a);break;case"textarea":hb(a,d),D$1("invalid",a)}ub(o,d),c=null;for(var h in d)if(d.hasOwnProperty(h)){var g=d[h];h==="children"?typeof g=="string"?a.textContent!==g&&(d.suppressHydrationWarning!==!0&&Af(a.textContent,g,i),c=["children",g]):typeof g=="number"&&a.textContent!==""+g&&(d.suppressHydrationWarning!==!0&&Af(a.textContent,g,i),c=["children",""+g]):ea.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&D$1("scroll",a)}switch(o){case"input":Va(a),db(a,d,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Bf)}a=c,s.updateQueue=a,a!==null&&(s.flags|=4)}else{h=c.nodeType===9?c:c.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(o)),i==="http://www.w3.org/1999/xhtml"?o==="script"?(i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof a.is=="string"?i=h.createElement(o,{is:a.is}):(i=h.createElement(o),o==="select"&&(h=i,a.multiple?h.multiple=!0:a.size&&(h.size=a.size))):i=h.createElementNS(i,o),i[Of]=s,i[Pf]=a,zj(i,s,!1,!1),s.stateNode=i;e:{switch(h=vb(o,a),o){case"dialog":D$1("cancel",i),D$1("close",i),c=a;break;case"iframe":case"object":case"embed":D$1("load",i),c=a;break;case"video":case"audio":for(c=0;c<lf.length;c++)D$1(lf[c],i);c=a;break;case"source":D$1("error",i),c=a;break;case"img":case"image":case"link":D$1("error",i),D$1("load",i),c=a;break;case"details":D$1("toggle",i),c=a;break;case"input":Za(i,a),c=Ya(i,a),D$1("invalid",i);break;case"option":c=a;break;case"select":i._wrapperState={wasMultiple:!!a.multiple},c=A({},a,{value:void 0}),D$1("invalid",i);break;case"textarea":hb(i,a),c=gb(i,a),D$1("invalid",i);break;default:c=a}ub(o,c),g=c;for(d in g)if(g.hasOwnProperty(d)){var _=g[d];d==="style"?sb(i,_):d==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&nb(i,_)):d==="children"?typeof _=="string"?(o!=="textarea"||_!=="")&&ob(i,_):typeof _=="number"&&ob(i,""+_):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ea.hasOwnProperty(d)?_!=null&&d==="onScroll"&&D$1("scroll",i):_!=null&&ta(i,d,_,h))}switch(o){case"input":Va(i),db(i,a,!1);break;case"textarea":Va(i),jb(i);break;case"option":a.value!=null&&i.setAttribute("value",""+Sa(a.value));break;case"select":i.multiple=!!a.multiple,d=a.value,d!=null?fb(i,!!a.multiple,d,!1):a.defaultValue!=null&&fb(i,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(i.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(i&&s.stateNode!=null)Cj(i,s,i.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(p(166));if(o=xh(wh.current),xh(uh.current),Gg(s)){if(a=s.stateNode,o=s.memoizedProps,a[Of]=s,(d=a.nodeValue!==o)&&(i=xg,i!==null))switch(i.tag){case 3:Af(a.nodeValue,o,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,o,(i.mode&1)!==0)}d&&(s.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Of]=s,s.stateNode=a}return S(s),null;case 13:if(E$1(L$1),a=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,d=!1;else if(d=Gg(s),a!==null&&a.dehydrated!==null){if(i===null){if(!d)throw Error(p(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(p(317));d[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),d=!1}else zg!==null&&(Fj(zg),zg=null),d=!0;if(!d)return s.flags&65536?s:null}return s.flags&128?(s.lanes=o,s):(a=a!==null,a!==(i!==null&&i.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(i===null||L$1.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(i,s),i===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E$1(L$1),d=s.memoizedState,d===null)return S(s),null;if(a=(s.flags&128)!==0,h=d.rendering,h===null)if(a)Dj(d,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(h=Ch(i),h!==null){for(s.flags|=128,Dj(d,!1),a=h.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=o,o=s.child;o!==null;)d=o,i=a,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=i,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,i=h.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o=o.sibling;return G(L$1,L$1.current&1|2),s.child}i=i.sibling}d.tail!==null&&B()>Gj&&(s.flags|=128,a=!0,Dj(d,!1),s.lanes=4194304)}else{if(!a)if(i=Ch(h),i!==null){if(s.flags|=128,a=!0,o=i.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Dj(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!I)return S(s),null}else 2*B()-d.renderingStartTime>Gj&&o!==1073741824&&(s.flags|=128,a=!0,Dj(d,!1),s.lanes=4194304);d.isBackwards?(h.sibling=s.child,s.child=h):(o=d.last,o!==null?o.sibling=h:s.child=h,d.last=h)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=B(),s.sibling=null,o=L$1.current,G(L$1,a?o&1|2:o&1),s):(S(s),null);case 22:case 23:return Hj(),a=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Ij(i,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zh(),E$1(Wf),E$1(H),Eh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E$1(L$1),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,s){var o=i.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){W(i,s,a)}else o.current=null}function Mj(i,s,o){try{o()}catch(a){W(i,s,a)}}var Nj=!1;function Oj(i,s){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var h=0,g=-1,_=-1,b=0,$=0,et=i,_e=null;t:for(;;){for(var tt;et!==o||c!==0&&et.nodeType!==3||(g=h+c),et!==d||a!==0&&et.nodeType!==3||(_=h+a),et.nodeType===3&&(h+=et.nodeValue.length),(tt=et.firstChild)!==null;)_e=et,et=tt;for(;;){if(et===i)break t;if(_e===o&&++b===c&&(g=h),_e===d&&++$===a&&(_=h),(tt=et.nextSibling)!==null)break;et=_e,_e=et.parentNode}et=tt}o=g===-1||_===-1?null:{start:g,end:_}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:i,selectionRange:o},dd=!1,V=s;V!==null;)if(s=V,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,V=i;else for(;V!==null;){s=V;try{var it=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(it!==null){var st=it.memoizedProps,lt=it.memoizedState,nt=s.stateNode,rt=nt.getSnapshotBeforeUpdate(s.elementType===s.type?st:Ci(s.type,st),lt);nt.__reactInternalSnapshotBeforeUpdate=rt}break;case 3:var pt=s.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(gt){W(s,s.return,gt)}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}return it=Nj,Nj=!1,it}function Pj(i,s,o){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var d=c.destroy;c.destroy=void 0,d!==void 0&&Mj(s,o,d)}c=c.next}while(c!==a)}}function Qj(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&i)===i){var a=o.create;o.destroy=a()}o=o.next}while(o!==s)}}function Rj(i){var s=i.ref;if(s!==null){var o=i.stateNode;switch(i.tag){case 5:i=o;break;default:i=o}typeof s=="function"?s(i):s.current=i}}function Sj(i){var s=i.alternate;s!==null&&(i.alternate=null,Sj(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Bf));else if(a!==4&&(i=i.child,i!==null))for(Vj(i,s,o),i=i.sibling;i!==null;)Vj(i,s,o),i=i.sibling}function Wj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(a!==4&&(i=i.child,i!==null))for(Wj(i,s,o),i=i.sibling;i!==null;)Wj(i,s,o),i=i.sibling}var X$1=null,Xj=!1;function Yj(i,s,o){for(o=o.child;o!==null;)Zj(i,s,o),o=o.sibling}function Zj(i,s,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U$1||Lj(o,s);case 6:var a=X$1,c=Xj;X$1=null,Yj(i,s,o),X$1=a,Xj=c,X$1!==null&&(Xj?(i=X$1,o=o.stateNode,i.nodeType===8?i.parentNode.removeChild(o):i.removeChild(o)):X$1.removeChild(o.stateNode));break;case 18:X$1!==null&&(Xj?(i=X$1,o=o.stateNode,i.nodeType===8?Kf(i.parentNode,o):i.nodeType===1&&Kf(i,o),bd(i)):Kf(X$1,o.stateNode));break;case 4:a=X$1,c=Xj,X$1=o.stateNode.containerInfo,Xj=!0,Yj(i,s,o),X$1=a,Xj=c;break;case 0:case 11:case 14:case 15:if(!U$1&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,h=d.destroy;d=d.tag,h!==void 0&&(d&2||d&4)&&Mj(o,s,h),c=c.next}while(c!==a)}Yj(i,s,o);break;case 1:if(!U$1&&(Lj(o,s),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(g){W(o,s,g)}Yj(i,s,o);break;case 21:Yj(i,s,o);break;case 22:o.mode&1?(U$1=(a=U$1)||o.memoizedState!==null,Yj(i,s,o),U$1=a):Yj(i,s,o);break;default:Yj(i,s,o)}}function ak(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var o=i.stateNode;o===null&&(o=i.stateNode=new Kj),s.forEach(function(a){var c=bk.bind(null,i,a);o.has(a)||(o.add(a),a.then(c,c))})}}function ck(i,s){var o=s.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var d=i,h=s,g=h;e:for(;g!==null;){switch(g.tag){case 5:X$1=g.stateNode,Xj=!1;break e;case 3:X$1=g.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=g.stateNode.containerInfo,Xj=!0;break e}g=g.return}if(X$1===null)throw Error(p(160));Zj(d,h,c),X$1=null,Xj=!1;var _=c.alternate;_!==null&&(_.return=null),c.return=null}catch(b){W(c,s,b)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,i),s=s.sibling}function dk(i,s){var o=i.alternate,a=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(s,i),ek(i),a&4){try{Pj(3,i,i.return),Qj(3,i)}catch(st){W(i,i.return,st)}try{Pj(5,i,i.return)}catch(st){W(i,i.return,st)}}break;case 1:ck(s,i),ek(i),a&512&&o!==null&&Lj(o,o.return);break;case 5:if(ck(s,i),ek(i),a&512&&o!==null&&Lj(o,o.return),i.flags&32){var c=i.stateNode;try{ob(c,"")}catch(st){W(i,i.return,st)}}if(a&4&&(c=i.stateNode,c!=null)){var d=i.memoizedProps,h=o!==null?o.memoizedProps:d,g=i.type,_=i.updateQueue;if(i.updateQueue=null,_!==null)try{g==="input"&&d.type==="radio"&&d.name!=null&&ab(c,d),vb(g,h);var b=vb(g,d);for(h=0;h<_.length;h+=2){var $=_[h],et=_[h+1];$==="style"?sb(c,et):$==="dangerouslySetInnerHTML"?nb(c,et):$==="children"?ob(c,et):ta(c,$,et,b)}switch(g){case"input":bb(c,d);break;case"textarea":ib(c,d);break;case"select":var _e=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var tt=d.value;tt!=null?fb(c,!!d.multiple,tt,!1):_e!==!!d.multiple&&(d.defaultValue!=null?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:"",!1))}c[Pf]=d}catch(st){W(i,i.return,st)}}break;case 6:if(ck(s,i),ek(i),a&4){if(i.stateNode===null)throw Error(p(162));c=i.stateNode,d=i.memoizedProps;try{c.nodeValue=d}catch(st){W(i,i.return,st)}}break;case 3:if(ck(s,i),ek(i),a&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(st){W(i,i.return,st)}break;case 4:ck(s,i),ek(i);break;case 13:ck(s,i),ek(i),c=i.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(fk=B())),a&4&&ak(i);break;case 22:if($=o!==null&&o.memoizedState!==null,i.mode&1?(U$1=(b=U$1)||$,ck(s,i),U$1=b):ck(s,i),ek(i),a&8192){if(b=i.memoizedState!==null,(i.stateNode.isHidden=b)&&!$&&i.mode&1)for(V=i,$=i.child;$!==null;){for(et=V=$;V!==null;){switch(_e=V,tt=_e.child,_e.tag){case 0:case 11:case 14:case 15:Pj(4,_e,_e.return);break;case 1:Lj(_e,_e.return);var it=_e.stateNode;if(typeof it.componentWillUnmount=="function"){a=_e,o=_e.return;try{s=a,it.props=s.memoizedProps,it.state=s.memoizedState,it.componentWillUnmount()}catch(st){W(a,o,st)}}break;case 5:Lj(_e,_e.return);break;case 22:if(_e.memoizedState!==null){gk(et);continue}}tt!==null?(tt.return=_e,V=tt):gk(et)}$=$.sibling}e:for($=null,et=i;;){if(et.tag===5){if($===null){$=et;try{c=et.stateNode,b?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(g=et.stateNode,_=et.memoizedProps.style,h=_!=null&&_.hasOwnProperty("display")?_.display:null,g.style.display=rb("display",h))}catch(st){W(i,i.return,st)}}}else if(et.tag===6){if($===null)try{et.stateNode.nodeValue=b?"":et.memoizedProps}catch(st){W(i,i.return,st)}}else if((et.tag!==22&&et.tag!==23||et.memoizedState===null||et===i)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===i)break e;for(;et.sibling===null;){if(et.return===null||et.return===i)break e;$===et&&($=null),et=et.return}$===et&&($=null),et.sibling.return=et.return,et=et.sibling}}break;case 19:ck(s,i),ek(i),a&4&&ak(i);break;case 21:break;default:ck(s,i),ek(i)}}function ek(i){var s=i.flags;if(s&2){try{e:{for(var o=i.return;o!==null;){if(Tj(o)){var a=o;break e}o=o.return}throw Error(p(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ob(c,""),a.flags&=-33);var d=Uj(i);Wj(i,d,c);break;case 3:case 4:var h=a.stateNode.containerInfo,g=Uj(i);Vj(i,g,h);break;default:throw Error(p(161))}}catch(_){W(i,i.return,_)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function hk(i,s,o){V=i,ik(i)}function ik(i,s,o){for(var a=(i.mode&1)!==0;V!==null;){var c=V,d=c.child;if(c.tag===22&&a){var h=c.memoizedState!==null||Jj;if(!h){var g=c.alternate,_=g!==null&&g.memoizedState!==null||U$1;g=Jj;var b=U$1;if(Jj=h,(U$1=_)&&!b)for(V=c;V!==null;)h=V,_=h.child,h.tag===22&&h.memoizedState!==null?jk(c):_!==null?(_.return=h,V=_):jk(c);for(;d!==null;)V=d,ik(d),d=d.sibling;V=c,Jj=g,U$1=b}kk(i)}else c.subtreeFlags&8772&&d!==null?(d.return=c,V=d):kk(i)}}function kk(i){for(;V!==null;){var s=V;if(s.flags&8772){var o=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U$1||Qj(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!U$1)if(o===null)a.componentDidMount();else{var c=s.elementType===s.type?o.memoizedProps:Ci(s.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=s.updateQueue;d!==null&&sh(s,d,a);break;case 3:var h=s.updateQueue;if(h!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}sh(s,h,o)}break;case 5:var g=s.stateNode;if(o===null&&s.flags&4){o=g;var _=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&o.focus();break;case"img":_.src&&(o.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var b=s.alternate;if(b!==null){var $=b.memoizedState;if($!==null){var et=$.dehydrated;et!==null&&bd(et)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U$1||s.flags&512&&Rj(s)}catch(_e){W(s,s.return,_e)}}if(s===i){V=null;break}if(o=s.sibling,o!==null){o.return=s.return,V=o;break}V=s.return}}function gk(i){for(;V!==null;){var s=V;if(s===i){V=null;break}var o=s.sibling;if(o!==null){o.return=s.return,V=o;break}V=s.return}}function jk(i){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Qj(4,s)}catch(_){W(s,o,_)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var c=s.return;try{a.componentDidMount()}catch(_){W(s,c,_)}}var d=s.return;try{Rj(s)}catch(_){W(s,d,_)}break;case 5:var h=s.return;try{Rj(s)}catch(_){W(s,h,_)}}}catch(_){W(s,s.return,_)}if(s===i){V=null;break}var g=s.sibling;if(g!==null){g.return=s.return,V=g;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$2=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,s,o,a){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(i,o,a),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=o),T===4&&Ck(i,Z)),Dk(i,a),o===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,s){var o=i.callbackNode;wc(i,s);var a=uc(i,i===Q?Z:0);if(a===0)o!==null&&bc(o),i.callbackNode=null,i.callbackPriority=0;else if(s=a&-a,i.callbackPriority!==s){if(o!=null&&bc(o),s===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),o=null;else{switch(Dc(a)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Fk(o,Gk.bind(null,i))}i.callbackPriority=s,i.callbackNode=o}}function Gk(i,s){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var o=i.callbackNode;if(Hk()&&i.callbackNode!==o)return null;var a=uc(i,i===Q?Z:0);if(a===0)return null;if(a&30||a&i.expiredLanes||s)s=Ik(i,a);else{s=a;var c=K;K|=2;var d=Jk();(Q!==i||Z!==s)&&(uk=null,Gj=B()+500,Kk(i,s));do try{Lk();break}catch(g){Mk(i,g)}while(!0);$g(),mk.current=d,K=c,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(c=xc(i),c!==0&&(a=c,s=Nk(i,c))),s===1)throw o=pk,Kk(i,0),Ck(i,a),Dk(i,B()),o;if(s===6)Ck(i,a);else{if(c=i.current.alternate,!(a&30)&&!Ok(c)&&(s=Ik(i,a),s===2&&(d=xc(i),d!==0&&(a=d,s=Nk(i,d))),s===1))throw o=pk,Kk(i,0),Ck(i,a),Dk(i,B()),o;switch(i.finishedWork=c,i.finishedLanes=a,s){case 0:case 1:throw Error(p(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,a),(a&130023424)===a&&(s=fk+500-B(),10<s)){if(uc(i,0)!==0)break;if(c=i.suspendedLanes,(c&a)!==a){R(),i.pingedLanes|=i.suspendedLanes&c;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),s);break}Pk(i,tk,uk);break;case 4:if(Ck(i,a),(a&4194240)===a)break;for(s=i.eventTimes,c=-1;0<a;){var h=31-oc(a);d=1<<h,h=s[h],h>c&&(c=h),a&=~d}if(a=c,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),a);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p(329))}}}return Dk(i,B()),i.callbackNode===o?Gk.bind(null,i):null}function Nk(i,s){var o=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,s).flags|=256),i=Ik(i,s),i!==2&&(s=tk,tk=o,s!==null&&Fj(s)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var s=i;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],d=c.getSnapshot;c=c.value;try{if(!He(d(),c))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(i,s){for(s&=~rk,s&=~qk,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var o=31-oc(s),a=1<<o;i[o]=-1,s&=~a}}function Ek(i){if(K&6)throw Error(p(327));Hk();var s=uc(i,0);if(!(s&1))return Dk(i,B()),null;var o=Ik(i,s);if(i.tag!==0&&o===2){var a=xc(i);a!==0&&(s=a,o=Nk(i,a))}if(o===1)throw o=pk,Kk(i,0),Ck(i,s),Dk(i,B()),o;if(o===6)throw Error(p(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,s){var o=K;K|=1;try{return i(s)}finally{K=o,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var o=ok$2.transition,a=C;try{if(ok$2.transition=null,C=1,i)return i()}finally{C=a,ok$2.transition=o,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;if(o!==-1&&(i.timeoutHandle=-1,Gf(o)),Y!==null)for(o=Y.return;o!==null;){var a=o;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}o=o.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(o=fh[s],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,d=o.pending;if(d!==null){var h=d.next;d.next=c,a.next=h}o.pending=a}fh=null}return i}function Mk(i,s){do{var o=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,o===null||o.return===null){T=1,pk=s,Y=null;break}e:{var d=i,h=o.return,g=o,_=s;if(s=Z,g.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var b=_,$=g,et=$.tag;if(!($.mode&1)&&(et===0||et===11||et===15)){var _e=$.alternate;_e?($.updateQueue=_e.updateQueue,$.memoizedState=_e.memoizedState,$.lanes=_e.lanes):($.updateQueue=null,$.memoizedState=null)}var tt=Ui(h);if(tt!==null){tt.flags&=-257,Vi(tt,h,g,d,s),tt.mode&1&&Si(d,b,s),s=tt,_=b;var it=s.updateQueue;if(it===null){var st=new Set;st.add(_),s.updateQueue=st}else it.add(_);break e}else{if(!(s&1)){Si(d,b,s),tj();break e}_=Error(p(426))}}else if(I&&g.mode&1){var lt=Ui(h);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),Vi(lt,h,g,d,s),Jg(Ji(_,g));break e}}d=_=Ji(_,g),T!==4&&(T=2),sk===null?sk=[d]:sk.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,s&=-s,d.lanes|=s;var nt=Ni(d,_,s);ph(d,nt);break e;case 1:g=_;var rt=d.type,pt=d.stateNode;if(!(d.flags&128)&&(typeof rt.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(Ri===null||!Ri.has(pt)))){d.flags|=65536,s&=-s,d.lanes|=s;var gt=Qi(d,g,s);ph(d,gt);break e}}d=d.return}while(d!==null)}Sk(o)}catch(ht){s=ht,Y===o&&o!==null&&(Y=o=o.return);continue}break}while(!0)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,s){var o=K;K|=2;var a=Jk();(Q!==i||Z!==s)&&(uk=null,Kk(i,s));do try{Tk();break}catch(c){Mk(i,c)}while(!0);if($g(),K=o,mk.current=a,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var s=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,s===null?Sk(i):Y=s,nk.current=null}function Sk(i){var s=i;do{var o=s.alternate;if(i=s.return,s.flags&32768){if(o=Ij(o,s),o!==null){o.flags&=32767,Y=o;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(o=Ej(o,s,fj),o!==null){Y=o;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=i}while(s!==null);T===0&&(T=5)}function Pk(i,s,o){var a=C,c=ok$2.transition;try{ok$2.transition=null,C=1,Wk(i,s,o,a)}finally{ok$2.transition=c,C=a}return null}function Wk(i,s,o,a){do Hk();while(wk!==null);if(K&6)throw Error(p(327));o=i.finishedWork;var c=i.finishedLanes;if(o===null)return null;if(i.finishedWork=null,i.finishedLanes=0,o===i.current)throw Error(p(177));i.callbackNode=null,i.callbackPriority=0;var d=o.lanes|o.childLanes;if(Bc(i,d),i===Q&&(Y=Q=null,Z=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),d=(o.flags&15990)!==0,o.subtreeFlags&15990||d){d=ok$2.transition,ok$2.transition=null;var h=C;C=1;var g=K;K|=4,nk.current=null,Oj(i,o),dk(o,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=o,hk(o),dc(),K=g,C=h,ok$2.transition=d}else i.current=o;if(vk&&(vk=!1,wk=i,xk=c),d=i.pendingLanes,d===0&&(Ri=null),mc(o.stateNode),Dk(i,B()),s!==null)for(a=i.onRecoverableError,o=0;o<s.length;o++)c=s[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),d=i.pendingLanes,d&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),s=ok$2.transition,o=C;try{if(ok$2.transition=null,C=16>i?16:i,wk===null)var a=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p(331));var c=K;for(K|=4,V=i.current;V!==null;){var d=V,h=d.child;if(V.flags&16){var g=d.deletions;if(g!==null){for(var _=0;_<g.length;_++){var b=g[_];for(V=b;V!==null;){var $=V;switch($.tag){case 0:case 11:case 15:Pj(8,$,d)}var et=$.child;if(et!==null)et.return=$,V=et;else for(;V!==null;){$=V;var _e=$.sibling,tt=$.return;if(Sj($),$===b){V=null;break}if(_e!==null){_e.return=tt,V=_e;break}V=tt}}}var it=d.alternate;if(it!==null){var st=it.child;if(st!==null){it.child=null;do{var lt=st.sibling;st.sibling=null,st=lt}while(st!==null)}}V=d}}if(d.subtreeFlags&2064&&h!==null)h.return=d,V=h;else e:for(;V!==null;){if(d=V,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Pj(9,d,d.return)}var nt=d.sibling;if(nt!==null){nt.return=d.return,V=nt;break e}V=d.return}}var rt=i.current;for(V=rt;V!==null;){h=V;var pt=h.child;if(h.subtreeFlags&2064&&pt!==null)pt.return=h,V=pt;else e:for(h=rt;V!==null;){if(g=V,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Qj(9,g)}}catch(ht){W(g,g.return,ht)}if(g===h){V=null;break e}var gt=g.sibling;if(gt!==null){gt.return=g.return,V=gt;break e}V=g.return}}if(K=c,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}a=!0}return a}finally{C=o,ok$2.transition=s}}return!1}function Xk(i,s,o){s=Ji(o,s),s=Ni(i,s,1),i=nh(i,s,1),s=R(),i!==null&&(Ac(i,1,s),Dk(i,s))}function W(i,s,o){if(i.tag===3)Xk(i,i,o);else for(;s!==null;){if(s.tag===3){Xk(s,i,o);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){i=Ji(o,i),i=Qi(s,i,1),s=nh(s,i,1),i=R(),s!==null&&(Ac(s,1,i),Dk(s,i));break}}s=s.return}}function Ti(i,s,o){var a=i.pingCache;a!==null&&a.delete(s),s=R(),i.pingedLanes|=i.suspendedLanes&o,Q===i&&(Z&o)===o&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=o),Dk(i,s)}function Yk(i,s){s===0&&(i.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var o=R();i=ih(i,s),i!==null&&(Ac(i,s,o),Dk(i,o))}function uj(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Yk(i,o)}function bk(i,s){var o=0;switch(i.tag){case 13:var a=i.stateNode,c=i.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=i.stateNode;break;default:throw Error(p(314))}a!==null&&a.delete(s),Yk(i,o)}var Vk;Vk=function(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&o)&&!(s.flags&128))return dh=!1,yj(i,s,o);dh=!!(i.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;ij(i,s),i=s.pendingProps;var c=Yf(s,H.current);ch(s,o),c=Nh(null,s,a,i,c,o);var d=Sh();return s.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(a)?(d=!0,cg(s)):d=!1,s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,kh(s),c.updater=Ei,s.stateNode=c,c._reactInternals=s,Ii(s,a,i,o),s=jj(null,s,a,!0,d,o)):(s.tag=0,I&&d&&vg(s),Xi(null,s,c,o),s=s.child),s;case 16:a=s.elementType;e:{switch(ij(i,s),i=s.pendingProps,c=a._init,a=c(a._payload),s.type=a,c=s.tag=Zk(a),i=Ci(a,i),c){case 0:s=cj(null,s,a,i,o);break e;case 1:s=hj(null,s,a,i,o);break e;case 11:s=Yi(null,s,a,i,o);break e;case 14:s=$i(null,s,a,Ci(a.type,i),o);break e}throw Error(p(306,a,""))}return s;case 0:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Ci(a,c),cj(i,s,a,c,o);case 1:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Ci(a,c),hj(i,s,a,c,o);case 3:e:{if(kj(s),i===null)throw Error(p(387));a=s.pendingProps,d=s.memoizedState,c=d.element,lh(i,s),qh(s,a,null,o);var h=s.memoizedState;if(a=h.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){c=Ji(Error(p(423)),s),s=lj(i,s,a,o,c);break e}else if(a!==c){c=Ji(Error(p(424)),s),s=lj(i,s,a,o,c);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,o=Vg(s,null,a,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),a===c){s=Zi(i,s,o);break e}Xi(i,s,a,o)}s=s.child}return s;case 5:return Ah(s),i===null&&Eg(s),a=s.type,c=s.pendingProps,d=i!==null?i.memoizedProps:null,h=c.children,Ef(a,c)?h=null:d!==null&&Ef(a,d)&&(s.flags|=32),gj(i,s),Xi(i,s,h,o),s.child;case 6:return i===null&&Eg(s),null;case 13:return oj(i,s,o);case 4:return yh(s,s.stateNode.containerInfo),a=s.pendingProps,i===null?s.child=Ug(s,null,a,o):Xi(i,s,a,o),s.child;case 11:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Ci(a,c),Yi(i,s,a,c,o);case 7:return Xi(i,s,s.pendingProps,o),s.child;case 8:return Xi(i,s,s.pendingProps.children,o),s.child;case 12:return Xi(i,s,s.pendingProps.children,o),s.child;case 10:e:{if(a=s.type._context,c=s.pendingProps,d=s.memoizedProps,h=c.value,G(Wg,a._currentValue),a._currentValue=h,d!==null)if(He(d.value,h)){if(d.children===c.children&&!Wf.current){s=Zi(i,s,o);break e}}else for(d=s.child,d!==null&&(d.return=s);d!==null;){var g=d.dependencies;if(g!==null){h=d.child;for(var _=g.firstContext;_!==null;){if(_.context===a){if(d.tag===1){_=mh(-1,o&-o),_.tag=2;var b=d.updateQueue;if(b!==null){b=b.shared;var $=b.pending;$===null?_.next=_:(_.next=$.next,$.next=_),b.pending=_}}d.lanes|=o,_=d.alternate,_!==null&&(_.lanes|=o),bh(d.return,o,s),g.lanes|=o;break}_=_.next}}else if(d.tag===10)h=d.type===s.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(p(341));h.lanes|=o,g=h.alternate,g!==null&&(g.lanes|=o),bh(h,o,s),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===s){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}Xi(i,s,c.children,o),s=s.child}return s;case 9:return c=s.type,a=s.pendingProps.children,ch(s,o),c=eh(c),a=a(c),s.flags|=1,Xi(i,s,a,o),s.child;case 14:return a=s.type,c=Ci(a,s.pendingProps),c=Ci(a.type,c),$i(i,s,a,c,o);case 15:return bj(i,s,s.type,s.pendingProps,o);case 17:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Ci(a,c),ij(i,s),s.tag=1,Zf(a)?(i=!0,cg(s)):i=!1,ch(s,o),Gi(s,a,c),Ii(s,a,c,o),jj(null,s,a,!0,i,o);case 19:return xj(i,s,o);case 22:return dj(i,s,o)}throw Error(p(156,s.tag))};function Fk(i,s){return ac(i,s)}function $k(i,s,o,a){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,s,o,a){return new $k(i,s,o,a)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,s){var o=i.alternate;return o===null?(o=Bg(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&14680064,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o}function Rg(i,s,o,a,c,d){var h=2;if(a=i,typeof i=="function")aj(i)&&(h=1);else if(typeof i=="string")h=5;else e:switch(i){case ya:return Tg(o.children,c,d,s);case za:h=8,c|=8;break;case Aa:return i=Bg(12,o,s,c|2),i.elementType=Aa,i.lanes=d,i;case Ea:return i=Bg(13,o,s,c),i.elementType=Ea,i.lanes=d,i;case Fa:return i=Bg(19,o,s,c),i.elementType=Fa,i.lanes=d,i;case Ia:return pj(o,c,d,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:h=10;break e;case Ca:h=9;break e;case Da:h=11;break e;case Ga:h=14;break e;case Ha:h=16,a=null;break e}throw Error(p(130,i==null?i:typeof i,""))}return s=Bg(h,o,s,c),s.elementType=i,s.type=a,s.lanes=d,s}function Tg(i,s,o,a){return i=Bg(7,i,a,s),i.lanes=o,i}function pj(i,s,o,a){return i=Bg(22,i,a,s),i.elementType=Ia,i.lanes=o,i.stateNode={isHidden:!1},i}function Qg(i,s,o){return i=Bg(6,i,null,s),i.lanes=o,i}function Sg(i,s,o){return s=Bg(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function al(i,s,o,a,c){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function bl(i,s,o,a,c,d,h,g,_){return i=new al(i,s,o,g,_),s===1?(s=1,d===!0&&(s|=8)):s=0,d=Bg(3,null,null,s),i.current=d,d.stateNode=i,d.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(d),i}function cl(i,s,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:i,containerInfo:s,implementation:o}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(i.tag===1){var o=i.type;if(Zf(o))return bg(i,o,s)}return s}function el(i,s,o,a,c,d,h,g,_){return i=bl(o,a,!0,i,c,d,h,g,_),i.context=dl(null),o=i.current,a=R(),c=yi(o),d=mh(a,c),d.callback=s??null,nh(o,d,c),i.current.lanes=c,Ac(i,c,a),Dk(i,a),i}function fl(i,s,o,a){var c=s.current,d=R(),h=yi(c);return o=dl(o),s.context===null?s.context=o:s.pendingContext=o,s=mh(d,h),s.payload={element:i},a=a===void 0?null:a,a!==null&&(s.callback=a),i=nh(c,s,h),i!==null&&(gi(i,c,h,d),oh(i,c,h)),h}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function il(i,s){hl(i,s),(i=i.alternate)&&hl(i,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(p(409));fl(i,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Rk(function(){fl(null,i,null,null)}),s[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Qc.length&&s!==0&&s<Qc[o].priority;o++);Qc.splice(o,0,i),o===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,s,o,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var b=gl(h);d.call(b)}}var h=el(s,a,i,0,null,!1,!1,"",pl);return i._reactRootContainer=h,i[uf]=h.current,sf(i.nodeType===8?i.parentNode:i),Rk(),h}for(;c=i.lastChild;)i.removeChild(c);if(typeof a=="function"){var g=a;a=function(){var b=gl(_);g.call(b)}}var _=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=_,i[uf]=_.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(s,_,o,a)}),_}function rl(i,s,o,a,c){var d=o._reactRootContainer;if(d){var h=d;if(typeof c=="function"){var g=c;c=function(){var _=gl(h);g.call(_)}}fl(s,h,i,c)}else h=ql(o,s,i,c,a);return gl(h)}Ec=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var o=tc(s.pendingLanes);o!==0&&(Cc(s,o|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(i,1);if(a!==null){var c=R();gi(a,i,1,c)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var s=ih(i,134217728);if(s!==null){var o=R();gi(s,i,134217728,o)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var s=yi(i),o=ih(i,s);if(o!==null){var a=R();gi(o,i,s,a)}il(i,s)}};Hc=function(){return C};Ic=function(i,s){var o=C;try{return C=i,s()}finally{C=o}};yb=function(i,s,o){switch(s){case"input":if(bb(i,o),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var a=o[s];if(a!==i&&a.form===i.form){var c=Db(a);if(!c)throw Error(p(90));Wa(a),bb(a,c)}}}break;case"textarea":ib(i,o);break;case"select":s=o.value,s!=null&&fb(i,!!o.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p(200));return cl(i,s,null,o)};reactDom_production_min.createRoot=function(i,s){if(!nl(i))throw Error(p(299));var o=!1,a="",c=kl;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(c=s.onRecoverableError)),s=bl(i,1,!1,null,null,o,!1,a,c),i[uf]=s.current,sf(i.nodeType===8?i.parentNode:i),new ll(s)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(p(188)):(i=Object.keys(i).join(","),Error(p(268,i)));return i=Zb(s),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,s,o){if(!ol(s))throw Error(p(200));return rl(null,i,s,!0,o)};reactDom_production_min.hydrateRoot=function(i,s,o){if(!nl(i))throw Error(p(405));var a=o!=null&&o.hydratedSources||null,c=!1,d="",h=kl;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(h=o.onRecoverableError)),s=el(s,null,i,1,o??null,c,!1,d,h),i[uf]=s.current,sf(i),a)for(i=0;i<a.length;i++)o=a[i],c=o._getVersion,c=c(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,c]:s.mutableSourceEagerHydrationData.push(o,c);return new ml(s)};reactDom_production_min.render=function(i,s,o){if(!ol(s))throw Error(p(200));return rl(null,i,s,!1,o)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,s,o,a){if(!ol(o))throw Error(p(200));if(i==null||i._reactInternals===void 0)throw Error(p(38));return rl(i,s,o,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const Gt=getDefaultExportFromCjs(reactDomExports);var createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;const TOAST_LIMIT=1,TOAST_REMOVE_DELAY=1e6;let count=0;function genId(){return count=(count+1)%Number.MAX_SAFE_INTEGER,count.toString()}const toastTimeouts=new Map,addToRemoveQueue=i=>{if(toastTimeouts.has(i))return;const s=setTimeout(()=>{toastTimeouts.delete(i),dispatch({type:"REMOVE_TOAST",toastId:i})},TOAST_REMOVE_DELAY);toastTimeouts.set(i,s)},reducer=(i,s)=>{switch(s.type){case"ADD_TOAST":return{...i,toasts:[s.toast,...i.toasts].slice(0,TOAST_LIMIT)};case"UPDATE_TOAST":return{...i,toasts:i.toasts.map(o=>o.id===s.toast.id?{...o,...s.toast}:o)};case"DISMISS_TOAST":{const{toastId:o}=s;return o?addToRemoveQueue(o):i.toasts.forEach(a=>{addToRemoveQueue(a.id)}),{...i,toasts:i.toasts.map(a=>a.id===o||o===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return s.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(o=>o.id!==s.toastId)}}},listeners=[];let memoryState={toasts:[]};function dispatch(i){memoryState=reducer(memoryState,i),listeners.forEach(s=>{s(memoryState)})}function toast({...i}){const s=genId(),o=c=>dispatch({type:"UPDATE_TOAST",toast:{...c,id:s}}),a=()=>dispatch({type:"DISMISS_TOAST",toastId:s});return dispatch({type:"ADD_TOAST",toast:{...i,id:s,open:!0,onOpenChange:c=>{c||a()}}}),{id:s,dismiss:a,update:o}}function useToast(){const[i,s]=reactExports.useState(memoryState);return reactExports.useEffect(()=>(listeners.push(s),()=>{const o=listeners.indexOf(s);o>-1&&listeners.splice(o,1)}),[i]),{...i,toast,dismiss:o=>dispatch({type:"DISMISS_TOAST",toastId:o})}}function composeEventHandlers(i,s,{checkForDefaultPrevented:o=!0}={}){return function(c){if(i==null||i(c),o===!1||!c.defaultPrevented)return s==null?void 0:s(c)}}function setRef(i,s){typeof i=="function"?i(s):i!=null&&(i.current=s)}function composeRefs(...i){return s=>i.forEach(o=>setRef(o,s))}function useComposedRefs(...i){return reactExports.useCallback(composeRefs(...i),i)}function createContextScope$2(i,s=[]){let o=[];function a(d,h){const g=reactExports.createContext(h),_=o.length;o=[...o,h];function b(et){const{scope:_e,children:tt,...it}=et,st=(_e==null?void 0:_e[i][_])||g,lt=reactExports.useMemo(()=>it,Object.values(it));return jsxRuntimeExports.jsx(st.Provider,{value:lt,children:tt})}function $(et,_e){const tt=(_e==null?void 0:_e[i][_])||g,it=reactExports.useContext(tt);if(it)return it;if(h!==void 0)return h;throw new Error(`\`${et}\` must be used within \`${d}\``)}return b.displayName=d+"Provider",[b,$]}const c=()=>{const d=o.map(h=>reactExports.createContext(h));return function(g){const _=(g==null?void 0:g[i])||d;return reactExports.useMemo(()=>({[`__scope${i}`]:{...g,[i]:_}}),[g,_])}};return c.scopeName=i,[a,composeContextScopes$2(c,...s)]}function composeContextScopes$2(...i){const s=i[0];if(i.length===1)return s;const o=()=>{const a=i.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const h=a.reduce((g,{useScope:_,scopeName:b})=>{const et=_(d)[`__scope${b}`];return{...g,...et}},{});return reactExports.useMemo(()=>({[`__scope${s.scopeName}`]:h}),[h])}};return o.scopeName=s.scopeName,o}var Slot=reactExports.forwardRef((i,s)=>{const{children:o,...a}=i,c=reactExports.Children.toArray(o),d=c.find(isSlottable);if(d){const h=d.props.children,g=c.map(_=>_===d?reactExports.Children.count(h)>1?reactExports.Children.only(null):reactExports.isValidElement(h)?h.props.children:null:_);return jsxRuntimeExports.jsx(SlotClone,{...a,ref:s,children:reactExports.isValidElement(h)?reactExports.cloneElement(h,void 0,g):null})}return jsxRuntimeExports.jsx(SlotClone,{...a,ref:s,children:o})});Slot.displayName="Slot";var SlotClone=reactExports.forwardRef((i,s)=>{const{children:o,...a}=i;if(reactExports.isValidElement(o)){const c=getElementRef$1(o);return reactExports.cloneElement(o,{...mergeProps(a,o.props),ref:s?composeRefs(s,c):c})}return reactExports.Children.count(o)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:i})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i});function isSlottable(i){return reactExports.isValidElement(i)&&i.type===Slottable}function mergeProps(i,s){const o={...s};for(const a in s){const c=i[a],d=s[a];/^on[A-Z]/.test(a)?c&&d?o[a]=(...g)=>{d(...g),c(...g)}:c&&(o[a]=c):a==="style"?o[a]={...c,...d}:a==="className"&&(o[a]=[c,d].filter(Boolean).join(" "))}return{...i,...o}}function getElementRef$1(i){var a,c;let s=(a=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:a.get,o=s&&"isReactWarning"in s&&s.isReactWarning;return o?i.ref:(s=(c=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:c.get,o=s&&"isReactWarning"in s&&s.isReactWarning,o?i.props.ref:i.props.ref||i.ref)}function createCollection(i){const s=i+"CollectionProvider",[o,a]=createContextScope$2(s),[c,d]=o(s,{collectionRef:{current:null},itemMap:new Map}),h=tt=>{const{scope:it,children:st}=tt,lt=e.useRef(null),nt=e.useRef(new Map).current;return jsxRuntimeExports.jsx(c,{scope:it,itemMap:nt,collectionRef:lt,children:st})};h.displayName=s;const g=i+"CollectionSlot",_=e.forwardRef((tt,it)=>{const{scope:st,children:lt}=tt,nt=d(g,st),rt=useComposedRefs(it,nt.collectionRef);return jsxRuntimeExports.jsx(Slot,{ref:rt,children:lt})});_.displayName=g;const b=i+"CollectionItemSlot",$="data-radix-collection-item",et=e.forwardRef((tt,it)=>{const{scope:st,children:lt,...nt}=tt,rt=e.useRef(null),pt=useComposedRefs(it,rt),gt=d(b,st);return e.useEffect(()=>(gt.itemMap.set(rt,{ref:rt,...nt}),()=>void gt.itemMap.delete(rt))),jsxRuntimeExports.jsx(Slot,{[$]:"",ref:pt,children:lt})});et.displayName=b;function _e(tt){const it=d(i+"CollectionConsumer",tt);return e.useCallback(()=>{const lt=it.collectionRef.current;if(!lt)return[];const nt=Array.from(lt.querySelectorAll(`[${$}]`));return Array.from(it.itemMap.values()).sort((gt,ht)=>nt.indexOf(gt.ref.current)-nt.indexOf(ht.ref.current))},[it.collectionRef,it.itemMap])}return[{Provider:h,Slot:_,ItemSlot:et},_e,a]}function createContextScope$1(i,s=[]){let o=[];function a(d,h){const g=reactExports.createContext(h),_=o.length;o=[...o,h];const b=et=>{var nt;const{scope:_e,children:tt,...it}=et,st=((nt=_e==null?void 0:_e[i])==null?void 0:nt[_])||g,lt=reactExports.useMemo(()=>it,Object.values(it));return jsxRuntimeExports.jsx(st.Provider,{value:lt,children:tt})};b.displayName=d+"Provider";function $(et,_e){var st;const tt=((st=_e==null?void 0:_e[i])==null?void 0:st[_])||g,it=reactExports.useContext(tt);if(it)return it;if(h!==void 0)return h;throw new Error(`\`${et}\` must be used within \`${d}\``)}return[b,$]}const c=()=>{const d=o.map(h=>reactExports.createContext(h));return function(g){const _=(g==null?void 0:g[i])||d;return reactExports.useMemo(()=>({[`__scope${i}`]:{...g,[i]:_}}),[g,_])}};return c.scopeName=i,[a,composeContextScopes$1(c,...s)]}function composeContextScopes$1(...i){const s=i[0];if(i.length===1)return s;const o=()=>{const a=i.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const h=a.reduce((g,{useScope:_,scopeName:b})=>{const et=_(d)[`__scope${b}`];return{...g,...et}},{});return reactExports.useMemo(()=>({[`__scope${s.scopeName}`]:h}),[h])}};return o.scopeName=s.scopeName,o}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce((i,s)=>{const o=reactExports.forwardRef((a,c)=>{const{asChild:d,...h}=a,g=d?Slot:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(g,{...h,ref:c})});return o.displayName=`Primitive.${s}`,{...i,[s]:o}},{});function dispatchDiscreteCustomEvent(i,s){i&&reactDomExports.flushSync(()=>i.dispatchEvent(s))}function useCallbackRef(i){const s=reactExports.useRef(i);return reactExports.useEffect(()=>{s.current=i}),reactExports.useMemo(()=>(...o)=>{var a;return(a=s.current)==null?void 0:a.call(s,...o)},[])}function useEscapeKeydown(i,s=globalThis==null?void 0:globalThis.document){const o=useCallbackRef(i);reactExports.useEffect(()=>{const a=c=>{c.key==="Escape"&&o(c)};return s.addEventListener("keydown",a,{capture:!0}),()=>s.removeEventListener("keydown",a,{capture:!0})},[o,s])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((i,s)=>{const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:g,..._}=i,b=reactExports.useContext(DismissableLayerContext),[$,et]=reactExports.useState(null),_e=($==null?void 0:$.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,tt]=reactExports.useState({}),it=useComposedRefs(s,mt=>et(mt)),st=Array.from(b.layers),[lt]=[...b.layersWithOutsidePointerEventsDisabled].slice(-1),nt=st.indexOf(lt),rt=$?st.indexOf($):-1,pt=b.layersWithOutsidePointerEventsDisabled.size>0,gt=rt>=nt,ht=usePointerDownOutside(mt=>{const yt=mt.target,xt=[...b.branches].some(Et=>Et.contains(yt));!gt||xt||(c==null||c(mt),h==null||h(mt),mt.defaultPrevented||g==null||g())},_e),dt=useFocusOutside(mt=>{const yt=mt.target;[...b.branches].some(Et=>Et.contains(yt))||(d==null||d(mt),h==null||h(mt),mt.defaultPrevented||g==null||g())},_e);return useEscapeKeydown(mt=>{rt===b.layers.size-1&&(a==null||a(mt),!mt.defaultPrevented&&g&&(mt.preventDefault(),g()))},_e),reactExports.useEffect(()=>{if($)return o&&(b.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=_e.body.style.pointerEvents,_e.body.style.pointerEvents="none"),b.layersWithOutsidePointerEventsDisabled.add($)),b.layers.add($),dispatchUpdate(),()=>{o&&b.layersWithOutsidePointerEventsDisabled.size===1&&(_e.body.style.pointerEvents=originalBodyPointerEvents)}},[$,_e,o,b]),reactExports.useEffect(()=>()=>{$&&(b.layers.delete($),b.layersWithOutsidePointerEventsDisabled.delete($),dispatchUpdate())},[$,b]),reactExports.useEffect(()=>{const mt=()=>tt({});return document.addEventListener(CONTEXT_UPDATE,mt),()=>document.removeEventListener(CONTEXT_UPDATE,mt)},[]),jsxRuntimeExports.jsx(Primitive.div,{..._,ref:it,style:{pointerEvents:pt?gt?"auto":"none":void 0,...i.style},onFocusCapture:composeEventHandlers(i.onFocusCapture,dt.onFocusCapture),onBlurCapture:composeEventHandlers(i.onBlurCapture,dt.onBlurCapture),onPointerDownCapture:composeEventHandlers(i.onPointerDownCapture,ht.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((i,s)=>{const o=reactExports.useContext(DismissableLayerContext),a=reactExports.useRef(null),c=useComposedRefs(s,a);return reactExports.useEffect(()=>{const d=a.current;if(d)return o.branches.add(d),()=>{o.branches.delete(d)}},[o.branches]),jsxRuntimeExports.jsx(Primitive.div,{...i,ref:c})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(i,s=globalThis==null?void 0:globalThis.document){const o=useCallbackRef(i),a=reactExports.useRef(!1),c=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const d=g=>{if(g.target&&!a.current){let _=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE,o,b,{discrete:!0})};const b={originalEvent:g};g.pointerType==="touch"?(s.removeEventListener("click",c.current),c.current=_,s.addEventListener("click",c.current,{once:!0})):_()}else s.removeEventListener("click",c.current);a.current=!1},h=window.setTimeout(()=>{s.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(h),s.removeEventListener("pointerdown",d),s.removeEventListener("click",c.current)}},[s,o]),{onPointerDownCapture:()=>a.current=!0}}function useFocusOutside(i,s=globalThis==null?void 0:globalThis.document){const o=useCallbackRef(i),a=reactExports.useRef(!1);return reactExports.useEffect(()=>{const c=d=>{d.target&&!a.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE,o,{originalEvent:d},{discrete:!1})};return s.addEventListener("focusin",c),()=>s.removeEventListener("focusin",c)},[s,o]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function dispatchUpdate(){const i=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(i)}function handleAndDispatchCustomEvent$1(i,s,o,{discrete:a}){const c=o.originalEvent.target,d=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:o});s&&c.addEventListener(i,s,{once:!0}),a?dispatchDiscreteCustomEvent(c,d):c.dispatchEvent(d)}var Root$4=DismissableLayer,Branch=DismissableLayerBranch,useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},PORTAL_NAME$1="Portal",Portal=reactExports.forwardRef((i,s)=>{var g;const{container:o,...a}=i,[c,d]=reactExports.useState(!1);useLayoutEffect2(()=>d(!0),[]);const h=o||c&&((g=globalThis==null?void 0:globalThis.document)==null?void 0:g.body);return h?Gt.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...a,ref:s}),h):null});Portal.displayName=PORTAL_NAME$1;function useStateMachine$1(i,s){return reactExports.useReducer((o,a)=>s[o][a]??o,i)}var Presence=i=>{const{present:s,children:o}=i,a=usePresence(s),c=typeof o=="function"?o({present:a.isPresent}):reactExports.Children.only(o),d=useComposedRefs(a.ref,getElementRef(c));return typeof o=="function"||a.isPresent?reactExports.cloneElement(c,{ref:d}):null};Presence.displayName="Presence";function usePresence(i){const[s,o]=reactExports.useState(),a=reactExports.useRef({}),c=reactExports.useRef(i),d=reactExports.useRef("none"),h=i?"mounted":"unmounted",[g,_]=useStateMachine$1(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const b=getAnimationName(a.current);d.current=g==="mounted"?b:"none"},[g]),useLayoutEffect2(()=>{const b=a.current,$=c.current;if($!==i){const _e=d.current,tt=getAnimationName(b);i?_("MOUNT"):tt==="none"||(b==null?void 0:b.display)==="none"?_("UNMOUNT"):_($&&_e!==tt?"ANIMATION_OUT":"UNMOUNT"),c.current=i}},[i,_]),useLayoutEffect2(()=>{if(s){let b;const $=s.ownerDocument.defaultView??window,et=tt=>{const st=getAnimationName(a.current).includes(tt.animationName);if(tt.target===s&&st&&(_("ANIMATION_END"),!c.current)){const lt=s.style.animationFillMode;s.style.animationFillMode="forwards",b=$.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=lt)})}},_e=tt=>{tt.target===s&&(d.current=getAnimationName(a.current))};return s.addEventListener("animationstart",_e),s.addEventListener("animationcancel",et),s.addEventListener("animationend",et),()=>{$.clearTimeout(b),s.removeEventListener("animationstart",_e),s.removeEventListener("animationcancel",et),s.removeEventListener("animationend",et)}}else _("ANIMATION_END")},[s,_]),{isPresent:["mounted","unmountSuspended"].includes(g),ref:reactExports.useCallback(b=>{b&&(a.current=getComputedStyle(b)),o(b)},[])}}function getAnimationName(i){return(i==null?void 0:i.animationName)||"none"}function getElementRef(i){var a,c;let s=(a=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:a.get,o=s&&"isReactWarning"in s&&s.isReactWarning;return o?i.ref:(s=(c=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:c.get,o=s&&"isReactWarning"in s&&s.isReactWarning,o?i.props.ref:i.props.ref||i.ref)}function useControllableState({prop:i,defaultProp:s,onChange:o=()=>{}}){const[a,c]=useUncontrolledState({defaultProp:s,onChange:o}),d=i!==void 0,h=d?i:a,g=useCallbackRef(o),_=reactExports.useCallback(b=>{if(d){const et=typeof b=="function"?b(i):b;et!==i&&g(et)}else c(b)},[d,i,c,g]);return[h,_]}function useUncontrolledState({defaultProp:i,onChange:s}){const o=reactExports.useState(i),[a]=o,c=reactExports.useRef(a),d=useCallbackRef(s);return reactExports.useEffect(()=>{c.current!==a&&(d(a),c.current=a)},[a,c,d]),o}var NAME$1="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((i,s)=>jsxRuntimeExports.jsx(Primitive.span,{...i,ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...i.style}}));VisuallyHidden.displayName=NAME$1;var Root$3=VisuallyHidden,PROVIDER_NAME$1="ToastProvider",[Collection,useCollection,createCollectionScope]=createCollection("Toast"),[createToastContext,createToastScope]=createContextScope$1("Toast",[createCollectionScope]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME$1),ToastProvider$1=i=>{const{__scopeToast:s,label:o="Notification",duration:a=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:h}=i,[g,_]=reactExports.useState(null),[b,$]=reactExports.useState(0),et=reactExports.useRef(!1),_e=reactExports.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME$1}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection.Provider,{scope:s,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:s,label:o,duration:a,swipeDirection:c,swipeThreshold:d,toastCount:b,viewport:g,onViewportChange:_,onToastAdd:reactExports.useCallback(()=>$(tt=>tt+1),[]),onToastRemove:reactExports.useCallback(()=>$(tt=>tt-1),[]),isFocusedToastEscapeKeyDownRef:et,isClosePausedRef:_e,children:h})})};ToastProvider$1.displayName=PROVIDER_NAME$1;var VIEWPORT_NAME$1="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((i,s)=>{const{__scopeToast:o,hotkey:a=VIEWPORT_DEFAULT_HOTKEY,label:c="Notifications ({hotkey})",...d}=i,h=useToastProviderContext(VIEWPORT_NAME$1,o),g=useCollection(o),_=reactExports.useRef(null),b=reactExports.useRef(null),$=reactExports.useRef(null),et=reactExports.useRef(null),_e=useComposedRefs(s,et,h.onViewportChange),tt=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),it=h.toastCount>0;reactExports.useEffect(()=>{const lt=nt=>{var pt;a.length!==0&&a.every(gt=>nt[gt]||nt.code===gt)&&((pt=et.current)==null||pt.focus())};return document.addEventListener("keydown",lt),()=>document.removeEventListener("keydown",lt)},[a]),reactExports.useEffect(()=>{const lt=_.current,nt=et.current;if(it&&lt&&nt){const rt=()=>{if(!h.isClosePausedRef.current){const dt=new CustomEvent(VIEWPORT_PAUSE);nt.dispatchEvent(dt),h.isClosePausedRef.current=!0}},pt=()=>{if(h.isClosePausedRef.current){const dt=new CustomEvent(VIEWPORT_RESUME);nt.dispatchEvent(dt),h.isClosePausedRef.current=!1}},gt=dt=>{!lt.contains(dt.relatedTarget)&&pt()},ht=()=>{lt.contains(document.activeElement)||pt()};return lt.addEventListener("focusin",rt),lt.addEventListener("focusout",gt),lt.addEventListener("pointermove",rt),lt.addEventListener("pointerleave",ht),window.addEventListener("blur",rt),window.addEventListener("focus",pt),()=>{lt.removeEventListener("focusin",rt),lt.removeEventListener("focusout",gt),lt.removeEventListener("pointermove",rt),lt.removeEventListener("pointerleave",ht),window.removeEventListener("blur",rt),window.removeEventListener("focus",pt)}}},[it,h.isClosePausedRef]);const st=reactExports.useCallback(({tabbingDirection:lt})=>{const rt=g().map(pt=>{const gt=pt.ref.current,ht=[gt,...getTabbableCandidates(gt)];return lt==="forwards"?ht:ht.reverse()});return(lt==="forwards"?rt.reverse():rt).flat()},[g]);return reactExports.useEffect(()=>{const lt=et.current;if(lt){const nt=rt=>{var ht,dt,mt;const pt=rt.altKey||rt.ctrlKey||rt.metaKey;if(rt.key==="Tab"&&!pt){const yt=document.activeElement,xt=rt.shiftKey;if(rt.target===lt&&xt){(ht=b.current)==null||ht.focus();return}const St=st({tabbingDirection:xt?"backwards":"forwards"}),Rt=St.findIndex(nn=>nn===yt);focusFirst(St.slice(Rt+1))?rt.preventDefault():xt?(dt=b.current)==null||dt.focus():(mt=$.current)==null||mt.focus()}};return lt.addEventListener("keydown",nt),()=>lt.removeEventListener("keydown",nt)}},[g,st]),jsxRuntimeExports.jsxs(Branch,{ref:_,role:"region","aria-label":c.replace("{hotkey}",tt),tabIndex:-1,style:{pointerEvents:it?void 0:"none"},children:[it&&jsxRuntimeExports.jsx(FocusProxy,{ref:b,onFocusFromOutsideViewport:()=>{const lt=st({tabbingDirection:"forwards"});focusFirst(lt)}}),jsxRuntimeExports.jsx(Collection.Slot,{scope:o,children:jsxRuntimeExports.jsx(Primitive.ol,{tabIndex:-1,...d,ref:_e})}),it&&jsxRuntimeExports.jsx(FocusProxy,{ref:$,onFocusFromOutsideViewport:()=>{const lt=st({tabbingDirection:"backwards"});focusFirst(lt)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME$1;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((i,s)=>{const{__scopeToast:o,onFocusFromOutsideViewport:a,...c}=i,d=useToastProviderContext(FOCUS_PROXY_NAME,o);return jsxRuntimeExports.jsx(VisuallyHidden,{"aria-hidden":!0,tabIndex:0,...c,ref:s,style:{position:"fixed"},onFocus:h=>{var b;const g=h.relatedTarget;!((b=d.viewport)!=null&&b.contains(g))&&a()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((i,s)=>{const{forceMount:o,open:a,defaultOpen:c,onOpenChange:d,...h}=i,[g=!0,_]=useControllableState({prop:a,defaultProp:c,onChange:d});return jsxRuntimeExports.jsx(Presence,{present:o||g,children:jsxRuntimeExports.jsx(ToastImpl,{open:g,...h,ref:s,onClose:()=>_(!1),onPause:useCallbackRef(i.onPause),onResume:useCallbackRef(i.onResume),onSwipeStart:composeEventHandlers(i.onSwipeStart,b=>{b.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(i.onSwipeMove,b=>{const{x:$,y:et}=b.detail.delta;b.currentTarget.setAttribute("data-swipe","move"),b.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${$}px`),b.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${et}px`)}),onSwipeCancel:composeEventHandlers(i.onSwipeCancel,b=>{b.currentTarget.setAttribute("data-swipe","cancel"),b.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),b.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),b.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),b.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(i.onSwipeEnd,b=>{const{x:$,y:et}=b.detail.delta;b.currentTarget.setAttribute("data-swipe","end"),b.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),b.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),b.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${$}px`),b.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${et}px`),_(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((i,s)=>{const{__scopeToast:o,type:a="foreground",duration:c,open:d,onClose:h,onEscapeKeyDown:g,onPause:_,onResume:b,onSwipeStart:$,onSwipeMove:et,onSwipeCancel:_e,onSwipeEnd:tt,...it}=i,st=useToastProviderContext(TOAST_NAME,o),[lt,nt]=reactExports.useState(null),rt=useComposedRefs(s,nn=>nt(nn)),pt=reactExports.useRef(null),gt=reactExports.useRef(null),ht=c||st.duration,dt=reactExports.useRef(0),mt=reactExports.useRef(ht),yt=reactExports.useRef(0),{onToastAdd:xt,onToastRemove:Et}=st,vt=useCallbackRef(()=>{var zt;(lt==null?void 0:lt.contains(document.activeElement))&&((zt=st.viewport)==null||zt.focus()),h()}),St=reactExports.useCallback(nn=>{!nn||nn===1/0||(window.clearTimeout(yt.current),dt.current=new Date().getTime(),yt.current=window.setTimeout(vt,nn))},[vt]);reactExports.useEffect(()=>{const nn=st.viewport;if(nn){const zt=()=>{St(mt.current),b==null||b()},sn=()=>{const en=new Date().getTime()-dt.current;mt.current=mt.current-en,window.clearTimeout(yt.current),_==null||_()};return nn.addEventListener(VIEWPORT_PAUSE,sn),nn.addEventListener(VIEWPORT_RESUME,zt),()=>{nn.removeEventListener(VIEWPORT_PAUSE,sn),nn.removeEventListener(VIEWPORT_RESUME,zt)}}},[st.viewport,ht,_,b,St]),reactExports.useEffect(()=>{d&&!st.isClosePausedRef.current&&St(ht)},[d,ht,st.isClosePausedRef,St]),reactExports.useEffect(()=>(xt(),()=>Et()),[xt,Et]);const Rt=reactExports.useMemo(()=>lt?getAnnounceTextContent(lt):null,[lt]);return st.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Rt&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:o,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:Rt}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:o,onClose:vt,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:o,children:jsxRuntimeExports.jsx(Root$4,{asChild:!0,onEscapeKeyDown:composeEventHandlers(g,()=>{st.isFocusedToastEscapeKeyDownRef.current||vt(),st.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":st.swipeDirection,...it,ref:rt,style:{userSelect:"none",touchAction:"none",...i.style},onKeyDown:composeEventHandlers(i.onKeyDown,nn=>{nn.key==="Escape"&&(g==null||g(nn.nativeEvent),nn.nativeEvent.defaultPrevented||(st.isFocusedToastEscapeKeyDownRef.current=!0,vt()))}),onPointerDown:composeEventHandlers(i.onPointerDown,nn=>{nn.button===0&&(pt.current={x:nn.clientX,y:nn.clientY})}),onPointerMove:composeEventHandlers(i.onPointerMove,nn=>{if(!pt.current)return;const zt=nn.clientX-pt.current.x,sn=nn.clientY-pt.current.y,en=!!gt.current,Nt=["left","right"].includes(st.swipeDirection),At=["left","up"].includes(st.swipeDirection)?Math.min:Math.max,wt=Nt?At(0,zt):0,rn=Nt?0:At(0,sn),kt=nn.pointerType==="touch"?10:2,ot={x:wt,y:rn},bt={originalEvent:nn,delta:ot};en?(gt.current=ot,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,et,bt,{discrete:!1})):isDeltaInDirection(ot,st.swipeDirection,kt)?(gt.current=ot,handleAndDispatchCustomEvent(TOAST_SWIPE_START,$,bt,{discrete:!1}),nn.target.setPointerCapture(nn.pointerId)):(Math.abs(zt)>kt||Math.abs(sn)>kt)&&(pt.current=null)}),onPointerUp:composeEventHandlers(i.onPointerUp,nn=>{const zt=gt.current,sn=nn.target;if(sn.hasPointerCapture(nn.pointerId)&&sn.releasePointerCapture(nn.pointerId),gt.current=null,pt.current=null,zt){const en=nn.currentTarget,Nt={originalEvent:nn,delta:zt};isDeltaInDirection(zt,st.swipeDirection,st.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,tt,Nt,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,_e,Nt,{discrete:!0}),en.addEventListener("click",At=>At.preventDefault(),{once:!0})}})})})}),st.viewport)})]}):null}),ToastAnnounce=i=>{const{__scopeToast:s,children:o,...a}=i,c=useToastProviderContext(TOAST_NAME,s),[d,h]=reactExports.useState(!1),[g,_]=reactExports.useState(!1);return useNextFrame(()=>h(!0)),reactExports.useEffect(()=>{const b=window.setTimeout(()=>_(!0),1e3);return()=>window.clearTimeout(b)},[]),g?null:jsxRuntimeExports.jsx(Portal,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...a,children:d&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[c.label," ",o]})})})},TITLE_NAME="ToastTitle",ToastTitle$1=reactExports.forwardRef((i,s)=>{const{__scopeToast:o,...a}=i;return jsxRuntimeExports.jsx(Primitive.div,{...a,ref:s})});ToastTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="ToastDescription",ToastDescription$1=reactExports.forwardRef((i,s)=>{const{__scopeToast:o,...a}=i;return jsxRuntimeExports.jsx(Primitive.div,{...a,ref:s})});ToastDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="ToastAction",ToastAction$1=reactExports.forwardRef((i,s)=>{const{altText:o,...a}=i;return o.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:o,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{...a,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME;var CLOSE_NAME="ToastClose",ToastClose$1=reactExports.forwardRef((i,s)=>{const{__scopeToast:o,...a}=i,c=useToastInteractiveContext(CLOSE_NAME,o);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",...a,ref:s,onClick:composeEventHandlers(i.onClick,c.onClose)})})});ToastClose$1.displayName=CLOSE_NAME;var ToastAnnounceExclude=reactExports.forwardRef((i,s)=>{const{__scopeToast:o,altText:a,...c}=i;return jsxRuntimeExports.jsx(Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...c,ref:s})});function getAnnounceTextContent(i){const s=[];return Array.from(i.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&s.push(a.textContent),isHTMLElement$1(a)){const c=a.ariaHidden||a.hidden||a.style.display==="none",d=a.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const h=a.dataset.radixToastAnnounceAlt;h&&s.push(h)}else s.push(...getAnnounceTextContent(a))}}),s}function handleAndDispatchCustomEvent(i,s,o,{discrete:a}){const c=o.originalEvent.currentTarget,d=new CustomEvent(i,{bubbles:!0,cancelable:!0,detail:o});s&&c.addEventListener(i,s,{once:!0}),a?dispatchDiscreteCustomEvent(c,d):c.dispatchEvent(d)}var isDeltaInDirection=(i,s,o=0)=>{const a=Math.abs(i.x),c=Math.abs(i.y),d=a>c;return s==="left"||s==="right"?d&&a>o:!d&&c>o};function useNextFrame(i=()=>{}){const s=useCallbackRef(i);useLayoutEffect2(()=>{let o=0,a=0;return o=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(a)}},[s])}function isHTMLElement$1(i){return i.nodeType===i.ELEMENT_NODE}function getTabbableCandidates(i){const s=[],o=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)s.push(o.currentNode);return s}function focusFirst(i){const s=document.activeElement;return i.some(o=>o===s?!0:(o.focus(),document.activeElement!==s))}var Provider$1=ToastProvider$1,Viewport$1=ToastViewport$1,Root2=Toast$1,Title=ToastTitle$1,Description=ToastDescription$1,Action$1=ToastAction$1,Close=ToastClose$1;function r(i){var s,o,a="";if(typeof i=="string"||typeof i=="number")a+=i;else if(typeof i=="object")if(Array.isArray(i)){var c=i.length;for(s=0;s<c;s++)i[s]&&(o=r(i[s]))&&(a&&(a+=" "),a+=o)}else for(o in i)i[o]&&(a&&(a+=" "),a+=o);return a}function clsx(){for(var i,s,o=0,a="",c=arguments.length;o<c;o++)(i=arguments[o])&&(s=r(i))&&(a&&(a+=" "),a+=s);return a}const falsyToString=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,cx=clsx,cva=(i,s)=>o=>{var a;if((s==null?void 0:s.variants)==null)return cx(i,o==null?void 0:o.class,o==null?void 0:o.className);const{variants:c,defaultVariants:d}=s,h=Object.keys(c).map(b=>{const $=o==null?void 0:o[b],et=d==null?void 0:d[b];if($===null)return null;const _e=falsyToString($)||falsyToString(et);return c[b][_e]}),g=o&&Object.entries(o).reduce((b,$)=>{let[et,_e]=$;return _e===void 0||(b[et]=_e),b},{}),_=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((b,$)=>{let{class:et,className:_e,...tt}=$;return Object.entries(tt).every(it=>{let[st,lt]=it;return Array.isArray(lt)?lt.includes({...d,...g}[st]):{...d,...g}[st]===lt})?[...b,et,_e]:b},[]);return cx(i,h,_,o==null?void 0:o.class,o==null?void 0:o.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...i)=>i.filter((s,o,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===o).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:c="",children:d,iconNode:h,...g},_)=>reactExports.createElement("svg",{ref:_,...defaultAttributes,width:s,height:s,stroke:i,strokeWidth:a?Number(o)*24/Number(s):o,className:mergeClasses("lucide",c),...g},[...h.map(([b,$])=>reactExports.createElement(b,$)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(i,s)=>{const o=reactExports.forwardRef(({className:a,...c},d)=>reactExports.createElement(Icon,{ref:d,iconNode:s,className:mergeClasses(`lucide-${toKebabCase(i)}`,a),...c}));return o.displayName=`${i}`,o};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bot=createLucideIcon("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const History=createLucideIcon("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),CLASS_PART_SEPARATOR="-",createClassGroupUtils=i=>{const s=createClassMap(i),{conflictingClassGroups:o,conflictingClassGroupModifiers:a}=i;return{getClassGroupId:h=>{const g=h.split(CLASS_PART_SEPARATOR);return g[0]===""&&g.length!==1&&g.shift(),getGroupRecursive(g,s)||getGroupIdForArbitraryProperty(h)},getConflictingClassGroupIds:(h,g)=>{const _=o[h]||[];return g&&a[h]?[..._,...a[h]]:_}}},getGroupRecursive=(i,s)=>{var h;if(i.length===0)return s.classGroupId;const o=i[0],a=s.nextPart.get(o),c=a?getGroupRecursive(i.slice(1),a):void 0;if(c)return c;if(s.validators.length===0)return;const d=i.join(CLASS_PART_SEPARATOR);return(h=s.validators.find(({validator:g})=>g(d)))==null?void 0:h.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=i=>{if(arbitraryPropertyRegex.test(i)){const s=arbitraryPropertyRegex.exec(i)[1],o=s==null?void 0:s.substring(0,s.indexOf(":"));if(o)return"arbitrary.."+o}},createClassMap=i=>{const{theme:s,prefix:o}=i,a={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(i.classGroups),o).forEach(([d,h])=>{processClassesRecursively(h,a,d,s)}),a},processClassesRecursively=(i,s,o,a)=>{i.forEach(c=>{if(typeof c=="string"){const d=c===""?s:getPart(s,c);d.classGroupId=o;return}if(typeof c=="function"){if(isThemeGetter(c)){processClassesRecursively(c(a),s,o,a);return}s.validators.push({validator:c,classGroupId:o});return}Object.entries(c).forEach(([d,h])=>{processClassesRecursively(h,getPart(s,d),o,a)})})},getPart=(i,s)=>{let o=i;return s.split(CLASS_PART_SEPARATOR).forEach(a=>{o.nextPart.has(a)||o.nextPart.set(a,{nextPart:new Map,validators:[]}),o=o.nextPart.get(a)}),o},isThemeGetter=i=>i.isThemeGetter,getPrefixedClassGroupEntries=(i,s)=>s?i.map(([o,a])=>{const c=a.map(d=>typeof d=="string"?s+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([h,g])=>[s+h,g])):d);return[o,c]}):i,createLruCache=i=>{if(i<1)return{get:()=>{},set:()=>{}};let s=0,o=new Map,a=new Map;const c=(d,h)=>{o.set(d,h),s++,s>i&&(s=0,a=o,o=new Map)};return{get(d){let h=o.get(d);if(h!==void 0)return h;if((h=a.get(d))!==void 0)return c(d,h),h},set(d,h){o.has(d)?o.set(d,h):c(d,h)}}},IMPORTANT_MODIFIER="!",createParseClassName=i=>{const{separator:s,experimentalParseClassName:o}=i,a=s.length===1,c=s[0],d=s.length,h=g=>{const _=[];let b=0,$=0,et;for(let lt=0;lt<g.length;lt++){let nt=g[lt];if(b===0){if(nt===c&&(a||g.slice(lt,lt+d)===s)){_.push(g.slice($,lt)),$=lt+d;continue}if(nt==="/"){et=lt;continue}}nt==="["?b++:nt==="]"&&b--}const _e=_.length===0?g:g.substring($),tt=_e.startsWith(IMPORTANT_MODIFIER),it=tt?_e.substring(1):_e,st=et&&et>$?et-$:void 0;return{modifiers:_,hasImportantModifier:tt,baseClassName:it,maybePostfixModifierPosition:st}};return o?g=>o({className:g,parseClassName:h}):h},sortModifiers=i=>{if(i.length<=1)return i;const s=[];let o=[];return i.forEach(a=>{a[0]==="["?(s.push(...o.sort(),a),o=[]):o.push(a)}),s.push(...o.sort()),s},createConfigUtils=i=>({cache:createLruCache(i.cacheSize),parseClassName:createParseClassName(i),...createClassGroupUtils(i)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(i,s)=>{const{parseClassName:o,getClassGroupId:a,getConflictingClassGroupIds:c}=s,d=[],h=i.trim().split(SPLIT_CLASSES_REGEX);let g="";for(let _=h.length-1;_>=0;_-=1){const b=h[_],{modifiers:$,hasImportantModifier:et,baseClassName:_e,maybePostfixModifierPosition:tt}=o(b);let it=!!tt,st=a(it?_e.substring(0,tt):_e);if(!st){if(!it){g=b+(g.length>0?" "+g:g);continue}if(st=a(_e),!st){g=b+(g.length>0?" "+g:g);continue}it=!1}const lt=sortModifiers($).join(":"),nt=et?lt+IMPORTANT_MODIFIER:lt,rt=nt+st;if(d.includes(rt))continue;d.push(rt);const pt=c(st,it);for(let gt=0;gt<pt.length;++gt){const ht=pt[gt];d.push(nt+ht)}g=b+(g.length>0?" "+g:g)}return g};function twJoin(){let i=0,s,o,a="";for(;i<arguments.length;)(s=arguments[i++])&&(o=toValue(s))&&(a&&(a+=" "),a+=o);return a}const toValue=i=>{if(typeof i=="string")return i;let s,o="";for(let a=0;a<i.length;a++)i[a]&&(s=toValue(i[a]))&&(o&&(o+=" "),o+=s);return o};function createTailwindMerge(i,...s){let o,a,c,d=h;function h(_){const b=s.reduce(($,et)=>et($),i());return o=createConfigUtils(b),a=o.cache.get,c=o.cache.set,d=g,g(_)}function g(_){const b=a(_);if(b)return b;const $=mergeClassList(_,o);return c(_,$),$}return function(){return d(twJoin.apply(null,arguments))}}const fromTheme=i=>{const s=o=>o[i]||[];return s.isThemeGetter=!0,s},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=i=>isNumber(i)||stringLengths.has(i)||fractionRegex.test(i),isArbitraryLength=i=>getIsArbitraryValue(i,"length",isLengthOnly),isNumber=i=>!!i&&!Number.isNaN(Number(i)),isArbitraryNumber=i=>getIsArbitraryValue(i,"number",isNumber),isInteger=i=>!!i&&Number.isInteger(Number(i)),isPercent=i=>i.endsWith("%")&&isNumber(i.slice(0,-1)),isArbitraryValue=i=>arbitraryValueRegex.test(i),isTshirtSize=i=>tshirtUnitRegex.test(i),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=i=>getIsArbitraryValue(i,sizeLabels,isNever),isArbitraryPosition=i=>getIsArbitraryValue(i,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=i=>getIsArbitraryValue(i,imageLabels,isImage),isArbitraryShadow=i=>getIsArbitraryValue(i,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(i,s,o)=>{const a=arbitraryValueRegex.exec(i);return a?a[1]?typeof s=="string"?a[1]===s:s.has(a[1]):o(a[2]):!1},isLengthOnly=i=>lengthUnitRegex.test(i)&&!colorFunctionRegex.test(i),isNever=()=>!1,isShadow=i=>shadowRegex.test(i),isImage=i=>imageRegex.test(i),getDefaultConfig=()=>{const i=fromTheme("colors"),s=fromTheme("spacing"),o=fromTheme("blur"),a=fromTheme("brightness"),c=fromTheme("borderColor"),d=fromTheme("borderRadius"),h=fromTheme("borderSpacing"),g=fromTheme("borderWidth"),_=fromTheme("contrast"),b=fromTheme("grayscale"),$=fromTheme("hueRotate"),et=fromTheme("invert"),_e=fromTheme("gap"),tt=fromTheme("gradientColorStops"),it=fromTheme("gradientColorStopPositions"),st=fromTheme("inset"),lt=fromTheme("margin"),nt=fromTheme("opacity"),rt=fromTheme("padding"),pt=fromTheme("saturate"),gt=fromTheme("scale"),ht=fromTheme("sepia"),dt=fromTheme("skew"),mt=fromTheme("space"),yt=fromTheme("translate"),xt=()=>["auto","contain","none"],Et=()=>["auto","hidden","clip","visible","scroll"],vt=()=>["auto",isArbitraryValue,s],St=()=>[isArbitraryValue,s],Rt=()=>["",isLength,isArbitraryLength],nn=()=>["auto",isNumber,isArbitraryValue],zt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],sn=()=>["solid","dashed","dotted","double","none"],en=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Nt=()=>["start","end","center","between","around","evenly","stretch"],At=()=>["","0",isArbitraryValue],wt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],rn=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:rn(),borderColor:[i],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:St(),borderWidth:Rt(),contrast:rn(),grayscale:At(),hueRotate:rn(),invert:At(),gap:St(),gradientColorStops:[i],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:vt(),margin:vt(),opacity:rn(),padding:St(),saturate:rn(),scale:rn(),sepia:At(),skew:rn(),space:St(),translate:St()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":wt()}],"break-before":[{"break-before":wt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...zt(),isArbitraryValue]}],overflow:[{overflow:Et()}],"overflow-x":[{"overflow-x":Et()}],"overflow-y":[{"overflow-y":Et()}],overscroll:[{overscroll:xt()}],"overscroll-x":[{"overscroll-x":xt()}],"overscroll-y":[{"overscroll-y":xt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[st]}],"inset-x":[{"inset-x":[st]}],"inset-y":[{"inset-y":[st]}],start:[{start:[st]}],end:[{end:[st]}],top:[{top:[st]}],right:[{right:[st]}],bottom:[{bottom:[st]}],left:[{left:[st]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:vt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:At()}],shrink:[{shrink:At()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":nn()}],"col-end":[{"col-end":nn()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":nn()}],"row-end":[{"row-end":nn()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[_e]}],"gap-x":[{"gap-x":[_e]}],"gap-y":[{"gap-y":[_e]}],"justify-content":[{justify:["normal",...Nt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Nt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Nt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[rt]}],px:[{px:[rt]}],py:[{py:[rt]}],ps:[{ps:[rt]}],pe:[{pe:[rt]}],pt:[{pt:[rt]}],pr:[{pr:[rt]}],pb:[{pb:[rt]}],pl:[{pl:[rt]}],m:[{m:[lt]}],mx:[{mx:[lt]}],my:[{my:[lt]}],ms:[{ms:[lt]}],me:[{me:[lt]}],mt:[{mt:[lt]}],mr:[{mr:[lt]}],mb:[{mb:[lt]}],ml:[{ml:[lt]}],"space-x":[{"space-x":[mt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[mt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,s]}],"min-w":[{"min-w":[isArbitraryValue,s,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,s,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,s,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[nt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[nt]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...sn(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:St()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[nt]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...zt(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[it]}],"gradient-via-pos":[{via:[it]}],"gradient-to-pos":[{to:[it]}],"gradient-from":[{from:[tt]}],"gradient-via":[{via:[tt]}],"gradient-to":[{to:[tt]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[nt]}],"border-style":[{border:[...sn(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[nt]}],"divide-style":[{divide:sn()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-s":[{"border-s":[c]}],"border-color-e":[{"border-e":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...sn()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:Rt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[nt]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[nt]}],"mix-blend":[{"mix-blend":[...en(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":en()}],filter:[{filter:["","none"]}],blur:[{blur:[o]}],brightness:[{brightness:[a]}],contrast:[{contrast:[_]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[b]}],"hue-rotate":[{"hue-rotate":[$]}],invert:[{invert:[et]}],saturate:[{saturate:[pt]}],sepia:[{sepia:[ht]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[o]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[_]}],"backdrop-grayscale":[{"backdrop-grayscale":[b]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$]}],"backdrop-invert":[{"backdrop-invert":[et]}],"backdrop-opacity":[{"backdrop-opacity":[nt]}],"backdrop-saturate":[{"backdrop-saturate":[pt]}],"backdrop-sepia":[{"backdrop-sepia":[ht]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:rn()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:rn()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[gt]}],"scale-x":[{"scale-x":[gt]}],"scale-y":[{"scale-y":[gt]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[yt]}],"translate-y":[{"translate-y":[yt]}],"skew-x":[{"skew-x":[dt]}],"skew-y":[{"skew-y":[dt]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":St()}],"scroll-mx":[{"scroll-mx":St()}],"scroll-my":[{"scroll-my":St()}],"scroll-ms":[{"scroll-ms":St()}],"scroll-me":[{"scroll-me":St()}],"scroll-mt":[{"scroll-mt":St()}],"scroll-mr":[{"scroll-mr":St()}],"scroll-mb":[{"scroll-mb":St()}],"scroll-ml":[{"scroll-ml":St()}],"scroll-p":[{"scroll-p":St()}],"scroll-px":[{"scroll-px":St()}],"scroll-py":[{"scroll-py":St()}],"scroll-ps":[{"scroll-ps":St()}],"scroll-pe":[{"scroll-pe":St()}],"scroll-pt":[{"scroll-pt":St()}],"scroll-pr":[{"scroll-pr":St()}],"scroll-pb":[{"scroll-pb":St()}],"scroll-pl":[{"scroll-pl":St()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...i){return twMerge(clsx(i))}const ToastProvider=Provider$1,ToastViewport=reactExports.forwardRef(({className:i,...s},o)=>jsxRuntimeExports.jsx(Viewport$1,{ref:o,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",i),...s}));ToastViewport.displayName=Viewport$1.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:i,variant:s,...o},a)=>jsxRuntimeExports.jsx(Root2,{ref:a,className:cn(toastVariants({variant:s}),i),...o}));Toast.displayName=Root2.displayName;const ToastAction=reactExports.forwardRef(({className:i,...s},o)=>jsxRuntimeExports.jsx(Action$1,{ref:o,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",i),...s}));ToastAction.displayName=Action$1.displayName;const ToastClose=reactExports.forwardRef(({className:i,...s},o)=>jsxRuntimeExports.jsx(Close,{ref:o,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",i),"toast-close":"",...s,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}));ToastClose.displayName=Close.displayName;const ToastTitle=reactExports.forwardRef(({className:i,...s},o)=>jsxRuntimeExports.jsx(Title,{ref:o,className:cn("text-sm font-semibold",i),...s}));ToastTitle.displayName=Title.displayName;const ToastDescription=reactExports.forwardRef(({className:i,...s},o)=>jsxRuntimeExports.jsx(Description,{ref:o,className:cn("text-sm opacity-90",i),...s}));ToastDescription.displayName=Description.displayName;function Toaster$1(){const{toasts:i}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[i.map(function({id:s,title:o,description:a,action:c,...d}){return jsxRuntimeExports.jsxs(Toast,{...d,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[o&&jsxRuntimeExports.jsx(ToastTitle,{children:o}),a&&jsxRuntimeExports.jsx(ToastDescription,{children:a})]}),c,jsxRuntimeExports.jsx(ToastClose,{})]},s)}),jsxRuntimeExports.jsx(ToastViewport,{})]})}var P=["light","dark"],E="(prefers-color-scheme: dark)",L=reactExports.createContext(void 0),D={setTheme:i=>{},themes:[]},j=()=>{var i;return(i=reactExports.useContext(L))!=null?i:D};reactExports.memo(({forcedTheme:i,storageKey:s,attribute:o,enableSystem:a,enableColorScheme:c,defaultTheme:d,value:h,attrs:g,nonce:_})=>{let b=d==="system",$=o==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${g.map(it=>`'${it}'`).join(",")})`};`:`var d=document.documentElement,n='${o}',s='setAttribute';`,et=c?P.includes(d)&&d?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${d}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",_e=(it,st=!1,lt=!0)=>{let nt=h?h[it]:it,rt=st?it+"|| ''":`'${nt}'`,pt="";return c&&lt&&!st&&P.includes(it)&&(pt+=`d.style.colorScheme = '${it}';`),o==="class"?st||nt?pt+=`c.add(${rt})`:pt+="null":nt&&(pt+=`d[s](n,${rt})`),pt},tt=i?`!function(){${$}${_e(i)}}()`:a?`!function(){try{${$}var e=localStorage.getItem('${s}');if('system'===e||(!e&&${b})){var t='${E}',m=window.matchMedia(t);if(m.media!==t||m.matches){${_e("dark")}}else{${_e("light")}}}else if(e){${h?`var x=${JSON.stringify(h)};`:""}${_e(h?"x[e]":"e",!0)}}${b?"":"else{"+_e(d,!1,!1)+"}"}${et}}catch(e){}}()`:`!function(){try{${$}var e=localStorage.getItem('${s}');if(e){${h?`var x=${JSON.stringify(h)};`:""}${_e(h?"x[e]":"e",!0)}}else{${_e(d,!1,!1)};}${et}}catch(t){}}();`;return reactExports.createElement("script",{nonce:_,dangerouslySetInnerHTML:{__html:tt}})});var Ct=i=>{switch(i){case"success":return $t;case"info":return _t;case"warning":return Wt;case"error":return Ut;default:return null}},Ft=Array(12).fill(0),It=({visible:i})=>e.createElement("div",{className:"sonner-loading-wrapper","data-visible":i},e.createElement("div",{className:"sonner-spinner"},Ft.map((s,o)=>e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),$t=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Wt=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_t=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ut=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Dt=()=>{let[i,s]=e.useState(document.hidden);return e.useEffect(()=>{let o=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",o),()=>window.removeEventListener("visibilitychange",o)},[]),i},ct=1,ut=class{constructor(){this.subscribe=i=>(this.subscribers.push(i),()=>{let s=this.subscribers.indexOf(i);this.subscribers.splice(s,1)}),this.publish=i=>{this.subscribers.forEach(s=>s(i))},this.addToast=i=>{this.publish(i),this.toasts=[...this.toasts,i]},this.create=i=>{var s;let{message:o,...a}=i,c=typeof(i==null?void 0:i.id)=="number"||((s=i.id)==null?void 0:s.length)>0?i.id:ct++,d=this.toasts.find(g=>g.id===c),h=i.dismissible===void 0?!0:i.dismissible;return d?this.toasts=this.toasts.map(g=>g.id===c?(this.publish({...g,...i,id:c,title:o}),{...g,...i,id:c,dismissible:h,title:o}):g):this.addToast({title:o,...a,dismissible:h,id:c}),c},this.dismiss=i=>(i||this.toasts.forEach(s=>{this.subscribers.forEach(o=>o({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:i,dismiss:!0})),i),this.message=(i,s)=>this.create({...s,message:i}),this.error=(i,s)=>this.create({...s,message:i,type:"error"}),this.success=(i,s)=>this.create({...s,type:"success",message:i}),this.info=(i,s)=>this.create({...s,type:"info",message:i}),this.warning=(i,s)=>this.create({...s,type:"warning",message:i}),this.loading=(i,s)=>this.create({...s,type:"loading",message:i}),this.promise=(i,s)=>{if(!s)return;let o;s.loading!==void 0&&(o=this.create({...s,promise:i,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let a=i instanceof Promise?i:i(),c=o!==void 0;return a.then(async d=>{if(Ot(d)&&!d.ok){c=!1;let h=typeof s.error=="function"?await s.error(`HTTP error! status: ${d.status}`):s.error,g=typeof s.description=="function"?await s.description(`HTTP error! status: ${d.status}`):s.description;this.create({id:o,type:"error",message:h,description:g})}else if(s.success!==void 0){c=!1;let h=typeof s.success=="function"?await s.success(d):s.success,g=typeof s.description=="function"?await s.description(d):s.description;this.create({id:o,type:"success",message:h,description:g})}}).catch(async d=>{if(s.error!==void 0){c=!1;let h=typeof s.error=="function"?await s.error(d):s.error,g=typeof s.description=="function"?await s.description(d):s.description;this.create({id:o,type:"error",message:h,description:g})}}).finally(()=>{var d;c&&(this.dismiss(o),o=void 0),(d=s.finally)==null||d.call(s)}),o},this.custom=(i,s)=>{let o=(s==null?void 0:s.id)||ct++;return this.create({jsx:i(o),id:o,...s}),o},this.subscribers=[],this.toasts=[]}},v=new ut,Vt=(i,s)=>{let o=(s==null?void 0:s.id)||ct++;return v.addToast({title:i,...s,id:o}),o},Ot=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",Kt=Vt,Xt=()=>v.toasts;Object.assign(Kt,{success:v.success,info:v.info,warning:v.warning,error:v.error,custom:v.custom,message:v.message,promise:v.promise,dismiss:v.dismiss,loading:v.loading},{getHistory:Xt});function ft(i,{insertAt:s}={}){if(typeof document>"u")return;let o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s==="top"&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=i:a.appendChild(document.createTextNode(i))}ft(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function U(i){return i.label!==void 0}var qt=3,Qt="32px",Zt=4e3,te=356,ee=14,oe=20,ae=200;function ne(...i){return i.filter(Boolean).join(" ")}var se=i=>{var s,o,a,c,d,h,g,_,b,$;let{invert:et,toast:_e,unstyled:tt,interacting:it,setHeights:st,visibleToasts:lt,heights:nt,index:rt,toasts:pt,expanded:gt,removeToast:ht,defaultRichColors:dt,closeButton:mt,style:yt,cancelButtonStyle:xt,actionButtonStyle:Et,className:vt="",descriptionClassName:St="",duration:Rt,position:nn,gap:zt,loadingIcon:sn,expandByDefault:en,classNames:Nt,icons:At,closeButtonAriaLabel:wt="Close toast",pauseWhenPageIsHidden:rn,cn:kt}=i,[ot,bt]=e.useState(!1),[Pt,Mt]=e.useState(!1),[jt,Bt]=e.useState(!1),[on,yn]=e.useState(!1),[Sn,En]=e.useState(0),[kn,Tn]=e.useState(0),In=e.useRef(null),gn=e.useRef(null),xn=rt===0,Tt=rt+1<=lt,Yt=_e.type,hn=_e.dismissible!==!1,_n=_e.className||"",Pn=_e.descriptionClassName||"",Fn=e.useMemo(()=>nt.findIndex(Ln=>Ln.toastId===_e.id)||0,[nt,_e.id]),Mn=e.useMemo(()=>{var Ln;return(Ln=_e.closeButton)!=null?Ln:mt},[_e.closeButton,mt]),pn=e.useMemo(()=>_e.duration||Rt||Zt,[_e.duration,Rt]),un=e.useRef(0),vn=e.useRef(0),$n=e.useRef(0),jn=e.useRef(null),[Xn,zn]=nn.split("-"),Hn=e.useMemo(()=>nt.reduce((Ln,Qn,Yn)=>Yn>=Fn?Ln:Ln+Qn.height,0),[nt,Fn]),er=Dt(),rr=_e.invert||et,Rn=Yt==="loading";vn.current=e.useMemo(()=>Fn*zt+Hn,[Fn,Hn]),e.useEffect(()=>{bt(!0)},[]),e.useLayoutEffect(()=>{if(!ot)return;let Ln=gn.current,Qn=Ln.style.height;Ln.style.height="auto";let Yn=Ln.getBoundingClientRect().height;Ln.style.height=Qn,Tn(Yn),st(tn=>tn.find(An=>An.toastId===_e.id)?tn.map(An=>An.toastId===_e.id?{...An,height:Yn}:An):[{toastId:_e.id,height:Yn,position:_e.position},...tn])},[ot,_e.title,_e.description,st,_e.id]);let mn=e.useCallback(()=>{Mt(!0),En(vn.current),st(Ln=>Ln.filter(Qn=>Qn.toastId!==_e.id)),setTimeout(()=>{ht(_e)},ae)},[_e,ht,st,vn]);e.useEffect(()=>{if(_e.promise&&Yt==="loading"||_e.duration===1/0||_e.type==="loading")return;let Ln,Qn=pn;return gt||it||rn&&er?(()=>{if($n.current<un.current){let Yn=new Date().getTime()-un.current;Qn=Qn-Yn}$n.current=new Date().getTime()})():Qn!==1/0&&(un.current=new Date().getTime(),Ln=setTimeout(()=>{var Yn;(Yn=_e.onAutoClose)==null||Yn.call(_e,_e),mn()},Qn)),()=>clearTimeout(Ln)},[gt,it,en,_e,pn,mn,_e.promise,Yt,rn,er]),e.useEffect(()=>{let Ln=gn.current;if(Ln){let Qn=Ln.getBoundingClientRect().height;return Tn(Qn),st(Yn=>[{toastId:_e.id,height:Qn,position:_e.position},...Yn]),()=>st(Yn=>Yn.filter(tn=>tn.toastId!==_e.id))}},[st,_e.id]),e.useEffect(()=>{_e.delete&&mn()},[mn,_e.delete]);function bn(){return At!=null&&At.loading?e.createElement("div",{className:"sonner-loader","data-visible":Yt==="loading"},At.loading):sn?e.createElement("div",{className:"sonner-loader","data-visible":Yt==="loading"},sn):e.createElement(It,{visible:Yt==="loading"})}return e.createElement("li",{"aria-live":_e.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:gn,className:kt(vt,_n,Nt==null?void 0:Nt.toast,(s=_e==null?void 0:_e.classNames)==null?void 0:s.toast,Nt==null?void 0:Nt.default,Nt==null?void 0:Nt[Yt],(o=_e==null?void 0:_e.classNames)==null?void 0:o[Yt]),"data-sonner-toast":"","data-rich-colors":(a=_e.richColors)!=null?a:dt,"data-styled":!(_e.jsx||_e.unstyled||tt),"data-mounted":ot,"data-promise":!!_e.promise,"data-removed":Pt,"data-visible":Tt,"data-y-position":Xn,"data-x-position":zn,"data-index":rt,"data-front":xn,"data-swiping":jt,"data-dismissible":hn,"data-type":Yt,"data-invert":rr,"data-swipe-out":on,"data-expanded":!!(gt||en&&ot),style:{"--index":rt,"--toasts-before":rt,"--z-index":pt.length-rt,"--offset":`${Pt?Sn:vn.current}px`,"--initial-height":en?"auto":`${kn}px`,...yt,..._e.style},onPointerDown:Ln=>{Rn||!hn||(In.current=new Date,En(vn.current),Ln.target.setPointerCapture(Ln.pointerId),Ln.target.tagName!=="BUTTON"&&(Bt(!0),jn.current={x:Ln.clientX,y:Ln.clientY}))},onPointerUp:()=>{var Ln,Qn,Yn,tn;if(on||!hn)return;jn.current=null;let An=Number(((Ln=gn.current)==null?void 0:Ln.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Dn=new Date().getTime()-((Qn=In.current)==null?void 0:Qn.getTime()),Vn=Math.abs(An)/Dn;if(Math.abs(An)>=oe||Vn>.11){En(vn.current),(Yn=_e.onDismiss)==null||Yn.call(_e,_e),mn(),yn(!0);return}(tn=gn.current)==null||tn.style.setProperty("--swipe-amount","0px"),Bt(!1)},onPointerMove:Ln=>{var Qn;if(!jn.current||!hn)return;let Yn=Ln.clientY-jn.current.y,tn=Ln.clientX-jn.current.x,An=(Xn==="top"?Math.min:Math.max)(0,Yn),Dn=Ln.pointerType==="touch"?10:2;Math.abs(An)>Dn?(Qn=gn.current)==null||Qn.style.setProperty("--swipe-amount",`${Yn}px`):Math.abs(tn)>Dn&&(jn.current=null)}},Mn&&!_e.jsx?e.createElement("button",{"aria-label":wt,"data-disabled":Rn,"data-close-button":!0,onClick:Rn||!hn?()=>{}:()=>{var Ln;mn(),(Ln=_e.onDismiss)==null||Ln.call(_e,_e)},className:kt(Nt==null?void 0:Nt.closeButton,(c=_e==null?void 0:_e.classNames)==null?void 0:c.closeButton)},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,_e.jsx||e.isValidElement(_e.title)?_e.jsx||_e.title:e.createElement(e.Fragment,null,Yt||_e.icon||_e.promise?e.createElement("div",{"data-icon":"",className:kt(Nt==null?void 0:Nt.icon,(d=_e==null?void 0:_e.classNames)==null?void 0:d.icon)},_e.promise||_e.type==="loading"&&!_e.icon?_e.icon||bn():null,_e.type!=="loading"?_e.icon||(At==null?void 0:At[Yt])||Ct(Yt):null):null,e.createElement("div",{"data-content":"",className:kt(Nt==null?void 0:Nt.content,(h=_e==null?void 0:_e.classNames)==null?void 0:h.content)},e.createElement("div",{"data-title":"",className:kt(Nt==null?void 0:Nt.title,(g=_e==null?void 0:_e.classNames)==null?void 0:g.title)},_e.title),_e.description?e.createElement("div",{"data-description":"",className:kt(St,Pn,Nt==null?void 0:Nt.description,(_=_e==null?void 0:_e.classNames)==null?void 0:_.description)},_e.description):null),e.isValidElement(_e.cancel)?_e.cancel:_e.cancel&&U(_e.cancel)?e.createElement("button",{"data-button":!0,"data-cancel":!0,style:_e.cancelButtonStyle||xt,onClick:Ln=>{var Qn,Yn;U(_e.cancel)&&hn&&((Yn=(Qn=_e.cancel).onClick)==null||Yn.call(Qn,Ln),mn())},className:kt(Nt==null?void 0:Nt.cancelButton,(b=_e==null?void 0:_e.classNames)==null?void 0:b.cancelButton)},_e.cancel.label):null,e.isValidElement(_e.action)?_e.action:_e.action&&U(_e.action)?e.createElement("button",{"data-button":!0,"data-action":!0,style:_e.actionButtonStyle||Et,onClick:Ln=>{var Qn,Yn;U(_e.action)&&(Ln.defaultPrevented||((Yn=(Qn=_e.action).onClick)==null||Yn.call(Qn,Ln),mn()))},className:kt(Nt==null?void 0:Nt.actionButton,($=_e==null?void 0:_e.classNames)==null?void 0:$.actionButton)},_e.action.label):null))};function Ht(){if(typeof window>"u"||typeof document>"u")return"ltr";let i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}var Te=i=>{let{invert:s,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:d,className:h,offset:g,theme:_="light",richColors:b,duration:$,style:et,visibleToasts:_e=qt,toastOptions:tt,dir:it=Ht(),gap:st=ee,loadingIcon:lt,icons:nt,containerAriaLabel:rt="Notifications",pauseWhenPageIsHidden:pt,cn:gt=ne}=i,[ht,dt]=e.useState([]),mt=e.useMemo(()=>Array.from(new Set([o].concat(ht.filter(rn=>rn.position).map(rn=>rn.position)))),[ht,o]),[yt,xt]=e.useState([]),[Et,vt]=e.useState(!1),[St,Rt]=e.useState(!1),[nn,zt]=e.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),sn=e.useRef(null),en=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),Nt=e.useRef(null),At=e.useRef(!1),wt=e.useCallback(rn=>{var kt;(kt=ht.find(ot=>ot.id===rn.id))!=null&&kt.delete||v.dismiss(rn.id),dt(ot=>ot.filter(({id:bt})=>bt!==rn.id))},[ht]);return e.useEffect(()=>v.subscribe(rn=>{if(rn.dismiss){dt(kt=>kt.map(ot=>ot.id===rn.id?{...ot,delete:!0}:ot));return}setTimeout(()=>{Gt.flushSync(()=>{dt(kt=>{let ot=kt.findIndex(bt=>bt.id===rn.id);return ot!==-1?[...kt.slice(0,ot),{...kt[ot],...rn},...kt.slice(ot+1)]:[rn,...kt]})})})}),[]),e.useEffect(()=>{if(_!=="system"){zt(_);return}_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?zt("dark"):zt("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:rn})=>{zt(rn?"dark":"light")})},[_]),e.useEffect(()=>{ht.length<=1&&vt(!1)},[ht]),e.useEffect(()=>{let rn=kt=>{var ot,bt;a.every(Pt=>kt[Pt]||kt.code===Pt)&&(vt(!0),(ot=sn.current)==null||ot.focus()),kt.code==="Escape"&&(document.activeElement===sn.current||(bt=sn.current)!=null&&bt.contains(document.activeElement))&&vt(!1)};return document.addEventListener("keydown",rn),()=>document.removeEventListener("keydown",rn)},[a]),e.useEffect(()=>{if(sn.current)return()=>{Nt.current&&(Nt.current.focus({preventScroll:!0}),Nt.current=null,At.current=!1)}},[sn.current]),ht.length?e.createElement("section",{"aria-label":`${rt} ${en}`,tabIndex:-1},mt.map((rn,kt)=>{var ot;let[bt,Pt]=rn.split("-");return e.createElement("ol",{key:rn,dir:it==="auto"?Ht():it,tabIndex:-1,ref:sn,className:h,"data-sonner-toaster":!0,"data-theme":nn,"data-y-position":bt,"data-x-position":Pt,style:{"--front-toast-height":`${((ot=yt[0])==null?void 0:ot.height)||0}px`,"--offset":typeof g=="number"?`${g}px`:g||Qt,"--width":`${te}px`,"--gap":`${st}px`,...et},onBlur:Mt=>{At.current&&!Mt.currentTarget.contains(Mt.relatedTarget)&&(At.current=!1,Nt.current&&(Nt.current.focus({preventScroll:!0}),Nt.current=null))},onFocus:Mt=>{Mt.target instanceof HTMLElement&&Mt.target.dataset.dismissible==="false"||At.current||(At.current=!0,Nt.current=Mt.relatedTarget)},onMouseEnter:()=>vt(!0),onMouseMove:()=>vt(!0),onMouseLeave:()=>{St||vt(!1)},onPointerDown:Mt=>{Mt.target instanceof HTMLElement&&Mt.target.dataset.dismissible==="false"||Rt(!0)},onPointerUp:()=>Rt(!1)},ht.filter(Mt=>!Mt.position&&kt===0||Mt.position===rn).map((Mt,jt)=>{var Bt,on;return e.createElement(se,{key:Mt.id,icons:nt,index:jt,toast:Mt,defaultRichColors:b,duration:(Bt=tt==null?void 0:tt.duration)!=null?Bt:$,className:tt==null?void 0:tt.className,descriptionClassName:tt==null?void 0:tt.descriptionClassName,invert:s,visibleToasts:_e,closeButton:(on=tt==null?void 0:tt.closeButton)!=null?on:d,interacting:St,position:rn,style:tt==null?void 0:tt.style,unstyled:tt==null?void 0:tt.unstyled,classNames:tt==null?void 0:tt.classNames,cancelButtonStyle:tt==null?void 0:tt.cancelButtonStyle,actionButtonStyle:tt==null?void 0:tt.actionButtonStyle,removeToast:wt,toasts:ht.filter(yn=>yn.position==Mt.position),heights:yt.filter(yn=>yn.position==Mt.position),setHeights:xt,expandByDefault:c,gap:st,loadingIcon:lt,expanded:Et,pauseWhenPageIsHidden:pt,cn:gt})}))})):null};const Toaster=({...i})=>{const{theme:s="system"}=j();return jsxRuntimeExports.jsx(Te,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...i})},sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=i=>({x:i,y:i}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(i,s,o){return max(i,min(s,o))}function evaluate(i,s){return typeof i=="function"?i(s):i}function getSide(i){return i.split("-")[0]}function getAlignment(i){return i.split("-")[1]}function getOppositeAxis(i){return i==="x"?"y":"x"}function getAxisLength(i){return i==="y"?"height":"width"}function getSideAxis(i){return["top","bottom"].includes(getSide(i))?"y":"x"}function getAlignmentAxis(i){return getOppositeAxis(getSideAxis(i))}function getAlignmentSides(i,s,o){o===void 0&&(o=!1);const a=getAlignment(i),c=getAlignmentAxis(i),d=getAxisLength(c);let h=c==="x"?a===(o?"end":"start")?"right":"left":a==="start"?"bottom":"top";return s.reference[d]>s.floating[d]&&(h=getOppositePlacement(h)),[h,getOppositePlacement(h)]}function getExpandedPlacements(i){const s=getOppositePlacement(i);return[getOppositeAlignmentPlacement(i),s,getOppositeAlignmentPlacement(s)]}function getOppositeAlignmentPlacement(i){return i.replace(/start|end/g,s=>oppositeAlignmentMap[s])}function getSideList(i,s,o){const a=["left","right"],c=["right","left"],d=["top","bottom"],h=["bottom","top"];switch(i){case"top":case"bottom":return o?s?c:a:s?a:c;case"left":case"right":return s?d:h;default:return[]}}function getOppositeAxisPlacements(i,s,o,a){const c=getAlignment(i);let d=getSideList(getSide(i),o==="start",a);return c&&(d=d.map(h=>h+"-"+c),s&&(d=d.concat(d.map(getOppositeAlignmentPlacement)))),d}function getOppositePlacement(i){return i.replace(/left|right|bottom|top/g,s=>oppositeSideMap[s])}function expandPaddingObject(i){return{top:0,right:0,bottom:0,left:0,...i}}function getPaddingObject(i){return typeof i!="number"?expandPaddingObject(i):{top:i,right:i,bottom:i,left:i}}function rectToClientRect(i){const{x:s,y:o,width:a,height:c}=i;return{width:a,height:c,top:o,left:s,right:s+a,bottom:o+c,x:s,y:o}}function computeCoordsFromPlacement(i,s,o){let{reference:a,floating:c}=i;const d=getSideAxis(s),h=getAlignmentAxis(s),g=getAxisLength(h),_=getSide(s),b=d==="y",$=a.x+a.width/2-c.width/2,et=a.y+a.height/2-c.height/2,_e=a[g]/2-c[g]/2;let tt;switch(_){case"top":tt={x:$,y:a.y-c.height};break;case"bottom":tt={x:$,y:a.y+a.height};break;case"right":tt={x:a.x+a.width,y:et};break;case"left":tt={x:a.x-c.width,y:et};break;default:tt={x:a.x,y:a.y}}switch(getAlignment(s)){case"start":tt[h]-=_e*(o&&b?-1:1);break;case"end":tt[h]+=_e*(o&&b?-1:1);break}return tt}const computePosition$1=async(i,s,o)=>{const{placement:a="bottom",strategy:c="absolute",middleware:d=[],platform:h}=o,g=d.filter(Boolean),_=await(h.isRTL==null?void 0:h.isRTL(s));let b=await h.getElementRects({reference:i,floating:s,strategy:c}),{x:$,y:et}=computeCoordsFromPlacement(b,a,_),_e=a,tt={},it=0;for(let st=0;st<g.length;st++){const{name:lt,fn:nt}=g[st],{x:rt,y:pt,data:gt,reset:ht}=await nt({x:$,y:et,initialPlacement:a,placement:_e,strategy:c,middlewareData:tt,rects:b,platform:h,elements:{reference:i,floating:s}});$=rt??$,et=pt??et,tt={...tt,[lt]:{...tt[lt],...gt}},ht&&it<=50&&(it++,typeof ht=="object"&&(ht.placement&&(_e=ht.placement),ht.rects&&(b=ht.rects===!0?await h.getElementRects({reference:i,floating:s,strategy:c}):ht.rects),{x:$,y:et}=computeCoordsFromPlacement(b,_e,_)),st=-1)}return{x:$,y:et,placement:_e,strategy:c,middlewareData:tt}};async function detectOverflow(i,s){var o;s===void 0&&(s={});const{x:a,y:c,platform:d,rects:h,elements:g,strategy:_}=i,{boundary:b="clippingAncestors",rootBoundary:$="viewport",elementContext:et="floating",altBoundary:_e=!1,padding:tt=0}=evaluate(s,i),it=getPaddingObject(tt),lt=g[_e?et==="floating"?"reference":"floating":et],nt=rectToClientRect(await d.getClippingRect({element:(o=await(d.isElement==null?void 0:d.isElement(lt)))==null||o?lt:lt.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(g.floating)),boundary:b,rootBoundary:$,strategy:_})),rt=et==="floating"?{x:a,y:c,width:h.floating.width,height:h.floating.height}:h.reference,pt=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g.floating)),gt=await(d.isElement==null?void 0:d.isElement(pt))?await(d.getScale==null?void 0:d.getScale(pt))||{x:1,y:1}:{x:1,y:1},ht=rectToClientRect(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:g,rect:rt,offsetParent:pt,strategy:_}):rt);return{top:(nt.top-ht.top+it.top)/gt.y,bottom:(ht.bottom-nt.bottom+it.bottom)/gt.y,left:(nt.left-ht.left+it.left)/gt.x,right:(ht.right-nt.right+it.right)/gt.x}}const arrow$3=i=>({name:"arrow",options:i,async fn(s){const{x:o,y:a,placement:c,rects:d,platform:h,elements:g,middlewareData:_}=s,{element:b,padding:$=0}=evaluate(i,s)||{};if(b==null)return{};const et=getPaddingObject($),_e={x:o,y:a},tt=getAlignmentAxis(c),it=getAxisLength(tt),st=await h.getDimensions(b),lt=tt==="y",nt=lt?"top":"left",rt=lt?"bottom":"right",pt=lt?"clientHeight":"clientWidth",gt=d.reference[it]+d.reference[tt]-_e[tt]-d.floating[it],ht=_e[tt]-d.reference[tt],dt=await(h.getOffsetParent==null?void 0:h.getOffsetParent(b));let mt=dt?dt[pt]:0;(!mt||!await(h.isElement==null?void 0:h.isElement(dt)))&&(mt=g.floating[pt]||d.floating[it]);const yt=gt/2-ht/2,xt=mt/2-st[it]/2-1,Et=min(et[nt],xt),vt=min(et[rt],xt),St=Et,Rt=mt-st[it]-vt,nn=mt/2-st[it]/2+yt,zt=clamp$1(St,nn,Rt),sn=!_.arrow&&getAlignment(c)!=null&&nn!==zt&&d.reference[it]/2-(nn<St?Et:vt)-st[it]/2<0,en=sn?nn<St?nn-St:nn-Rt:0;return{[tt]:_e[tt]+en,data:{[tt]:zt,centerOffset:nn-zt-en,...sn&&{alignmentOffset:en}},reset:sn}}}),flip$2=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(s){var o,a;const{placement:c,middlewareData:d,rects:h,initialPlacement:g,platform:_,elements:b}=s,{mainAxis:$=!0,crossAxis:et=!0,fallbackPlacements:_e,fallbackStrategy:tt="bestFit",fallbackAxisSideDirection:it="none",flipAlignment:st=!0,...lt}=evaluate(i,s);if((o=d.arrow)!=null&&o.alignmentOffset)return{};const nt=getSide(c),rt=getSideAxis(g),pt=getSide(g)===g,gt=await(_.isRTL==null?void 0:_.isRTL(b.floating)),ht=_e||(pt||!st?[getOppositePlacement(g)]:getExpandedPlacements(g)),dt=it!=="none";!_e&&dt&&ht.push(...getOppositeAxisPlacements(g,st,it,gt));const mt=[g,...ht],yt=await detectOverflow(s,lt),xt=[];let Et=((a=d.flip)==null?void 0:a.overflows)||[];if($&&xt.push(yt[nt]),et){const nn=getAlignmentSides(c,h,gt);xt.push(yt[nn[0]],yt[nn[1]])}if(Et=[...Et,{placement:c,overflows:xt}],!xt.every(nn=>nn<=0)){var vt,St;const nn=(((vt=d.flip)==null?void 0:vt.index)||0)+1,zt=mt[nn];if(zt)return{data:{index:nn,overflows:Et},reset:{placement:zt}};let sn=(St=Et.filter(en=>en.overflows[0]<=0).sort((en,Nt)=>en.overflows[1]-Nt.overflows[1])[0])==null?void 0:St.placement;if(!sn)switch(tt){case"bestFit":{var Rt;const en=(Rt=Et.filter(Nt=>{if(dt){const At=getSideAxis(Nt.placement);return At===rt||At==="y"}return!0}).map(Nt=>[Nt.placement,Nt.overflows.filter(At=>At>0).reduce((At,wt)=>At+wt,0)]).sort((Nt,At)=>Nt[1]-At[1])[0])==null?void 0:Rt[0];en&&(sn=en);break}case"initialPlacement":sn=g;break}if(c!==sn)return{reset:{placement:sn}}}return{}}}};function getSideOffsets(i,s){return{top:i.top-s.height,right:i.right-s.width,bottom:i.bottom-s.height,left:i.left-s.width}}function isAnySideFullyClipped(i){return sides.some(s=>i[s]>=0)}const hide$2=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(s){const{rects:o}=s,{strategy:a="referenceHidden",...c}=evaluate(i,s);switch(a){case"referenceHidden":{const d=await detectOverflow(s,{...c,elementContext:"reference"}),h=getSideOffsets(d,o.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:isAnySideFullyClipped(h)}}}case"escaped":{const d=await detectOverflow(s,{...c,altBoundary:!0}),h=getSideOffsets(d,o.floating);return{data:{escapedOffsets:h,escaped:isAnySideFullyClipped(h)}}}default:return{}}}}};async function convertValueToCoords(i,s){const{placement:o,platform:a,elements:c}=i,d=await(a.isRTL==null?void 0:a.isRTL(c.floating)),h=getSide(o),g=getAlignment(o),_=getSideAxis(o)==="y",b=["left","top"].includes(h)?-1:1,$=d&&_?-1:1,et=evaluate(s,i);let{mainAxis:_e,crossAxis:tt,alignmentAxis:it}=typeof et=="number"?{mainAxis:et,crossAxis:0,alignmentAxis:null}:{mainAxis:et.mainAxis||0,crossAxis:et.crossAxis||0,alignmentAxis:et.alignmentAxis};return g&&typeof it=="number"&&(tt=g==="end"?it*-1:it),_?{x:tt*$,y:_e*b}:{x:_e*b,y:tt*$}}const offset$2=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(s){var o,a;const{x:c,y:d,placement:h,middlewareData:g}=s,_=await convertValueToCoords(s,i);return h===((o=g.offset)==null?void 0:o.placement)&&(a=g.arrow)!=null&&a.alignmentOffset?{}:{x:c+_.x,y:d+_.y,data:{..._,placement:h}}}}},shift$2=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(s){const{x:o,y:a,placement:c}=s,{mainAxis:d=!0,crossAxis:h=!1,limiter:g={fn:lt=>{let{x:nt,y:rt}=lt;return{x:nt,y:rt}}},..._}=evaluate(i,s),b={x:o,y:a},$=await detectOverflow(s,_),et=getSideAxis(getSide(c)),_e=getOppositeAxis(et);let tt=b[_e],it=b[et];if(d){const lt=_e==="y"?"top":"left",nt=_e==="y"?"bottom":"right",rt=tt+$[lt],pt=tt-$[nt];tt=clamp$1(rt,tt,pt)}if(h){const lt=et==="y"?"top":"left",nt=et==="y"?"bottom":"right",rt=it+$[lt],pt=it-$[nt];it=clamp$1(rt,it,pt)}const st=g.fn({...s,[_e]:tt,[et]:it});return{...st,data:{x:st.x-o,y:st.y-a,enabled:{[_e]:d,[et]:h}}}}}},limitShift$2=function(i){return i===void 0&&(i={}),{options:i,fn(s){const{x:o,y:a,placement:c,rects:d,middlewareData:h}=s,{offset:g=0,mainAxis:_=!0,crossAxis:b=!0}=evaluate(i,s),$={x:o,y:a},et=getSideAxis(c),_e=getOppositeAxis(et);let tt=$[_e],it=$[et];const st=evaluate(g,s),lt=typeof st=="number"?{mainAxis:st,crossAxis:0}:{mainAxis:0,crossAxis:0,...st};if(_){const pt=_e==="y"?"height":"width",gt=d.reference[_e]-d.floating[pt]+lt.mainAxis,ht=d.reference[_e]+d.reference[pt]-lt.mainAxis;tt<gt?tt=gt:tt>ht&&(tt=ht)}if(b){var nt,rt;const pt=_e==="y"?"width":"height",gt=["top","left"].includes(getSide(c)),ht=d.reference[et]-d.floating[pt]+(gt&&((nt=h.offset)==null?void 0:nt[et])||0)+(gt?0:lt.crossAxis),dt=d.reference[et]+d.reference[pt]+(gt?0:((rt=h.offset)==null?void 0:rt[et])||0)-(gt?lt.crossAxis:0);it<ht?it=ht:it>dt&&(it=dt)}return{[_e]:tt,[et]:it}}}},size$2=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(s){var o,a;const{placement:c,rects:d,platform:h,elements:g}=s,{apply:_=()=>{},...b}=evaluate(i,s),$=await detectOverflow(s,b),et=getSide(c),_e=getAlignment(c),tt=getSideAxis(c)==="y",{width:it,height:st}=d.floating;let lt,nt;et==="top"||et==="bottom"?(lt=et,nt=_e===(await(h.isRTL==null?void 0:h.isRTL(g.floating))?"start":"end")?"left":"right"):(nt=et,lt=_e==="end"?"top":"bottom");const rt=st-$.top-$.bottom,pt=it-$.left-$.right,gt=min(st-$[lt],rt),ht=min(it-$[nt],pt),dt=!s.middlewareData.shift;let mt=gt,yt=ht;if((o=s.middlewareData.shift)!=null&&o.enabled.x&&(yt=pt),(a=s.middlewareData.shift)!=null&&a.enabled.y&&(mt=rt),dt&&!_e){const Et=max($.left,0),vt=max($.right,0),St=max($.top,0),Rt=max($.bottom,0);tt?yt=it-2*(Et!==0||vt!==0?Et+vt:max($.left,$.right)):mt=st-2*(St!==0||Rt!==0?St+Rt:max($.top,$.bottom))}await _({...s,availableWidth:yt,availableHeight:mt});const xt=await h.getDimensions(g.floating);return it!==xt.width||st!==xt.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(i){return isNode(i)?(i.nodeName||"").toLowerCase():"#document"}function getWindow(i){var s;return(i==null||(s=i.ownerDocument)==null?void 0:s.defaultView)||window}function getDocumentElement(i){var s;return(s=(isNode(i)?i.ownerDocument:i.document)||window.document)==null?void 0:s.documentElement}function isNode(i){return hasWindow()?i instanceof Node||i instanceof getWindow(i).Node:!1}function isElement(i){return hasWindow()?i instanceof Element||i instanceof getWindow(i).Element:!1}function isHTMLElement(i){return hasWindow()?i instanceof HTMLElement||i instanceof getWindow(i).HTMLElement:!1}function isShadowRoot(i){return!hasWindow()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof getWindow(i).ShadowRoot}function isOverflowElement(i){const{overflow:s,overflowX:o,overflowY:a,display:c}=getComputedStyle$1(i);return/auto|scroll|overlay|hidden|clip/.test(s+a+o)&&!["inline","contents"].includes(c)}function isTableElement(i){return["table","td","th"].includes(getNodeName(i))}function isTopLayer(i){return[":popover-open",":modal"].some(s=>{try{return i.matches(s)}catch{return!1}})}function isContainingBlock(i){const s=isWebKit(),o=isElement(i)?getComputedStyle$1(i):i;return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!s&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!s&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(o.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(o.contain||"").includes(a))}function getContainingBlock(i){let s=getParentNode(i);for(;isHTMLElement(s)&&!isLastTraversableNode(s);){if(isContainingBlock(s))return s;if(isTopLayer(s))return null;s=getParentNode(s)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(i){return["html","body","#document"].includes(getNodeName(i))}function getComputedStyle$1(i){return getWindow(i).getComputedStyle(i)}function getNodeScroll(i){return isElement(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function getParentNode(i){if(getNodeName(i)==="html")return i;const s=i.assignedSlot||i.parentNode||isShadowRoot(i)&&i.host||getDocumentElement(i);return isShadowRoot(s)?s.host:s}function getNearestOverflowAncestor(i){const s=getParentNode(i);return isLastTraversableNode(s)?i.ownerDocument?i.ownerDocument.body:i.body:isHTMLElement(s)&&isOverflowElement(s)?s:getNearestOverflowAncestor(s)}function getOverflowAncestors(i,s,o){var a;s===void 0&&(s=[]),o===void 0&&(o=!0);const c=getNearestOverflowAncestor(i),d=c===((a=i.ownerDocument)==null?void 0:a.body),h=getWindow(c);if(d){const g=getFrameElement(h);return s.concat(h,h.visualViewport||[],isOverflowElement(c)?c:[],g&&o?getOverflowAncestors(g):[])}return s.concat(c,getOverflowAncestors(c,[],o))}function getFrameElement(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function getCssDimensions(i){const s=getComputedStyle$1(i);let o=parseFloat(s.width)||0,a=parseFloat(s.height)||0;const c=isHTMLElement(i),d=c?i.offsetWidth:o,h=c?i.offsetHeight:a,g=round(o)!==d||round(a)!==h;return g&&(o=d,a=h),{width:o,height:a,$:g}}function unwrapElement(i){return isElement(i)?i:i.contextElement}function getScale(i){const s=unwrapElement(i);if(!isHTMLElement(s))return createCoords(1);const o=s.getBoundingClientRect(),{width:a,height:c,$:d}=getCssDimensions(s);let h=(d?round(o.width):o.width)/a,g=(d?round(o.height):o.height)/c;return(!h||!Number.isFinite(h))&&(h=1),(!g||!Number.isFinite(g))&&(g=1),{x:h,y:g}}const noOffsets=createCoords(0);function getVisualOffsets(i){const s=getWindow(i);return!isWebKit()||!s.visualViewport?noOffsets:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function shouldAddVisualOffsets(i,s,o){return s===void 0&&(s=!1),!o||s&&o!==getWindow(i)?!1:s}function getBoundingClientRect(i,s,o,a){s===void 0&&(s=!1),o===void 0&&(o=!1);const c=i.getBoundingClientRect(),d=unwrapElement(i);let h=createCoords(1);s&&(a?isElement(a)&&(h=getScale(a)):h=getScale(i));const g=shouldAddVisualOffsets(d,o,a)?getVisualOffsets(d):createCoords(0);let _=(c.left+g.x)/h.x,b=(c.top+g.y)/h.y,$=c.width/h.x,et=c.height/h.y;if(d){const _e=getWindow(d),tt=a&&isElement(a)?getWindow(a):a;let it=_e,st=getFrameElement(it);for(;st&&a&&tt!==it;){const lt=getScale(st),nt=st.getBoundingClientRect(),rt=getComputedStyle$1(st),pt=nt.left+(st.clientLeft+parseFloat(rt.paddingLeft))*lt.x,gt=nt.top+(st.clientTop+parseFloat(rt.paddingTop))*lt.y;_*=lt.x,b*=lt.y,$*=lt.x,et*=lt.y,_+=pt,b+=gt,it=getWindow(st),st=getFrameElement(it)}}return rectToClientRect({width:$,height:et,x:_,y:b})}function convertOffsetParentRelativeRectToViewportRelativeRect(i){let{elements:s,rect:o,offsetParent:a,strategy:c}=i;const d=c==="fixed",h=getDocumentElement(a),g=s?isTopLayer(s.floating):!1;if(a===h||g&&d)return o;let _={scrollLeft:0,scrollTop:0},b=createCoords(1);const $=createCoords(0),et=isHTMLElement(a);if((et||!et&&!d)&&((getNodeName(a)!=="body"||isOverflowElement(h))&&(_=getNodeScroll(a)),isHTMLElement(a))){const _e=getBoundingClientRect(a);b=getScale(a),$.x=_e.x+a.clientLeft,$.y=_e.y+a.clientTop}return{width:o.width*b.x,height:o.height*b.y,x:o.x*b.x-_.scrollLeft*b.x+$.x,y:o.y*b.y-_.scrollTop*b.y+$.y}}function getClientRects(i){return Array.from(i.getClientRects())}function getWindowScrollBarX(i,s){const o=getNodeScroll(i).scrollLeft;return s?s.left+o:getBoundingClientRect(getDocumentElement(i)).left+o}function getDocumentRect(i){const s=getDocumentElement(i),o=getNodeScroll(i),a=i.ownerDocument.body,c=max(s.scrollWidth,s.clientWidth,a.scrollWidth,a.clientWidth),d=max(s.scrollHeight,s.clientHeight,a.scrollHeight,a.clientHeight);let h=-o.scrollLeft+getWindowScrollBarX(i);const g=-o.scrollTop;return getComputedStyle$1(a).direction==="rtl"&&(h+=max(s.clientWidth,a.clientWidth)-c),{width:c,height:d,x:h,y:g}}function getViewportRect(i,s){const o=getWindow(i),a=getDocumentElement(i),c=o.visualViewport;let d=a.clientWidth,h=a.clientHeight,g=0,_=0;if(c){d=c.width,h=c.height;const b=isWebKit();(!b||b&&s==="fixed")&&(g=c.offsetLeft,_=c.offsetTop)}return{width:d,height:h,x:g,y:_}}function getInnerBoundingClientRect(i,s){const o=getBoundingClientRect(i,!0,s==="fixed"),a=o.top+i.clientTop,c=o.left+i.clientLeft,d=isHTMLElement(i)?getScale(i):createCoords(1),h=i.clientWidth*d.x,g=i.clientHeight*d.y,_=c*d.x,b=a*d.y;return{width:h,height:g,x:_,y:b}}function getClientRectFromClippingAncestor(i,s,o){let a;if(s==="viewport")a=getViewportRect(i,o);else if(s==="document")a=getDocumentRect(getDocumentElement(i));else if(isElement(s))a=getInnerBoundingClientRect(s,o);else{const c=getVisualOffsets(i);a={...s,x:s.x-c.x,y:s.y-c.y}}return rectToClientRect(a)}function hasFixedPositionAncestor(i,s){const o=getParentNode(i);return o===s||!isElement(o)||isLastTraversableNode(o)?!1:getComputedStyle$1(o).position==="fixed"||hasFixedPositionAncestor(o,s)}function getClippingElementAncestors(i,s){const o=s.get(i);if(o)return o;let a=getOverflowAncestors(i,[],!1).filter(g=>isElement(g)&&getNodeName(g)!=="body"),c=null;const d=getComputedStyle$1(i).position==="fixed";let h=d?getParentNode(i):i;for(;isElement(h)&&!isLastTraversableNode(h);){const g=getComputedStyle$1(h),_=isContainingBlock(h);!_&&g.position==="fixed"&&(c=null),(d?!_&&!c:!_&&g.position==="static"&&!!c&&["absolute","fixed"].includes(c.position)||isOverflowElement(h)&&!_&&hasFixedPositionAncestor(i,h))?a=a.filter($=>$!==h):c=g,h=getParentNode(h)}return s.set(i,a),a}function getClippingRect(i){let{element:s,boundary:o,rootBoundary:a,strategy:c}=i;const h=[...o==="clippingAncestors"?isTopLayer(s)?[]:getClippingElementAncestors(s,this._c):[].concat(o),a],g=h[0],_=h.reduce((b,$)=>{const et=getClientRectFromClippingAncestor(s,$,c);return b.top=max(et.top,b.top),b.right=min(et.right,b.right),b.bottom=min(et.bottom,b.bottom),b.left=max(et.left,b.left),b},getClientRectFromClippingAncestor(s,g,c));return{width:_.right-_.left,height:_.bottom-_.top,x:_.left,y:_.top}}function getDimensions(i){const{width:s,height:o}=getCssDimensions(i);return{width:s,height:o}}function getRectRelativeToOffsetParent(i,s,o){const a=isHTMLElement(s),c=getDocumentElement(s),d=o==="fixed",h=getBoundingClientRect(i,!0,d,s);let g={scrollLeft:0,scrollTop:0};const _=createCoords(0);if(a||!a&&!d)if((getNodeName(s)!=="body"||isOverflowElement(c))&&(g=getNodeScroll(s)),a){const tt=getBoundingClientRect(s,!0,d,s);_.x=tt.x+s.clientLeft,_.y=tt.y+s.clientTop}else c&&(_.x=getWindowScrollBarX(c));let b=0,$=0;if(c&&!a&&!d){const tt=c.getBoundingClientRect();$=tt.top+g.scrollTop,b=tt.left+g.scrollLeft-getWindowScrollBarX(c,tt)}const et=h.left+g.scrollLeft-_.x-b,_e=h.top+g.scrollTop-_.y-$;return{x:et,y:_e,width:h.width,height:h.height}}function isStaticPositioned(i){return getComputedStyle$1(i).position==="static"}function getTrueOffsetParent(i,s){if(!isHTMLElement(i)||getComputedStyle$1(i).position==="fixed")return null;if(s)return s(i);let o=i.offsetParent;return getDocumentElement(i)===o&&(o=o.ownerDocument.body),o}function getOffsetParent(i,s){const o=getWindow(i);if(isTopLayer(i))return o;if(!isHTMLElement(i)){let c=getParentNode(i);for(;c&&!isLastTraversableNode(c);){if(isElement(c)&&!isStaticPositioned(c))return c;c=getParentNode(c)}return o}let a=getTrueOffsetParent(i,s);for(;a&&isTableElement(a)&&isStaticPositioned(a);)a=getTrueOffsetParent(a,s);return a&&isLastTraversableNode(a)&&isStaticPositioned(a)&&!isContainingBlock(a)?o:a||getContainingBlock(i)||o}const getElementRects=async function(i){const s=this.getOffsetParent||getOffsetParent,o=this.getDimensions,a=await o(i.floating);return{reference:getRectRelativeToOffsetParent(i.reference,await s(i.floating),i.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function isRTL(i){return getComputedStyle$1(i).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(i,s){let o=null,a;const c=getDocumentElement(i);function d(){var g;clearTimeout(a),(g=o)==null||g.disconnect(),o=null}function h(g,_){g===void 0&&(g=!1),_===void 0&&(_=1),d();const{left:b,top:$,width:et,height:_e}=i.getBoundingClientRect();if(g||s(),!et||!_e)return;const tt=floor($),it=floor(c.clientWidth-(b+et)),st=floor(c.clientHeight-($+_e)),lt=floor(b),rt={rootMargin:-tt+"px "+-it+"px "+-st+"px "+-lt+"px",threshold:max(0,min(1,_))||1};let pt=!0;function gt(ht){const dt=ht[0].intersectionRatio;if(dt!==_){if(!pt)return h();dt?h(!1,dt):a=setTimeout(()=>{h(!1,1e-7)},1e3)}pt=!1}try{o=new IntersectionObserver(gt,{...rt,root:c.ownerDocument})}catch{o=new IntersectionObserver(gt,rt)}o.observe(i)}return h(!0),d}function autoUpdate(i,s,o,a){a===void 0&&(a={});const{ancestorScroll:c=!0,ancestorResize:d=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:g=typeof IntersectionObserver=="function",animationFrame:_=!1}=a,b=unwrapElement(i),$=c||d?[...b?getOverflowAncestors(b):[],...getOverflowAncestors(s)]:[];$.forEach(nt=>{c&&nt.addEventListener("scroll",o,{passive:!0}),d&&nt.addEventListener("resize",o)});const et=b&&g?observeMove(b,o):null;let _e=-1,tt=null;h&&(tt=new ResizeObserver(nt=>{let[rt]=nt;rt&&rt.target===b&&tt&&(tt.unobserve(s),cancelAnimationFrame(_e),_e=requestAnimationFrame(()=>{var pt;(pt=tt)==null||pt.observe(s)})),o()}),b&&!_&&tt.observe(b),tt.observe(s));let it,st=_?getBoundingClientRect(i):null;_&&lt();function lt(){const nt=getBoundingClientRect(i);st&&(nt.x!==st.x||nt.y!==st.y||nt.width!==st.width||nt.height!==st.height)&&o(),st=nt,it=requestAnimationFrame(lt)}return o(),()=>{var nt;$.forEach(rt=>{c&&rt.removeEventListener("scroll",o),d&&rt.removeEventListener("resize",o)}),et==null||et(),(nt=tt)==null||nt.disconnect(),tt=null,_&&cancelAnimationFrame(it)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(i,s,o)=>{const a=new Map,c={platform,...o},d={...c.platform,_c:a};return computePosition$1(i,s,{...c,platform:d})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(i,s){if(i===s)return!0;if(typeof i!=typeof s)return!1;if(typeof i=="function"&&i.toString()===s.toString())return!0;let o,a,c;if(i&&s&&typeof i=="object"){if(Array.isArray(i)){if(o=i.length,o!==s.length)return!1;for(a=o;a--!==0;)if(!deepEqual(i[a],s[a]))return!1;return!0}if(c=Object.keys(i),o=c.length,o!==Object.keys(s).length)return!1;for(a=o;a--!==0;)if(!{}.hasOwnProperty.call(s,c[a]))return!1;for(a=o;a--!==0;){const d=c[a];if(!(d==="_owner"&&i.$$typeof)&&!deepEqual(i[d],s[d]))return!1}return!0}return i!==i&&s!==s}function getDPR(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(i,s){const o=getDPR(i);return Math.round(s*o)/o}function useLatestRef(i){const s=reactExports.useRef(i);return index$1(()=>{s.current=i}),s}function useFloating(i){i===void 0&&(i={});const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:c,elements:{reference:d,floating:h}={},transform:g=!0,whileElementsMounted:_,open:b}=i,[$,et]=reactExports.useState({x:0,y:0,strategy:o,placement:s,middlewareData:{},isPositioned:!1}),[_e,tt]=reactExports.useState(a);deepEqual(_e,a)||tt(a);const[it,st]=reactExports.useState(null),[lt,nt]=reactExports.useState(null),rt=reactExports.useCallback(Nt=>{Nt!==dt.current&&(dt.current=Nt,st(Nt))},[]),pt=reactExports.useCallback(Nt=>{Nt!==mt.current&&(mt.current=Nt,nt(Nt))},[]),gt=d||it,ht=h||lt,dt=reactExports.useRef(null),mt=reactExports.useRef(null),yt=reactExports.useRef($),xt=_!=null,Et=useLatestRef(_),vt=useLatestRef(c),St=useLatestRef(b),Rt=reactExports.useCallback(()=>{if(!dt.current||!mt.current)return;const Nt={placement:s,strategy:o,middleware:_e};vt.current&&(Nt.platform=vt.current),computePosition(dt.current,mt.current,Nt).then(At=>{const wt={...At,isPositioned:St.current!==!1};nn.current&&!deepEqual(yt.current,wt)&&(yt.current=wt,reactDomExports.flushSync(()=>{et(wt)}))})},[_e,s,o,vt,St]);index$1(()=>{b===!1&&yt.current.isPositioned&&(yt.current.isPositioned=!1,et(Nt=>({...Nt,isPositioned:!1})))},[b]);const nn=reactExports.useRef(!1);index$1(()=>(nn.current=!0,()=>{nn.current=!1}),[]),index$1(()=>{if(gt&&(dt.current=gt),ht&&(mt.current=ht),gt&&ht){if(Et.current)return Et.current(gt,ht,Rt);Rt()}},[gt,ht,Rt,Et,xt]);const zt=reactExports.useMemo(()=>({reference:dt,floating:mt,setReference:rt,setFloating:pt}),[rt,pt]),sn=reactExports.useMemo(()=>({reference:gt,floating:ht}),[gt,ht]),en=reactExports.useMemo(()=>{const Nt={position:o,left:0,top:0};if(!sn.floating)return Nt;const At=roundByDPR(sn.floating,$.x),wt=roundByDPR(sn.floating,$.y);return g?{...Nt,transform:"translate("+At+"px, "+wt+"px)",...getDPR(sn.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:At,top:wt}},[o,g,sn.floating,$.x,$.y]);return reactExports.useMemo(()=>({...$,update:Rt,refs:zt,elements:sn,floatingStyles:en}),[$,Rt,zt,sn,en])}const arrow$1=i=>{function s(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:i,fn(o){const{element:a,padding:c}=typeof i=="function"?i(o):i;return a&&s(a)?a.current!=null?arrow$2({element:a.current,padding:c}).fn(o):{}:a?arrow$2({element:a,padding:c}).fn(o):{}}}},offset=(i,s)=>({...offset$1(i),options:[i,s]}),shift=(i,s)=>({...shift$1(i),options:[i,s]}),limitShift=(i,s)=>({...limitShift$1(i),options:[i,s]}),flip=(i,s)=>({...flip$1(i),options:[i,s]}),size=(i,s)=>({...size$1(i),options:[i,s]}),hide=(i,s)=>({...hide$1(i),options:[i,s]}),arrow=(i,s)=>({...arrow$1(i),options:[i,s]});var NAME="Arrow",Arrow$1=reactExports.forwardRef((i,s)=>{const{children:o,width:a=10,height:c=5,...d}=i;return jsxRuntimeExports.jsx(Primitive.svg,{...d,ref:s,width:a,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:i.asChild?o:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME;var Root$2=Arrow$1;function createContextScope(i,s=[]){let o=[];function a(d,h){const g=reactExports.createContext(h),_=o.length;o=[...o,h];function b(et){const{scope:_e,children:tt,...it}=et,st=(_e==null?void 0:_e[i][_])||g,lt=reactExports.useMemo(()=>it,Object.values(it));return jsxRuntimeExports.jsx(st.Provider,{value:lt,children:tt})}function $(et,_e){const tt=(_e==null?void 0:_e[i][_])||g,it=reactExports.useContext(tt);if(it)return it;if(h!==void 0)return h;throw new Error(`\`${et}\` must be used within \`${d}\``)}return b.displayName=d+"Provider",[b,$]}const c=()=>{const d=o.map(h=>reactExports.createContext(h));return function(g){const _=(g==null?void 0:g[i])||d;return reactExports.useMemo(()=>({[`__scope${i}`]:{...g,[i]:_}}),[g,_])}};return c.scopeName=i,[a,composeContextScopes(c,...s)]}function composeContextScopes(...i){const s=i[0];if(i.length===1)return s;const o=()=>{const a=i.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const h=a.reduce((g,{useScope:_,scopeName:b})=>{const et=_(d)[`__scope${b}`];return{...g,...et}},{});return reactExports.useMemo(()=>({[`__scope${s.scopeName}`]:h}),[h])}};return o.scopeName=s.scopeName,o}function useSize(i){const[s,o]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(i){o({width:i.offsetWidth,height:i.offsetHeight});const a=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const d=c[0];let h,g;if("borderBoxSize"in d){const _=d.borderBoxSize,b=Array.isArray(_)?_[0]:_;h=b.inlineSize,g=b.blockSize}else h=i.offsetWidth,g=i.offsetHeight;o({width:h,height:g})});return a.observe(i,{box:"border-box"}),()=>a.unobserve(i)}else o(void 0)},[i]),s}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),ANCHOR_NAME="PopperAnchor",PopperAnchor=reactExports.forwardRef((i,s)=>{const{__scopePopper:o,virtualRef:a,...c}=i,d=usePopperContext(ANCHOR_NAME,o),h=reactExports.useRef(null),g=useComposedRefs(s,h);return reactExports.useEffect(()=>{d.onAnchorChange((a==null?void 0:a.current)||h.current)}),a?null:jsxRuntimeExports.jsx(Primitive.div,{...c,ref:g})});PopperAnchor.displayName=ANCHOR_NAME;var CONTENT_NAME$1="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$1),PopperContent=reactExports.forwardRef((i,s)=>{var jt,Bt,on,yn,Sn,En;const{__scopePopper:o,side:a="bottom",sideOffset:c=0,align:d="center",alignOffset:h=0,arrowPadding:g=0,avoidCollisions:_=!0,collisionBoundary:b=[],collisionPadding:$=0,sticky:et="partial",hideWhenDetached:_e=!1,updatePositionStrategy:tt="optimized",onPlaced:it,...st}=i,lt=usePopperContext(CONTENT_NAME$1,o),[nt,rt]=reactExports.useState(null),pt=useComposedRefs(s,kn=>rt(kn)),[gt,ht]=reactExports.useState(null),dt=useSize(gt),mt=(dt==null?void 0:dt.width)??0,yt=(dt==null?void 0:dt.height)??0,xt=a+(d!=="center"?"-"+d:""),Et=typeof $=="number"?$:{top:0,right:0,bottom:0,left:0,...$},vt=Array.isArray(b)?b:[b],St=vt.length>0,Rt={padding:Et,boundary:vt.filter(isNotNull),altBoundary:St},{refs:nn,floatingStyles:zt,placement:sn,isPositioned:en,middlewareData:Nt}=useFloating({strategy:"fixed",placement:xt,whileElementsMounted:(...kn)=>autoUpdate(...kn,{animationFrame:tt==="always"}),elements:{reference:lt.anchor},middleware:[offset({mainAxis:c+yt,alignmentAxis:h}),_&&shift({mainAxis:!0,crossAxis:!1,limiter:et==="partial"?limitShift():void 0,...Rt}),_&&flip({...Rt}),size({...Rt,apply:({elements:kn,rects:Tn,availableWidth:In,availableHeight:gn})=>{const{width:xn,height:Tt}=Tn.reference,Yt=kn.floating.style;Yt.setProperty("--radix-popper-available-width",`${In}px`),Yt.setProperty("--radix-popper-available-height",`${gn}px`),Yt.setProperty("--radix-popper-anchor-width",`${xn}px`),Yt.setProperty("--radix-popper-anchor-height",`${Tt}px`)}}),gt&&arrow({element:gt,padding:g}),transformOrigin({arrowWidth:mt,arrowHeight:yt}),_e&&hide({strategy:"referenceHidden",...Rt})]}),[At,wt]=getSideAndAlignFromPlacement(sn),rn=useCallbackRef(it);useLayoutEffect2(()=>{en&&(rn==null||rn())},[en,rn]);const kt=(jt=Nt.arrow)==null?void 0:jt.x,ot=(Bt=Nt.arrow)==null?void 0:Bt.y,bt=((on=Nt.arrow)==null?void 0:on.centerOffset)!==0,[Pt,Mt]=reactExports.useState();return useLayoutEffect2(()=>{nt&&Mt(window.getComputedStyle(nt).zIndex)},[nt]),jsxRuntimeExports.jsx("div",{ref:nn.setFloating,"data-radix-popper-content-wrapper":"",style:{...zt,transform:en?zt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pt,"--radix-popper-transform-origin":[(yn=Nt.transformOrigin)==null?void 0:yn.x,(Sn=Nt.transformOrigin)==null?void 0:Sn.y].join(" "),...((En=Nt.hide)==null?void 0:En.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:i.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:o,placedSide:At,onArrowChange:ht,arrowX:kt,arrowY:ot,shouldHideArrow:bt,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":At,"data-align":wt,...st,ref:pt,style:{...st.style,animation:en?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$1;var ARROW_NAME$1="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(s,o){const{__scopePopper:a,...c}=s,d=useContentContext(ARROW_NAME$1,a),h=OPPOSITE_SIDE[d.placedSide];return jsxRuntimeExports.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$2,{...c,ref:o,style:{...c.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$1;function isNotNull(i){return i!==null}var transformOrigin=i=>({name:"transformOrigin",options:i,fn(s){var lt,nt,rt;const{placement:o,rects:a,middlewareData:c}=s,h=((lt=c.arrow)==null?void 0:lt.centerOffset)!==0,g=h?0:i.arrowWidth,_=h?0:i.arrowHeight,[b,$]=getSideAndAlignFromPlacement(o),et={start:"0%",center:"50%",end:"100%"}[$],_e=(((nt=c.arrow)==null?void 0:nt.x)??0)+g/2,tt=(((rt=c.arrow)==null?void 0:rt.y)??0)+_/2;let it="",st="";return b==="bottom"?(it=h?et:`${_e}px`,st=`${-_}px`):b==="top"?(it=h?et:`${_e}px`,st=`${a.floating.height+_}px`):b==="right"?(it=`${-_}px`,st=h?et:`${tt}px`):b==="left"&&(it=`${a.floating.width+_}px`,st=h?et:`${tt}px`),{data:{x:it,y:st}}}});function getSideAndAlignFromPlacement(i){const[s,o="center"]=i.split("-");return[s,o]}var Anchor=PopperAnchor,Content=PopperContent,Arrow=PopperArrow,[createTooltipContext,createTooltipScope]=createContextScope$1("Tooltip",[createPopperScope]),usePopperScope=createPopperScope(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider$1=i=>{const{__scopeTooltip:s,delayDuration:o=DEFAULT_DELAY_DURATION,skipDelayDuration:a=300,disableHoverableContent:c=!1,children:d}=i,[h,g]=reactExports.useState(!0),_=reactExports.useRef(!1),b=reactExports.useRef(0);return reactExports.useEffect(()=>{const $=b.current;return()=>window.clearTimeout($)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:s,isOpenDelayed:h,delayDuration:o,onOpen:reactExports.useCallback(()=>{window.clearTimeout(b.current),g(!1)},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>g(!0),a)},[a]),isPointerInTransitRef:_,onPointerInTransitChange:reactExports.useCallback($=>{_.current=$},[]),disableHoverableContent:c,children:d})};TooltipProvider$1.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),TRIGGER_NAME="TooltipTrigger",TooltipTrigger=reactExports.forwardRef((i,s)=>{const{__scopeTooltip:o,...a}=i,c=useTooltipContext(TRIGGER_NAME,o),d=useTooltipProviderContext(TRIGGER_NAME,o),h=usePopperScope(o),g=reactExports.useRef(null),_=useComposedRefs(s,g,c.onTriggerChange),b=reactExports.useRef(!1),$=reactExports.useRef(!1),et=reactExports.useCallback(()=>b.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",et),[et]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...h,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...a,ref:_,onPointerMove:composeEventHandlers(i.onPointerMove,_e=>{_e.pointerType!=="touch"&&!$.current&&!d.isPointerInTransitRef.current&&(c.onTriggerEnter(),$.current=!0)}),onPointerLeave:composeEventHandlers(i.onPointerLeave,()=>{c.onTriggerLeave(),$.current=!1}),onPointerDown:composeEventHandlers(i.onPointerDown,()=>{b.current=!0,document.addEventListener("pointerup",et,{once:!0})}),onFocus:composeEventHandlers(i.onFocus,()=>{b.current||c.onOpen()}),onBlur:composeEventHandlers(i.onBlur,c.onClose),onClick:composeEventHandlers(i.onClick,c.onClose)})})});TooltipTrigger.displayName=TRIGGER_NAME;var PORTAL_NAME="TooltipPortal",[PortalProvider,usePortalContext]=createTooltipContext(PORTAL_NAME,{forceMount:void 0}),CONTENT_NAME="TooltipContent",TooltipContent$1=reactExports.forwardRef((i,s)=>{const o=usePortalContext(CONTENT_NAME,i.__scopeTooltip),{forceMount:a=o.forceMount,side:c="top",...d}=i,h=useTooltipContext(CONTENT_NAME,i.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:a||h.open,children:h.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:c,...d,ref:s}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:c,...d,ref:s})})}),TooltipContentHoverable=reactExports.forwardRef((i,s)=>{const o=useTooltipContext(CONTENT_NAME,i.__scopeTooltip),a=useTooltipProviderContext(CONTENT_NAME,i.__scopeTooltip),c=reactExports.useRef(null),d=useComposedRefs(s,c),[h,g]=reactExports.useState(null),{trigger:_,onClose:b}=o,$=c.current,{onPointerInTransitChange:et}=a,_e=reactExports.useCallback(()=>{g(null),et(!1)},[et]),tt=reactExports.useCallback((it,st)=>{const lt=it.currentTarget,nt={x:it.clientX,y:it.clientY},rt=getExitSideFromRect(nt,lt.getBoundingClientRect()),pt=getPaddedExitPoints(nt,rt),gt=getPointsFromRect(st.getBoundingClientRect()),ht=getHull([...pt,...gt]);g(ht),et(!0)},[et]);return reactExports.useEffect(()=>()=>_e(),[_e]),reactExports.useEffect(()=>{if(_&&$){const it=lt=>tt(lt,$),st=lt=>tt(lt,_);return _.addEventListener("pointerleave",it),$.addEventListener("pointerleave",st),()=>{_.removeEventListener("pointerleave",it),$.removeEventListener("pointerleave",st)}}},[_,$,tt,_e]),reactExports.useEffect(()=>{if(h){const it=st=>{const lt=st.target,nt={x:st.clientX,y:st.clientY},rt=(_==null?void 0:_.contains(lt))||($==null?void 0:$.contains(lt)),pt=!isPointInPolygon(nt,h);rt?_e():pt&&(_e(),b())};return document.addEventListener("pointermove",it),()=>document.removeEventListener("pointermove",it)}},[_,$,h,b,_e]),jsxRuntimeExports.jsx(TooltipContentImpl,{...i,ref:d})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),TooltipContentImpl=reactExports.forwardRef((i,s)=>{const{__scopeTooltip:o,children:a,"aria-label":c,onEscapeKeyDown:d,onPointerDownOutside:h,...g}=i,_=useTooltipContext(CONTENT_NAME,o),b=usePopperScope(o),{onClose:$}=_;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,$),()=>document.removeEventListener(TOOLTIP_OPEN,$)),[$]),reactExports.useEffect(()=>{if(_.trigger){const et=_e=>{const tt=_e.target;tt!=null&&tt.contains(_.trigger)&&$()};return window.addEventListener("scroll",et,{capture:!0}),()=>window.removeEventListener("scroll",et,{capture:!0})}},[_.trigger,$]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:et=>et.preventDefault(),onDismiss:$,children:jsxRuntimeExports.jsxs(Content,{"data-state":_.stateAttribute,...b,...g,ref:s,style:{...g.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable,{children:a}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:o,isInside:!0,children:jsxRuntimeExports.jsx(Root$3,{id:_.contentId,role:"tooltip",children:c||a})})]})})});TooltipContent$1.displayName=CONTENT_NAME;var ARROW_NAME="TooltipArrow",TooltipArrow=reactExports.forwardRef((i,s)=>{const{__scopeTooltip:o,...a}=i,c=usePopperScope(o);return useVisuallyHiddenContentContext(ARROW_NAME,o).isInside?null:jsxRuntimeExports.jsx(Arrow,{...c,...a,ref:s})});TooltipArrow.displayName=ARROW_NAME;function getExitSideFromRect(i,s){const o=Math.abs(s.top-i.y),a=Math.abs(s.bottom-i.y),c=Math.abs(s.right-i.x),d=Math.abs(s.left-i.x);switch(Math.min(o,a,c,d)){case d:return"left";case c:return"right";case o:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(i,s,o=5){const a=[];switch(s){case"top":a.push({x:i.x-o,y:i.y+o},{x:i.x+o,y:i.y+o});break;case"bottom":a.push({x:i.x-o,y:i.y-o},{x:i.x+o,y:i.y-o});break;case"left":a.push({x:i.x+o,y:i.y-o},{x:i.x+o,y:i.y+o});break;case"right":a.push({x:i.x-o,y:i.y-o},{x:i.x-o,y:i.y+o});break}return a}function getPointsFromRect(i){const{top:s,right:o,bottom:a,left:c}=i;return[{x:c,y:s},{x:o,y:s},{x:o,y:a},{x:c,y:a}]}function isPointInPolygon(i,s){const{x:o,y:a}=i;let c=!1;for(let d=0,h=s.length-1;d<s.length;h=d++){const g=s[d].x,_=s[d].y,b=s[h].x,$=s[h].y;_>a!=$>a&&o<(b-g)*(a-_)/($-_)+g&&(c=!c)}return c}function getHull(i){const s=i.slice();return s.sort((o,a)=>o.x<a.x?-1:o.x>a.x?1:o.y<a.y?-1:o.y>a.y?1:0),getHullPresorted(s)}function getHullPresorted(i){if(i.length<=1)return i.slice();const s=[];for(let a=0;a<i.length;a++){const c=i[a];for(;s.length>=2;){const d=s[s.length-1],h=s[s.length-2];if((d.x-h.x)*(c.y-h.y)>=(d.y-h.y)*(c.x-h.x))s.pop();else break}s.push(c)}s.pop();const o=[];for(let a=i.length-1;a>=0;a--){const c=i[a];for(;o.length>=2;){const d=o[o.length-1],h=o[o.length-2];if((d.x-h.x)*(c.y-h.y)>=(d.y-h.y)*(c.x-h.x))o.pop();else break}o.push(c)}return o.pop(),s.length===1&&o.length===1&&s[0].x===o[0].x&&s[0].y===o[0].y?s:s.concat(o)}var Provider=TooltipProvider$1,Content2=TooltipContent$1;const TooltipProvider=Provider,TooltipContent=reactExports.forwardRef(({className:i,sideOffset:s=4,...o},a)=>jsxRuntimeExports.jsx(Content2,{ref:a,sideOffset:s,className:cn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...o}));TooltipContent.displayName=Content2.displayName;var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop(){}function functionalUpdate(i,s){return typeof i=="function"?i(s):i}function isValidTimeout(i){return typeof i=="number"&&i>=0&&i!==1/0}function timeUntilStale(i,s){return Math.max(i+(s||0)-Date.now(),0)}function resolveStaleTime(i,s){return typeof i=="function"?i(s):i}function resolveEnabled(i,s){return typeof i=="function"?i(s):i}function matchQuery(i,s){const{type:o="all",exact:a,fetchStatus:c,predicate:d,queryKey:h,stale:g}=i;if(h){if(a){if(s.queryHash!==hashQueryKeyByOptions(h,s.options))return!1}else if(!partialMatchKey(s.queryKey,h))return!1}if(o!=="all"){const _=s.isActive();if(o==="active"&&!_||o==="inactive"&&_)return!1}return!(typeof g=="boolean"&&s.isStale()!==g||c&&c!==s.state.fetchStatus||d&&!d(s))}function matchMutation(i,s){const{exact:o,status:a,predicate:c,mutationKey:d}=i;if(d){if(!s.options.mutationKey)return!1;if(o){if(hashKey(s.options.mutationKey)!==hashKey(d))return!1}else if(!partialMatchKey(s.options.mutationKey,d))return!1}return!(a&&s.state.status!==a||c&&!c(s))}function hashQueryKeyByOptions(i,s){return((s==null?void 0:s.queryKeyHashFn)||hashKey)(i)}function hashKey(i){return JSON.stringify(i,(s,o)=>isPlainObject$2(o)?Object.keys(o).sort().reduce((a,c)=>(a[c]=o[c],a),{}):o)}function partialMatchKey(i,s){return i===s?!0:typeof i!=typeof s?!1:i&&s&&typeof i=="object"&&typeof s=="object"?!Object.keys(s).some(o=>!partialMatchKey(i[o],s[o])):!1}function replaceEqualDeep(i,s){if(i===s)return i;const o=isPlainArray(i)&&isPlainArray(s);if(o||isPlainObject$2(i)&&isPlainObject$2(s)){const a=o?i:Object.keys(i),c=a.length,d=o?s:Object.keys(s),h=d.length,g=o?[]:{};let _=0;for(let b=0;b<h;b++){const $=o?b:d[b];(!o&&a.includes($)||o)&&i[$]===void 0&&s[$]===void 0?(g[$]=void 0,_++):(g[$]=replaceEqualDeep(i[$],s[$]),g[$]===i[$]&&i[$]!==void 0&&_++)}return c===h&&_===c?i:g}return s}function isPlainArray(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function isPlainObject$2(i){if(!hasObjectPrototype(i))return!1;const s=i.constructor;if(s===void 0)return!0;const o=s.prototype;return!(!hasObjectPrototype(o)||!o.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function hasObjectPrototype(i){return Object.prototype.toString.call(i)==="[object Object]"}function sleep$1(i){return new Promise(s=>{setTimeout(s,i)})}function replaceData(i,s,o){return typeof o.structuralSharing=="function"?o.structuralSharing(i,s):o.structuralSharing!==!1?replaceEqualDeep(i,s):s}function addToEnd(i,s,o=0){const a=[...i,s];return o&&a.length>o?a.slice(1):a}function addToStart(i,s,o=0){const a=[s,...i];return o&&a.length>o?a.slice(0,-1):a}var skipToken=Symbol();function ensureQueryFn(i,s){return!i.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!i.queryFn||i.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}var Fr,Cr,zr,to,FocusManager=(to=class extends Subscribable{constructor(){super();fn(this,Fr);fn(this,Cr);fn(this,zr);dn(this,zr,s=>{if(!isServer&&window.addEventListener){const o=()=>s();return window.addEventListener("visibilitychange",o,!1),()=>{window.removeEventListener("visibilitychange",o)}}})}onSubscribe(){at(this,Cr)||this.setEventListener(at(this,zr))}onUnsubscribe(){var s;this.hasListeners()||((s=at(this,Cr))==null||s.call(this),dn(this,Cr,void 0))}setEventListener(s){var o;dn(this,zr,s),(o=at(this,Cr))==null||o.call(this),dn(this,Cr,s(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(s){at(this,Fr)!==s&&(dn(this,Fr,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(o=>{o(s)})}isFocused(){var s;return typeof at(this,Fr)=="boolean"?at(this,Fr):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Fr=new WeakMap,Cr=new WeakMap,zr=new WeakMap,to),focusManager=new FocusManager,Ur,Pr,Hr,no,OnlineManager=(no=class extends Subscribable{constructor(){super();fn(this,Ur,!0);fn(this,Pr);fn(this,Hr);dn(this,Hr,s=>{if(!isServer&&window.addEventListener){const o=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",o,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",a)}}})}onSubscribe(){at(this,Pr)||this.setEventListener(at(this,Hr))}onUnsubscribe(){var s;this.hasListeners()||((s=at(this,Pr))==null||s.call(this),dn(this,Pr,void 0))}setEventListener(s){var o;dn(this,Hr,s),(o=at(this,Pr))==null||o.call(this),dn(this,Pr,s(this.setOnline.bind(this)))}setOnline(s){at(this,Ur)!==s&&(dn(this,Ur,s),this.listeners.forEach(a=>{a(s)}))}isOnline(){return at(this,Ur)}},Ur=new WeakMap,Pr=new WeakMap,Hr=new WeakMap,no),onlineManager=new OnlineManager;function pendingThenable(){let i,s;const o=new Promise((c,d)=>{i=c,s=d});o.status="pending",o.catch(()=>{});function a(c){Object.assign(o,c),delete o.resolve,delete o.reject}return o.resolve=c=>{a({status:"fulfilled",value:c}),i(c)},o.reject=c=>{a({status:"rejected",reason:c}),s(c)},o}function defaultRetryDelay(i){return Math.min(1e3*2**i,3e4)}function canFetch(i){return(i??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function isCancelledError(i){return i instanceof CancelledError}function createRetryer(i){let s=!1,o=0,a=!1,c;const d=pendingThenable(),h=st=>{var lt;a||(_e(new CancelledError(st)),(lt=i.abort)==null||lt.call(i))},g=()=>{s=!0},_=()=>{s=!1},b=()=>focusManager.isFocused()&&(i.networkMode==="always"||onlineManager.isOnline())&&i.canRun(),$=()=>canFetch(i.networkMode)&&i.canRun(),et=st=>{var lt;a||(a=!0,(lt=i.onSuccess)==null||lt.call(i,st),c==null||c(),d.resolve(st))},_e=st=>{var lt;a||(a=!0,(lt=i.onError)==null||lt.call(i,st),c==null||c(),d.reject(st))},tt=()=>new Promise(st=>{var lt;c=nt=>{(a||b())&&st(nt)},(lt=i.onPause)==null||lt.call(i)}).then(()=>{var st;c=void 0,a||(st=i.onContinue)==null||st.call(i)}),it=()=>{if(a)return;let st;const lt=o===0?i.initialPromise:void 0;try{st=lt??i.fn()}catch(nt){st=Promise.reject(nt)}Promise.resolve(st).then(et).catch(nt=>{var dt;if(a)return;const rt=i.retry??(isServer?0:3),pt=i.retryDelay??defaultRetryDelay,gt=typeof pt=="function"?pt(o,nt):pt,ht=rt===!0||typeof rt=="number"&&o<rt||typeof rt=="function"&&rt(o,nt);if(s||!ht){_e(nt);return}o++,(dt=i.onFail)==null||dt.call(i,o,nt),sleep$1(gt).then(()=>b()?void 0:tt()).then(()=>{s?_e(nt):it()})})};return{promise:d,cancel:h,continue:()=>(c==null||c(),d),cancelRetry:g,continueRetry:_,canStart:$,start:()=>($()?it():tt().then(it),d)}}function createNotifyManager(){let i=[],s=0,o=g=>{g()},a=g=>{g()},c=g=>setTimeout(g,0);const d=g=>{s?i.push(g):c(()=>{o(g)})},h=()=>{const g=i;i=[],g.length&&c(()=>{a(()=>{g.forEach(_=>{o(_)})})})};return{batch:g=>{let _;s++;try{_=g()}finally{s--,s||h()}return _},batchCalls:g=>(..._)=>{d(()=>{g(..._)})},schedule:d,setNotifyFunction:g=>{o=g},setBatchNotifyFunction:g=>{a=g},setScheduler:g=>{c=g}}}var notifyManager=createNotifyManager(),Mr,ro,Removable=(ro=class{constructor(){fn(this,Mr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&dn(this,Mr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(isServer?1/0:5*60*1e3))}clearGcTimeout(){at(this,Mr)&&(clearTimeout(at(this,Mr)),dn(this,Mr,void 0))}},Mr=new WeakMap,ro),Vr,Wr,pr,ur,ns,Or,mr,_r,io,Query=(io=class extends Removable{constructor(s){super();fn(this,mr);fn(this,Vr);fn(this,Wr);fn(this,pr);fn(this,ur);fn(this,ns);fn(this,Or);dn(this,Or,!1),dn(this,ns,s.defaultOptions),this.setOptions(s.options),this.observers=[],dn(this,pr,s.cache),this.queryKey=s.queryKey,this.queryHash=s.queryHash,dn(this,Vr,getDefaultState$1(this.options)),this.state=s.state??at(this,Vr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=at(this,ur))==null?void 0:s.promise}setOptions(s){this.options={...at(this,ns),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&at(this,pr).remove(this)}setData(s,o){const a=replaceData(this.state.data,s,this.options);return an(this,mr,_r).call(this,{data:a,type:"success",dataUpdatedAt:o==null?void 0:o.updatedAt,manual:o==null?void 0:o.manual}),a}setState(s,o){an(this,mr,_r).call(this,{type:"setState",state:s,setStateOptions:o})}cancel(s){var a,c;const o=(a=at(this,ur))==null?void 0:a.promise;return(c=at(this,ur))==null||c.cancel(s),o?o.then(noop).catch(noop):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(at(this,Vr))}isActive(){return this.observers.some(s=>resolveEnabled(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(s=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,s)}onFocus(){var o;const s=this.observers.find(a=>a.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(o=at(this,ur))==null||o.continue()}onOnline(){var o;const s=this.observers.find(a=>a.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(o=at(this,ur))==null||o.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),at(this,pr).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(o=>o!==s),this.observers.length||(at(this,ur)&&(at(this,Or)?at(this,ur).cancel({revert:!0}):at(this,ur).cancelRetry()),this.scheduleGc()),at(this,pr).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||an(this,mr,_r).call(this,{type:"invalidate"})}fetch(s,o){var _,b,$;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(o!=null&&o.cancelRefetch))this.cancel({silent:!0});else if(at(this,ur))return at(this,ur).continueRetry(),at(this,ur).promise}if(s&&this.setOptions(s),!this.options.queryFn){const et=this.observers.find(_e=>_e.options.queryFn);et&&this.setOptions(et.options)}const a=new AbortController,c=et=>{Object.defineProperty(et,"signal",{enumerable:!0,get:()=>(dn(this,Or,!0),a.signal)})},d=()=>{const et=ensureQueryFn(this.options,o),_e={queryKey:this.queryKey,meta:this.meta};return c(_e),dn(this,Or,!1),this.options.persister?this.options.persister(et,_e,this):et(_e)},h={fetchOptions:o,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};c(h),(_=this.options.behavior)==null||_.onFetch(h,this),dn(this,Wr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((b=h.fetchOptions)==null?void 0:b.meta))&&an(this,mr,_r).call(this,{type:"fetch",meta:($=h.fetchOptions)==null?void 0:$.meta});const g=et=>{var _e,tt,it,st;isCancelledError(et)&&et.silent||an(this,mr,_r).call(this,{type:"error",error:et}),isCancelledError(et)||((tt=(_e=at(this,pr).config).onError)==null||tt.call(_e,et,this),(st=(it=at(this,pr).config).onSettled)==null||st.call(it,this.state.data,et,this)),this.scheduleGc()};return dn(this,ur,createRetryer({initialPromise:o==null?void 0:o.initialPromise,fn:h.fetchFn,abort:a.abort.bind(a),onSuccess:et=>{var _e,tt,it,st;if(et===void 0){g(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(et)}catch(lt){g(lt);return}(tt=(_e=at(this,pr).config).onSuccess)==null||tt.call(_e,et,this),(st=(it=at(this,pr).config).onSettled)==null||st.call(it,et,this.state.error,this),this.scheduleGc()},onError:g,onFail:(et,_e)=>{an(this,mr,_r).call(this,{type:"failed",failureCount:et,error:_e})},onPause:()=>{an(this,mr,_r).call(this,{type:"pause"})},onContinue:()=>{an(this,mr,_r).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),at(this,ur).start()}},Vr=new WeakMap,Wr=new WeakMap,pr=new WeakMap,ur=new WeakMap,ns=new WeakMap,Or=new WeakMap,mr=new WeakSet,_r=function(s){const o=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...fetchState(a.data,this.options),fetchMeta:s.meta??null};case"success":return{...a,data:s.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const c=s.error;return isCancelledError(c)&&c.revert&&at(this,Wr)?{...at(this,Wr),fetchStatus:"idle"}:{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=o(this.state),notifyManager.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),at(this,pr).notify({query:this,type:"updated",action:s})})},io);function fetchState(i,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(s.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(i){const s=typeof i.initialData=="function"?i.initialData():i.initialData,o=s!==void 0,a=o?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:o?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:o?"success":"pending",fetchStatus:"idle"}}var gr,so,QueryCache=(so=class extends Subscribable{constructor(s={}){super();fn(this,gr);this.config=s,dn(this,gr,new Map)}build(s,o,a){const c=o.queryKey,d=o.queryHash??hashQueryKeyByOptions(c,o);let h=this.get(d);return h||(h=new Query({cache:this,queryKey:c,queryHash:d,options:s.defaultQueryOptions(o),state:a,defaultOptions:s.getQueryDefaults(c)}),this.add(h)),h}add(s){at(this,gr).has(s.queryHash)||(at(this,gr).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const o=at(this,gr).get(s.queryHash);o&&(s.destroy(),o===s&&at(this,gr).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return at(this,gr).get(s)}getAll(){return[...at(this,gr).values()]}find(s){const o={exact:!0,...s};return this.getAll().find(a=>matchQuery(o,a))}findAll(s={}){const o=this.getAll();return Object.keys(s).length>0?o.filter(a=>matchQuery(s,a)):o}notify(s){notifyManager.batch(()=>{this.listeners.forEach(o=>{o(s)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},gr=new WeakMap,so),yr,dr,Lr,vr,Ar,oo,Mutation=(oo=class extends Removable{constructor(s){super();fn(this,vr);fn(this,yr);fn(this,dr);fn(this,Lr);this.mutationId=s.mutationId,dn(this,dr,s.mutationCache),dn(this,yr,[]),this.state=s.state||getDefaultState(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){at(this,yr).includes(s)||(at(this,yr).push(s),this.clearGcTimeout(),at(this,dr).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){dn(this,yr,at(this,yr).filter(o=>o!==s)),this.scheduleGc(),at(this,dr).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){at(this,yr).length||(this.state.status==="pending"?this.scheduleGc():at(this,dr).remove(this))}continue(){var s;return((s=at(this,Lr))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var c,d,h,g,_,b,$,et,_e,tt,it,st,lt,nt,rt,pt,gt,ht,dt,mt;dn(this,Lr,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(yt,xt)=>{an(this,vr,Ar).call(this,{type:"failed",failureCount:yt,error:xt})},onPause:()=>{an(this,vr,Ar).call(this,{type:"pause"})},onContinue:()=>{an(this,vr,Ar).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>at(this,dr).canRun(this)}));const o=this.state.status==="pending",a=!at(this,Lr).canStart();try{if(!o){an(this,vr,Ar).call(this,{type:"pending",variables:s,isPaused:a}),await((d=(c=at(this,dr).config).onMutate)==null?void 0:d.call(c,s,this));const xt=await((g=(h=this.options).onMutate)==null?void 0:g.call(h,s));xt!==this.state.context&&an(this,vr,Ar).call(this,{type:"pending",context:xt,variables:s,isPaused:a})}const yt=await at(this,Lr).start();return await((b=(_=at(this,dr).config).onSuccess)==null?void 0:b.call(_,yt,s,this.state.context,this)),await((et=($=this.options).onSuccess)==null?void 0:et.call($,yt,s,this.state.context)),await((tt=(_e=at(this,dr).config).onSettled)==null?void 0:tt.call(_e,yt,null,this.state.variables,this.state.context,this)),await((st=(it=this.options).onSettled)==null?void 0:st.call(it,yt,null,s,this.state.context)),an(this,vr,Ar).call(this,{type:"success",data:yt}),yt}catch(yt){try{throw await((nt=(lt=at(this,dr).config).onError)==null?void 0:nt.call(lt,yt,s,this.state.context,this)),await((pt=(rt=this.options).onError)==null?void 0:pt.call(rt,yt,s,this.state.context)),await((ht=(gt=at(this,dr).config).onSettled)==null?void 0:ht.call(gt,void 0,yt,this.state.variables,this.state.context,this)),await((mt=(dt=this.options).onSettled)==null?void 0:mt.call(dt,void 0,yt,s,this.state.context)),yt}finally{an(this,vr,Ar).call(this,{type:"error",error:yt})}}finally{at(this,dr).runNext(this)}}},yr=new WeakMap,dr=new WeakMap,Lr=new WeakMap,vr=new WeakSet,Ar=function(s){const o=a=>{switch(s.type){case"failed":return{...a,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...a,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:s.error,failureCount:a.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=o(this.state),notifyManager.batch(()=>{at(this,yr).forEach(a=>{a.onMutationUpdate(s)}),at(this,dr).notify({mutation:this,type:"updated",action:s})})},oo);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hr,rs,ao,MutationCache=(ao=class extends Subscribable{constructor(s={}){super();fn(this,hr);fn(this,rs);this.config=s,dn(this,hr,new Map),dn(this,rs,Date.now())}build(s,o,a){const c=new Mutation({mutationCache:this,mutationId:++Er(this,rs)._,options:s.defaultMutationOptions(o),state:a});return this.add(c),c}add(s){const o=scopeFor(s),a=at(this,hr).get(o)??[];a.push(s),at(this,hr).set(o,a),this.notify({type:"added",mutation:s})}remove(s){var a;const o=scopeFor(s);if(at(this,hr).has(o)){const c=(a=at(this,hr).get(o))==null?void 0:a.filter(d=>d!==s);c&&(c.length===0?at(this,hr).delete(o):at(this,hr).set(o,c))}this.notify({type:"removed",mutation:s})}canRun(s){var a;const o=(a=at(this,hr).get(scopeFor(s)))==null?void 0:a.find(c=>c.state.status==="pending");return!o||o===s}runNext(s){var a;const o=(a=at(this,hr).get(scopeFor(s)))==null?void 0:a.find(c=>c!==s&&c.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}clear(){notifyManager.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}getAll(){return[...at(this,hr).values()].flat()}find(s){const o={exact:!0,...s};return this.getAll().find(a=>matchMutation(o,a))}findAll(s={}){return this.getAll().filter(o=>matchMutation(s,o))}notify(s){notifyManager.batch(()=>{this.listeners.forEach(o=>{o(s)})})}resumePausedMutations(){const s=this.getAll().filter(o=>o.state.isPaused);return notifyManager.batch(()=>Promise.all(s.map(o=>o.continue().catch(noop))))}},hr=new WeakMap,rs=new WeakMap,ao);function scopeFor(i){var s;return((s=i.options.scope)==null?void 0:s.id)??String(i.mutationId)}function infiniteQueryBehavior(i){return{onFetch:(s,o)=>{var $,et,_e,tt,it;const a=s.options,c=(_e=(et=($=s.fetchOptions)==null?void 0:$.meta)==null?void 0:et.fetchMore)==null?void 0:_e.direction,d=((tt=s.state.data)==null?void 0:tt.pages)||[],h=((it=s.state.data)==null?void 0:it.pageParams)||[];let g={pages:[],pageParams:[]},_=0;const b=async()=>{let st=!1;const lt=pt=>{Object.defineProperty(pt,"signal",{enumerable:!0,get:()=>(s.signal.aborted?st=!0:s.signal.addEventListener("abort",()=>{st=!0}),s.signal)})},nt=ensureQueryFn(s.options,s.fetchOptions),rt=async(pt,gt,ht)=>{if(st)return Promise.reject();if(gt==null&&pt.pages.length)return Promise.resolve(pt);const dt={queryKey:s.queryKey,pageParam:gt,direction:ht?"backward":"forward",meta:s.options.meta};lt(dt);const mt=await nt(dt),{maxPages:yt}=s.options,xt=ht?addToStart:addToEnd;return{pages:xt(pt.pages,mt,yt),pageParams:xt(pt.pageParams,gt,yt)}};if(c&&d.length){const pt=c==="backward",gt=pt?getPreviousPageParam:getNextPageParam,ht={pages:d,pageParams:h},dt=gt(a,ht);g=await rt(ht,dt,pt)}else{const pt=i??d.length;do{const gt=_===0?h[0]??a.initialPageParam:getNextPageParam(a,g);if(_>0&&gt==null)break;g=await rt(g,gt),_++}while(_<pt)}return g};s.options.persister?s.fetchFn=()=>{var st,lt;return(lt=(st=s.options).persister)==null?void 0:lt.call(st,b,{queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},o)}:s.fetchFn=b}}}function getNextPageParam(i,{pages:s,pageParams:o}){const a=s.length-1;return s.length>0?i.getNextPageParam(s[a],s,o[a],o):void 0}function getPreviousPageParam(i,{pages:s,pageParams:o}){var a;return s.length>0?(a=i.getPreviousPageParam)==null?void 0:a.call(i,s[0],s,o[0],o):void 0}var lr,kr,Rr,Gr,Xr,Tr,qr,Yr,lo,QueryClient=(lo=class{constructor(i={}){fn(this,lr);fn(this,kr);fn(this,Rr);fn(this,Gr);fn(this,Xr);fn(this,Tr);fn(this,qr);fn(this,Yr);dn(this,lr,i.queryCache||new QueryCache),dn(this,kr,i.mutationCache||new MutationCache),dn(this,Rr,i.defaultOptions||{}),dn(this,Gr,new Map),dn(this,Xr,new Map),dn(this,Tr,0)}mount(){Er(this,Tr)._++,at(this,Tr)===1&&(dn(this,qr,focusManager.subscribe(async i=>{i&&(await this.resumePausedMutations(),at(this,lr).onFocus())})),dn(this,Yr,onlineManager.subscribe(async i=>{i&&(await this.resumePausedMutations(),at(this,lr).onOnline())})))}unmount(){var i,s;Er(this,Tr)._--,at(this,Tr)===0&&((i=at(this,qr))==null||i.call(this),dn(this,qr,void 0),(s=at(this,Yr))==null||s.call(this),dn(this,Yr,void 0))}isFetching(i){return at(this,lr).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return at(this,kr).findAll({...i,status:"pending"}).length}getQueryData(i){var o;const s=this.defaultQueryOptions({queryKey:i});return(o=at(this,lr).get(s.queryHash))==null?void 0:o.state.data}ensureQueryData(i){const s=this.getQueryData(i.queryKey);if(s===void 0)return this.fetchQuery(i);{const o=this.defaultQueryOptions(i),a=at(this,lr).build(this,o);return i.revalidateIfStale&&a.isStaleByTime(resolveStaleTime(o.staleTime,a))&&this.prefetchQuery(o),Promise.resolve(s)}}getQueriesData(i){return at(this,lr).findAll(i).map(({queryKey:s,state:o})=>{const a=o.data;return[s,a]})}setQueryData(i,s,o){const a=this.defaultQueryOptions({queryKey:i}),c=at(this,lr).get(a.queryHash),d=c==null?void 0:c.state.data,h=functionalUpdate(s,d);if(h!==void 0)return at(this,lr).build(this,a).setData(h,{...o,manual:!0})}setQueriesData(i,s,o){return notifyManager.batch(()=>at(this,lr).findAll(i).map(({queryKey:a})=>[a,this.setQueryData(a,s,o)]))}getQueryState(i){var o;const s=this.defaultQueryOptions({queryKey:i});return(o=at(this,lr).get(s.queryHash))==null?void 0:o.state}removeQueries(i){const s=at(this,lr);notifyManager.batch(()=>{s.findAll(i).forEach(o=>{s.remove(o)})})}resetQueries(i,s){const o=at(this,lr),a={type:"active",...i};return notifyManager.batch(()=>(o.findAll(i).forEach(c=>{c.reset()}),this.refetchQueries(a,s)))}cancelQueries(i={},s={}){const o={revert:!0,...s},a=notifyManager.batch(()=>at(this,lr).findAll(i).map(c=>c.cancel(o)));return Promise.all(a).then(noop).catch(noop)}invalidateQueries(i={},s={}){return notifyManager.batch(()=>{if(at(this,lr).findAll(i).forEach(a=>{a.invalidate()}),i.refetchType==="none")return Promise.resolve();const o={...i,type:i.refetchType??i.type??"active"};return this.refetchQueries(o,s)})}refetchQueries(i={},s){const o={...s,cancelRefetch:(s==null?void 0:s.cancelRefetch)??!0},a=notifyManager.batch(()=>at(this,lr).findAll(i).filter(c=>!c.isDisabled()).map(c=>{let d=c.fetch(void 0,o);return o.throwOnError||(d=d.catch(noop)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(a).then(noop)}fetchQuery(i){const s=this.defaultQueryOptions(i);s.retry===void 0&&(s.retry=!1);const o=at(this,lr).build(this,s);return o.isStaleByTime(resolveStaleTime(s.staleTime,o))?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(noop).catch(noop)}fetchInfiniteQuery(i){return i.behavior=infiniteQueryBehavior(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(noop).catch(noop)}ensureInfiniteQueryData(i){return i.behavior=infiniteQueryBehavior(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return onlineManager.isOnline()?at(this,kr).resumePausedMutations():Promise.resolve()}getQueryCache(){return at(this,lr)}getMutationCache(){return at(this,kr)}getDefaultOptions(){return at(this,Rr)}setDefaultOptions(i){dn(this,Rr,i)}setQueryDefaults(i,s){at(this,Gr).set(hashKey(i),{queryKey:i,defaultOptions:s})}getQueryDefaults(i){const s=[...at(this,Gr).values()];let o={};return s.forEach(a=>{partialMatchKey(i,a.queryKey)&&(o={...o,...a.defaultOptions})}),o}setMutationDefaults(i,s){at(this,Xr).set(hashKey(i),{mutationKey:i,defaultOptions:s})}getMutationDefaults(i){const s=[...at(this,Xr).values()];let o={};return s.forEach(a=>{partialMatchKey(i,a.mutationKey)&&(o={...o,...a.defaultOptions})}),o}defaultQueryOptions(i){if(i._defaulted)return i;const s={...at(this,Rr).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return s.queryHash||(s.queryHash=hashQueryKeyByOptions(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.enabled!==!0&&s.queryFn===skipToken&&(s.enabled=!1),s}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...at(this,Rr).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){at(this,lr).clear(),at(this,kr).clear()}},lr=new WeakMap,kr=new WeakMap,Rr=new WeakMap,Gr=new WeakMap,Xr=new WeakMap,Tr=new WeakMap,qr=new WeakMap,Yr=new WeakMap,lo),QueryClientContext=reactExports.createContext(void 0),QueryClientProvider=({client:i,children:s})=>(reactExports.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:i,children:s}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends$2.apply(this,arguments)}var Action;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(i){i===void 0&&(i={});function s(a,c){let{pathname:d,search:h,hash:g}=a.location;return createLocation("",{pathname:d,search:h,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function o(a,c){return typeof c=="string"?c:createPath(c)}return getUrlBasedHistory(s,o,null,i)}function invariant(i,s){if(i===!1||i===null||typeof i>"u")throw new Error(s)}function warning(i,s){if(!i){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(i,s){return{usr:i.state,key:i.key,idx:s}}function createLocation(i,s,o,a){return o===void 0&&(o=null),_extends$2({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof s=="string"?parsePath(s):s,{state:o,key:s&&s.key||a||createKey()})}function createPath(i){let{pathname:s="/",search:o="",hash:a=""}=i;return o&&o!=="?"&&(s+=o.charAt(0)==="?"?o:"?"+o),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function parsePath(i){let s={};if(i){let o=i.indexOf("#");o>=0&&(s.hash=i.substr(o),i=i.substr(0,o));let a=i.indexOf("?");a>=0&&(s.search=i.substr(a),i=i.substr(0,a)),i&&(s.pathname=i)}return s}function getUrlBasedHistory(i,s,o,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:d=!1}=a,h=c.history,g=Action.Pop,_=null,b=$();b==null&&(b=0,h.replaceState(_extends$2({},h.state,{idx:b}),""));function $(){return(h.state||{idx:null}).idx}function et(){g=Action.Pop;let lt=$(),nt=lt==null?null:lt-b;b=lt,_&&_({action:g,location:st.location,delta:nt})}function _e(lt,nt){g=Action.Push;let rt=createLocation(st.location,lt,nt);b=$()+1;let pt=getHistoryState(rt,b),gt=st.createHref(rt);try{h.pushState(pt,"",gt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;c.location.assign(gt)}d&&_&&_({action:g,location:st.location,delta:1})}function tt(lt,nt){g=Action.Replace;let rt=createLocation(st.location,lt,nt);b=$();let pt=getHistoryState(rt,b),gt=st.createHref(rt);h.replaceState(pt,"",gt),d&&_&&_({action:g,location:st.location,delta:0})}function it(lt){let nt=c.location.origin!=="null"?c.location.origin:c.location.href,rt=typeof lt=="string"?lt:createPath(lt);return rt=rt.replace(/ $/,"%20"),invariant(nt,"No window.location.(origin|href) available to create URL for href: "+rt),new URL(rt,nt)}let st={get action(){return g},get location(){return i(c,h)},listen(lt){if(_)throw new Error("A history only accepts one active listener");return c.addEventListener(PopStateEventType,et),_=lt,()=>{c.removeEventListener(PopStateEventType,et),_=null}},createHref(lt){return s(c,lt)},createURL:it,encodeLocation(lt){let nt=it(lt);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:_e,replace:tt,go(lt){return h.go(lt)}};return st}var ResultType;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(ResultType||(ResultType={}));function matchRoutes(i,s,o){return o===void 0&&(o="/"),matchRoutesImpl(i,s,o,!1)}function matchRoutesImpl(i,s,o,a){let c=typeof s=="string"?parsePath(s):s,d=stripBasename(c.pathname||"/",o);if(d==null)return null;let h=flattenRoutes(i);rankRouteBranches(h);let g=null;for(let _=0;g==null&&_<h.length;++_){let b=decodePath(d);g=matchRouteBranch(h[_],b,a)}return g}function flattenRoutes(i,s,o,a){s===void 0&&(s=[]),o===void 0&&(o=[]),a===void 0&&(a="");let c=(d,h,g)=>{let _={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};_.relativePath.startsWith("/")&&(invariant(_.relativePath.startsWith(a),'Absolute route path "'+_.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),_.relativePath=_.relativePath.slice(a.length));let b=joinPaths([a,_.relativePath]),$=o.concat(_);d.children&&d.children.length>0&&(invariant(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),flattenRoutes(d.children,s,$,b)),!(d.path==null&&!d.index)&&s.push({path:b,score:computeScore(b,d.index),routesMeta:$})};return i.forEach((d,h)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))c(d,h);else for(let _ of explodeOptionalSegments(d.path))c(d,h,_)}),s}function explodeOptionalSegments(i){let s=i.split("/");if(s.length===0)return[];let[o,...a]=s,c=o.endsWith("?"),d=o.replace(/\?$/,"");if(a.length===0)return c?[d,""]:[d];let h=explodeOptionalSegments(a.join("/")),g=[];return g.push(...h.map(_=>_===""?d:[d,_].join("/"))),c&&g.push(...h),g.map(_=>i.startsWith("/")&&_===""?"/":_)}function rankRouteBranches(i){i.sort((s,o)=>s.score!==o.score?o.score-s.score:compareIndexes(s.routesMeta.map(a=>a.childrenIndex),o.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=i=>i==="*";function computeScore(i,s){let o=i.split("/"),a=o.length;return o.some(isSplat)&&(a+=splatPenalty),s&&(a+=indexRouteValue),o.filter(c=>!isSplat(c)).reduce((c,d)=>c+(paramRe.test(d)?dynamicSegmentValue:d===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(i,s){return i.length===s.length&&i.slice(0,-1).every((a,c)=>a===s[c])?i[i.length-1]-s[s.length-1]:0}function matchRouteBranch(i,s,o){let{routesMeta:a}=i,c={},d="/",h=[];for(let g=0;g<a.length;++g){let _=a[g],b=g===a.length-1,$=d==="/"?s:s.slice(d.length)||"/",et=matchPath({path:_.relativePath,caseSensitive:_.caseSensitive,end:b},$),_e=_.route;if(!et&&b&&o&&!a[a.length-1].route.index&&(et=matchPath({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},$)),!et)return null;Object.assign(c,et.params),h.push({params:c,pathname:joinPaths([d,et.pathname]),pathnameBase:normalizePathname(joinPaths([d,et.pathnameBase])),route:_e}),et.pathnameBase!=="/"&&(d=joinPaths([d,et.pathnameBase]))}return h}function matchPath(i,s){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[o,a]=compilePath(i.path,i.caseSensitive,i.end),c=s.match(o);if(!c)return null;let d=c[0],h=d.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:a.reduce((b,$,et)=>{let{paramName:_e,isOptional:tt}=$;if(_e==="*"){let st=g[et]||"";h=d.slice(0,d.length-st.length).replace(/(.)\/+$/,"$1")}const it=g[et];return tt&&!it?b[_e]=void 0:b[_e]=(it||"").replace(/%2F/g,"/"),b},{}),pathname:d,pathnameBase:h,pattern:i}}function compilePath(i,s,o){s===void 0&&(s=!1),o===void 0&&(o=!0),warning(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let a=[],c="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,_)=>(a.push({paramName:g,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),c+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?c+="\\/*$":i!==""&&i!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,s?void 0:"i"),a]}function decodePath(i){try{return i.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return warning(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),i}}function stripBasename(i,s){if(s==="/")return i;if(!i.toLowerCase().startsWith(s.toLowerCase()))return null;let o=s.endsWith("/")?s.length-1:s.length,a=i.charAt(o);return a&&a!=="/"?null:i.slice(o)||"/"}function resolvePath(i,s){s===void 0&&(s="/");let{pathname:o,search:a="",hash:c=""}=typeof i=="string"?parsePath(i):i;return{pathname:o?o.startsWith("/")?o:resolvePathname(o,s):s,search:normalizeSearch(a),hash:normalizeHash(c)}}function resolvePathname(i,s){let o=s.replace(/\/+$/,"").split("/");return i.split("/").forEach(c=>{c===".."?o.length>1&&o.pop():c!=="."&&o.push(c)}),o.length>1?o.join("/"):"/"}function getInvalidPathError(i,s,o,a){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(i){return i.filter((s,o)=>o===0||s.route.path&&s.route.path.length>0)}function getResolveToMatches(i,s){let o=getPathContributingMatches(i);return s?o.map((a,c)=>c===o.length-1?a.pathname:a.pathnameBase):o.map(a=>a.pathnameBase)}function resolveTo(i,s,o,a){a===void 0&&(a=!1);let c;typeof i=="string"?c=parsePath(i):(c=_extends$2({},i),invariant(!c.pathname||!c.pathname.includes("?"),getInvalidPathError("?","pathname","search",c)),invariant(!c.pathname||!c.pathname.includes("#"),getInvalidPathError("#","pathname","hash",c)),invariant(!c.search||!c.search.includes("#"),getInvalidPathError("#","search","hash",c)));let d=i===""||c.pathname==="",h=d?"/":c.pathname,g;if(h==null)g=o;else{let et=s.length-1;if(!a&&h.startsWith("..")){let _e=h.split("/");for(;_e[0]==="..";)_e.shift(),et-=1;c.pathname=_e.join("/")}g=et>=0?s[et]:"/"}let _=resolvePath(c,g),b=h&&h!=="/"&&h.endsWith("/"),$=(d||h===".")&&o.endsWith("/");return!_.pathname.endsWith("/")&&(b||$)&&(_.pathname+="/"),_}const joinPaths=i=>i.join("/").replace(/\/\/+/g,"/"),normalizePathname=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,normalizeHash=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function isRouteErrorResponse(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(i,s){let{relative:o}=s===void 0?{}:s;useInRouterContext()||invariant(!1);let{basename:a,navigator:c}=reactExports.useContext(NavigationContext),{hash:d,pathname:h,search:g}=useResolvedPath(i,{relative:o}),_=h;return a!=="/"&&(_=h==="/"?a:joinPaths([a,h])),c.createHref({pathname:_,search:g,hash:d})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(i){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(i)}function useNavigate(){let{isDataRoute:i}=reactExports.useContext(RouteContext);return i?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let i=reactExports.useContext(DataRouterContext),{basename:s,future:o,navigator:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),{pathname:d}=useLocation(),h=JSON.stringify(getResolveToMatches(c,o.v7_relativeSplatPath)),g=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{g.current=!0}),reactExports.useCallback(function(b,$){if($===void 0&&($={}),!g.current)return;if(typeof b=="number"){a.go(b);return}let et=resolveTo(b,JSON.parse(h),d,$.relative==="path");i==null&&s!=="/"&&(et.pathname=et.pathname==="/"?s:joinPaths([s,et.pathname])),($.replace?a.replace:a.push)(et,$.state,$)},[s,a,h,d,i])}function useResolvedPath(i,s){let{relative:o}=s===void 0?{}:s,{future:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),{pathname:d}=useLocation(),h=JSON.stringify(getResolveToMatches(c,a.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(i,JSON.parse(h),d,o==="path"),[i,h,d,o])}function useRoutes(i,s){return useRoutesImpl(i,s)}function useRoutesImpl(i,s,o,a){useInRouterContext()||invariant(!1);let{navigator:c}=reactExports.useContext(NavigationContext),{matches:d}=reactExports.useContext(RouteContext),h=d[d.length-1],g=h?h.params:{};h&&h.pathname;let _=h?h.pathnameBase:"/";h&&h.route;let b=useLocation(),$;if(s){var et;let lt=typeof s=="string"?parsePath(s):s;_==="/"||(et=lt.pathname)!=null&&et.startsWith(_)||invariant(!1),$=lt}else $=b;let _e=$.pathname||"/",tt=_e;if(_!=="/"){let lt=_.replace(/^\//,"").split("/");tt="/"+_e.replace(/^\//,"").split("/").slice(lt.length).join("/")}let it=matchRoutes(i,{pathname:tt}),st=_renderMatches(it&&it.map(lt=>Object.assign({},lt,{params:Object.assign({},g,lt.params),pathname:joinPaths([_,c.encodeLocation?c.encodeLocation(lt.pathname).pathname:lt.pathname]),pathnameBase:lt.pathnameBase==="/"?_:joinPaths([_,c.encodeLocation?c.encodeLocation(lt.pathnameBase).pathname:lt.pathnameBase])})),d,o,a);return s&&st?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},$),navigationType:Action.Pop}},st):st}function DefaultErrorComponent(){let i=useRouteError(),s=isRouteErrorResponse(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),o=i instanceof Error?i.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},s),o?reactExports.createElement("pre",{style:c},o):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,o){return o.location!==s.location||o.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:o.error,location:o.location,revalidation:s.revalidation||o.revalidation}}componentDidCatch(s,o){console.error("React Router caught the following error during render",s,o)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(i){let{routeContext:s,match:o,children:a}=i,c=reactExports.useContext(DataRouterContext);return c&&c.static&&c.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=o.route.id),reactExports.createElement(RouteContext.Provider,{value:s},a)}function _renderMatches(i,s,o,a){var c;if(s===void 0&&(s=[]),o===void 0&&(o=null),a===void 0&&(a=null),i==null){var d;if(!o)return null;if(o.errors)i=o.matches;else if((d=a)!=null&&d.v7_partialHydration&&s.length===0&&!o.initialized&&o.matches.length>0)i=o.matches;else return null}let h=i,g=(c=o)==null?void 0:c.errors;if(g!=null){let $=h.findIndex(et=>et.route.id&&(g==null?void 0:g[et.route.id])!==void 0);$>=0||invariant(!1),h=h.slice(0,Math.min(h.length,$+1))}let _=!1,b=-1;if(o&&a&&a.v7_partialHydration)for(let $=0;$<h.length;$++){let et=h[$];if((et.route.HydrateFallback||et.route.hydrateFallbackElement)&&(b=$),et.route.id){let{loaderData:_e,errors:tt}=o,it=et.route.loader&&_e[et.route.id]===void 0&&(!tt||tt[et.route.id]===void 0);if(et.route.lazy||it){_=!0,b>=0?h=h.slice(0,b+1):h=[h[0]];break}}}return h.reduceRight(($,et,_e)=>{let tt,it=!1,st=null,lt=null;o&&(tt=g&&et.route.id?g[et.route.id]:void 0,st=et.route.errorElement||defaultErrorElement,_&&(b<0&&_e===0?(it=!0,lt=null):b===_e&&(it=!0,lt=et.route.hydrateFallbackElement||null)));let nt=s.concat(h.slice(0,_e+1)),rt=()=>{let pt;return tt?pt=st:it?pt=lt:et.route.Component?pt=reactExports.createElement(et.route.Component,null):et.route.element?pt=et.route.element:pt=$,reactExports.createElement(RenderedRoute,{match:et,routeContext:{outlet:$,matches:nt,isDataRoute:o!=null},children:pt})};return o&&(et.route.ErrorBoundary||et.route.errorElement||_e===0)?reactExports.createElement(RenderErrorBoundary,{location:o.location,revalidation:o.revalidation,component:st,error:tt,children:rt(),routeContext:{outlet:null,matches:nt,isDataRoute:!0}}):rt()},null)}var DataRouterHook$1=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(DataRouterHook$1||{}),DataRouterStateHook$1=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(DataRouterStateHook$1||{});function useDataRouterContext(i){let s=reactExports.useContext(DataRouterContext);return s||invariant(!1),s}function useDataRouterState(i){let s=reactExports.useContext(DataRouterStateContext);return s||invariant(!1),s}function useRouteContext(i){let s=reactExports.useContext(RouteContext);return s||invariant(!1),s}function useCurrentRouteId(i){let s=useRouteContext(),o=s.matches[s.matches.length-1];return o.route.id||invariant(!1),o.route.id}function useRouteError(){var i;let s=reactExports.useContext(RouteErrorContext),o=useDataRouterState(DataRouterStateHook$1.UseRouteError),a=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return s!==void 0?s:(i=o.errors)==null?void 0:i[a]}function useNavigateStable(){let{router:i}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),s=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),o=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{o.current=!0}),reactExports.useCallback(function(c,d){d===void 0&&(d={}),o.current&&(typeof c=="number"?i.navigate(c):i.navigate(c,_extends$1({fromRouteId:s},d)))},[i,s])}function Route(i){invariant(!1)}function Router(i){let{basename:s="/",children:o=null,location:a,navigationType:c=Action.Pop,navigator:d,static:h=!1,future:g}=i;useInRouterContext()&&invariant(!1);let _=s.replace(/^\/*/,"/"),b=reactExports.useMemo(()=>({basename:_,navigator:d,static:h,future:_extends$1({v7_relativeSplatPath:!1},g)}),[_,g,d,h]);typeof a=="string"&&(a=parsePath(a));let{pathname:$="/",search:et="",hash:_e="",state:tt=null,key:it="default"}=a,st=reactExports.useMemo(()=>{let lt=stripBasename($,_);return lt==null?null:{location:{pathname:lt,search:et,hash:_e,state:tt,key:it},navigationType:c}},[_,$,et,_e,tt,it,c]);return st==null?null:reactExports.createElement(NavigationContext.Provider,{value:b},reactExports.createElement(LocationContext.Provider,{children:o,value:st}))}function Routes(i){let{children:s,location:o}=i;return useRoutes(createRoutesFromChildren(s),o)}new Promise(()=>{});function createRoutesFromChildren(i,s){s===void 0&&(s=[]);let o=[];return reactExports.Children.forEach(i,(a,c)=>{if(!reactExports.isValidElement(a))return;let d=[...s,c];if(a.type===reactExports.Fragment){o.push.apply(o,createRoutesFromChildren(a.props.children,d));return}a.type!==Route&&invariant(!1),!a.props.index||!a.props.children||invariant(!1);let h={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=createRoutesFromChildren(a.props.children,d)),o.push(h)}),o}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(i,s){if(i==null)return{};var o={},a=Object.keys(i),c,d;for(d=0;d<a.length;d++)c=a[d],!(s.indexOf(c)>=0)&&(o[c]=i[c]);return o}function isModifiedEvent(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function shouldProcessLinkClick(i,s){return i.button===0&&(!s||s==="_self")&&!isModifiedEvent(i)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React[START_TRANSITION];function BrowserRouter(i){let{basename:s,children:o,future:a,window:c}=i,d=reactExports.useRef();d.current==null&&(d.current=createBrowserHistory({window:c,v5Compat:!0}));let h=d.current,[g,_]=reactExports.useState({action:h.action,location:h.location}),{v7_startTransition:b}=a||{},$=reactExports.useCallback(et=>{b&&startTransitionImpl?startTransitionImpl(()=>_(et)):_(et)},[_,b]);return reactExports.useLayoutEffect(()=>h.listen($),[h,$]),reactExports.createElement(Router,{basename:s,children:o,location:g.location,navigationType:g.action,navigator:h,future:a})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(s,o){let{onClick:a,relative:c,reloadDocument:d,replace:h,state:g,target:_,to:b,preventScrollReset:$,viewTransition:et}=s,_e=_objectWithoutPropertiesLoose(s,_excluded),{basename:tt}=reactExports.useContext(NavigationContext),it,st=!1;if(typeof b=="string"&&ABSOLUTE_URL_REGEX.test(b)&&(it=b,isBrowser))try{let pt=new URL(window.location.href),gt=b.startsWith("//")?new URL(pt.protocol+b):new URL(b),ht=stripBasename(gt.pathname,tt);gt.origin===pt.origin&&ht!=null?b=ht+gt.search+gt.hash:st=!0}catch{}let lt=useHref(b,{relative:c}),nt=useLinkClickHandler(b,{replace:h,state:g,target:_,preventScrollReset:$,relative:c,viewTransition:et});function rt(pt){a&&a(pt),pt.defaultPrevented||nt(pt)}return reactExports.createElement("a",_extends({},_e,{href:it||lt,onClick:st||d?a:rt,ref:o,target:_}))});var DataRouterHook;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(i,s){let{target:o,replace:a,state:c,preventScrollReset:d,relative:h,viewTransition:g}=s===void 0?{}:s,_=useNavigate(),b=useLocation(),$=useResolvedPath(i,{relative:h});return reactExports.useCallback(et=>{if(shouldProcessLinkClick(et,o)){et.preventDefault();let _e=a!==void 0?a:createPath(b)===createPath($);_(i,{replace:_e,state:c,preventScrollReset:d,relative:h,viewTransition:g})}},[b,_,$,a,c,o,i,d,h,g])}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:i,variant:s,size:o,asChild:a=!1,...c},d)=>{const h=a?Slot:"button";return jsxRuntimeExports.jsx(h,{className:cn(buttonVariants({variant:s,size:o,className:i})),ref:d,...c})});Button.displayName="Button";const useTheme=()=>{const[i,s]=reactExports.useState(localStorage.getItem("theme")||"light");return reactExports.useEffect(()=>{i==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",i)},[i]),{theme:i,toggleTheme:()=>{s(a=>a==="light"?"dark":"light")}}},Navbar=()=>{const{theme:i,toggleTheme:s}=useTheme();return jsxRuntimeExports.jsx("nav",{className:"border-b py-6 px-6 bg-white dark:bg-gray-900",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),jsxRuntimeExports.jsx("span",{className:"text-2xl font-semibold text-blue-600 dark:text-blue-400",children:"AskNotes.AI"})]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Turning documents into conversations: smart, simple & adorable"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:s,className:"rounded-full",children:i==="dark"?jsxRuntimeExports.jsx(Sun,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(Moon,{className:"h-5 w-5"})})]})})},Card=reactExports.forwardRef(({className:i,...s},o)=>jsxRuntimeExports.jsx("div",{ref:o,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",i),...s}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:i,...s},o)=>jsxRuntimeExports.jsx("div",{ref:o,className:cn("flex flex-col space-y-1.5 p-6",i),...s}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:i,...s},o)=>jsxRuntimeExports.jsx("h3",{ref:o,className:cn("text-2xl font-semibold leading-none tracking-tight",i),...s}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:i,...s},o)=>jsxRuntimeExports.jsx("p",{ref:o,className:cn("text-sm text-muted-foreground",i),...s}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:i,...s},o)=>jsxRuntimeExports.jsx("div",{ref:o,className:cn("p-6 pt-0",i),...s}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:i,...s},o)=>jsxRuntimeExports.jsx("div",{ref:o,className:cn("flex items-center p-6 pt-0",i),...s}));CardFooter.displayName="CardFooter";const Index=()=>{const i=useNavigate(),s=()=>{i("/chat")};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-white to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsxs("main",{className:"container mx-auto px-4 py-16 flex-grow",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-20",children:[jsxRuntimeExports.jsx("h1",{className:"text-6xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-violet-600 mb-6 leading-tight",children:"Create AI-Powered Document Conversations 10X Faster"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8",children:"Upload documents to AskNotes.AI and start intelligent conversations. Smart, simple, and adorable."}),jsxRuntimeExports.jsx(Button,{onClick:s,size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-8 py-6 text-lg",children:"Get Started"})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[jsxRuntimeExports.jsxs(Card,{className:"p-6 text-center hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Smart Document Processing"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Upload any document and our AI will analyze and understand its content."})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6 text-center hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Interactive Chat"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Have natural conversations about your documents with our AI assistant."})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6 text-center hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsx(History,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Knowledge History"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Access your chat history and documents anytime you need them."})]})]})]}),jsxRuntimeExports.jsx("footer",{className:"border-t py-8 bg-white dark:bg-gray-900",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",new Date().getFullYear()," AskNotes.AI. All rights reserved."]})})})]})},default_format="RFC3986",formatters={RFC1738:i=>String(i).replace(/%20/g,"+"),RFC3986:i=>String(i)},RFC1738="RFC1738",is_array$1=Array.isArray,hex_table=(()=>{const i=[];for(let s=0;s<256;++s)i.push("%"+((s<16?"0":"")+s.toString(16)).toUpperCase());return i})(),limit=1024,encode=(i,s,o,a,c)=>{if(i.length===0)return i;let d=i;if(typeof i=="symbol"?d=Symbol.prototype.toString.call(i):typeof i!="string"&&(d=String(i)),o==="iso-8859-1")return escape(d).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});let h="";for(let g=0;g<d.length;g+=limit){const _=d.length>=limit?d.slice(g,g+limit):d,b=[];for(let $=0;$<_.length;++$){let et=_.charCodeAt($);if(et===45||et===46||et===95||et===126||et>=48&&et<=57||et>=65&&et<=90||et>=97&&et<=122||c===RFC1738&&(et===40||et===41)){b[b.length]=_.charAt($);continue}if(et<128){b[b.length]=hex_table[et];continue}if(et<2048){b[b.length]=hex_table[192|et>>6]+hex_table[128|et&63];continue}if(et<55296||et>=57344){b[b.length]=hex_table[224|et>>12]+hex_table[128|et>>6&63]+hex_table[128|et&63];continue}$+=1,et=65536+((et&1023)<<10|_.charCodeAt($)&1023),b[b.length]=hex_table[240|et>>18]+hex_table[128|et>>12&63]+hex_table[128|et>>6&63]+hex_table[128|et&63]}h+=b.join("")}return h};function is_buffer(i){return!i||typeof i!="object"?!1:!!(i.constructor&&i.constructor.isBuffer&&i.constructor.isBuffer(i))}function maybe_map(i,s){if(is_array$1(i)){const o=[];for(let a=0;a<i.length;a+=1)o.push(s(i[a]));return o}return s(i)}const has=Object.prototype.hasOwnProperty,array_prefix_generators={brackets(i){return String(i)+"[]"},comma:"comma",indices(i,s){return String(i)+"["+s+"]"},repeat(i){return String(i)}},is_array=Array.isArray,push$1=Array.prototype.push,push_to_array=function(i,s){push$1.apply(i,is_array(s)?s:[s])},to_ISO=Date.prototype.toISOString,defaults={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:encode,encodeValuesOnly:!1,format:default_format,formatter:formatters[default_format],indices:!1,serializeDate(i){return to_ISO.call(i)},skipNulls:!1,strictNullHandling:!1};function is_non_nullish_primitive(i){return typeof i=="string"||typeof i=="number"||typeof i=="boolean"||typeof i=="symbol"||typeof i=="bigint"}const sentinel={};function inner_stringify(i,s,o,a,c,d,h,g,_,b,$,et,_e,tt,it,st,lt,nt){let rt=i,pt=nt,gt=0,ht=!1;for(;(pt=pt.get(sentinel))!==void 0&&!ht;){const Et=pt.get(i);if(gt+=1,typeof Et<"u"){if(Et===gt)throw new RangeError("Cyclic object value");ht=!0}typeof pt.get(sentinel)>"u"&&(gt=0)}if(typeof b=="function"?rt=b(s,rt):rt instanceof Date?rt=_e==null?void 0:_e(rt):o==="comma"&&is_array(rt)&&(rt=maybe_map(rt,function(Et){return Et instanceof Date?_e==null?void 0:_e(Et):Et})),rt===null){if(d)return _&&!st?_(s,defaults.encoder,lt,"key",tt):s;rt=""}if(is_non_nullish_primitive(rt)||is_buffer(rt)){if(_){const Et=st?s:_(s,defaults.encoder,lt,"key",tt);return[(it==null?void 0:it(Et))+"="+(it==null?void 0:it(_(rt,defaults.encoder,lt,"value",tt)))]}return[(it==null?void 0:it(s))+"="+(it==null?void 0:it(String(rt)))]}const dt=[];if(typeof rt>"u")return dt;let mt;if(o==="comma"&&is_array(rt))st&&_&&(rt=maybe_map(rt,_)),mt=[{value:rt.length>0?rt.join(",")||null:void 0}];else if(is_array(b))mt=b;else{const Et=Object.keys(rt);mt=$?Et.sort($):Et}const yt=g?String(s).replace(/\./g,"%2E"):String(s),xt=a&&is_array(rt)&&rt.length===1?yt+"[]":yt;if(c&&is_array(rt)&&rt.length===0)return xt+"[]";for(let Et=0;Et<mt.length;++Et){const vt=mt[Et],St=typeof vt=="object"&&typeof vt.value<"u"?vt.value:rt[vt];if(h&&St===null)continue;const Rt=et&&g?vt.replace(/\./g,"%2E"):vt,nn=is_array(rt)?typeof o=="function"?o(xt,Rt):xt:xt+(et?"."+Rt:"["+Rt+"]");nt.set(i,gt);const zt=new WeakMap;zt.set(sentinel,nt),push_to_array(dt,inner_stringify(St,nn,o,a,c,d,h,g,o==="comma"&&st&&is_array(rt)?null:_,b,$,et,_e,tt,it,st,lt,zt))}return dt}function normalize_stringify_options(i=defaults){if(typeof i.allowEmptyArrays<"u"&&typeof i.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof i.encodeDotInKeys<"u"&&typeof i.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(i.encoder!==null&&typeof i.encoder<"u"&&typeof i.encoder!="function")throw new TypeError("Encoder has to be a function.");const s=i.charset||defaults.charset;if(typeof i.charset<"u"&&i.charset!=="utf-8"&&i.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let o=default_format;if(typeof i.format<"u"){if(!has.call(formatters,i.format))throw new TypeError("Unknown format option provided.");o=i.format}const a=formatters[o];let c=defaults.filter;(typeof i.filter=="function"||is_array(i.filter))&&(c=i.filter);let d;if(i.arrayFormat&&i.arrayFormat in array_prefix_generators?d=i.arrayFormat:"indices"in i?d=i.indices?"indices":"repeat":d=defaults.arrayFormat,"commaRoundTrip"in i&&typeof i.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const h=typeof i.allowDots>"u"?i.encodeDotInKeys?!0:defaults.allowDots:!!i.allowDots;return{addQueryPrefix:typeof i.addQueryPrefix=="boolean"?i.addQueryPrefix:defaults.addQueryPrefix,allowDots:h,allowEmptyArrays:typeof i.allowEmptyArrays=="boolean"?!!i.allowEmptyArrays:defaults.allowEmptyArrays,arrayFormat:d,charset:s,charsetSentinel:typeof i.charsetSentinel=="boolean"?i.charsetSentinel:defaults.charsetSentinel,commaRoundTrip:!!i.commaRoundTrip,delimiter:typeof i.delimiter>"u"?defaults.delimiter:i.delimiter,encode:typeof i.encode=="boolean"?i.encode:defaults.encode,encodeDotInKeys:typeof i.encodeDotInKeys=="boolean"?i.encodeDotInKeys:defaults.encodeDotInKeys,encoder:typeof i.encoder=="function"?i.encoder:defaults.encoder,encodeValuesOnly:typeof i.encodeValuesOnly=="boolean"?i.encodeValuesOnly:defaults.encodeValuesOnly,filter:c,format:o,formatter:a,serializeDate:typeof i.serializeDate=="function"?i.serializeDate:defaults.serializeDate,skipNulls:typeof i.skipNulls=="boolean"?i.skipNulls:defaults.skipNulls,sort:typeof i.sort=="function"?i.sort:null,strictNullHandling:typeof i.strictNullHandling=="boolean"?i.strictNullHandling:defaults.strictNullHandling}}function stringify$2(i,s={}){let o=i;const a=normalize_stringify_options(s);let c,d;typeof a.filter=="function"?(d=a.filter,o=d("",o)):is_array(a.filter)&&(d=a.filter,c=d);const h=[];if(typeof o!="object"||o===null)return"";const g=array_prefix_generators[a.arrayFormat],_=g==="comma"&&a.commaRoundTrip;c||(c=Object.keys(o)),a.sort&&c.sort(a.sort);const b=new WeakMap;for(let _e=0;_e<c.length;++_e){const tt=c[_e];a.skipNulls&&o[tt]===null||push_to_array(h,inner_stringify(o[tt],tt,g,_,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,b))}const $=h.join(a.delimiter);let et=a.addQueryPrefix===!0?"?":"";return a.charsetSentinel&&(a.charset==="iso-8859-1"?et+="utf8=%26%2310003%3B&":et+="utf8=%E2%9C%93&"),$.length>0?et+$:""}const VERSION="4.96.0";let auto=!1,kind,fetch$1,FormData$1,File$1,ReadableStream$1,getMultipartRequestOptions,getDefaultAgent,fileFromPath,isFsReadStream;function setShims(i,s={auto:!1}){if(auto)throw new Error(`you must \`import 'openai/shims/${i.kind}'\` before importing anything else from openai`);if(kind)throw new Error(`can't \`import 'openai/shims/${i.kind}'\` after \`import 'openai/shims/${kind}'\``);auto=s.auto,kind=i.kind,fetch$1=i.fetch,FormData$1=i.FormData,File$1=i.File,ReadableStream$1=i.ReadableStream,getMultipartRequestOptions=i.getMultipartRequestOptions,getDefaultAgent=i.getDefaultAgent,fileFromPath=i.fileFromPath,isFsReadStream=i.isFsReadStream}class MultipartBody{constructor(s){this.body=s}get[Symbol.toStringTag](){return"MultipartBody"}}function getRuntime({manuallyImported:i}={}){const s=i?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let o,a,c,d;try{o=fetch,a=Request,c=Response,d=Headers}catch(h){throw new Error(`this environment is missing the following Web Fetch API type: ${h.message}. ${s}`)}return{kind:"web",fetch:o,Request:a,Response:c,Headers:d,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${s}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${s}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${s}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${s}`)}},getMultipartRequestOptions:async(h,g)=>({...g,body:new MultipartBody(h)}),getDefaultAgent:h=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:h=>!1}}const init=()=>{kind||setShims(getRuntime(),{auto:!0})};init();class OpenAIError extends Error{}class APIError extends OpenAIError{constructor(s,o,a,c){super(`${APIError.makeMessage(s,o,a)}`),this.status=s,this.headers=c,this.request_id=c==null?void 0:c["x-request-id"],this.error=o;const d=o;this.code=d==null?void 0:d.code,this.param=d==null?void 0:d.param,this.type=d==null?void 0:d.type}static makeMessage(s,o,a){const c=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return s&&c?`${s} ${c}`:s?`${s} status code (no body)`:c||"(no status code or body)"}static generate(s,o,a,c){if(!s||!c)return new APIConnectionError({message:a,cause:castToError(o)});const d=o==null?void 0:o.error;return s===400?new BadRequestError(s,d,a,c):s===401?new AuthenticationError(s,d,a,c):s===403?new PermissionDeniedError(s,d,a,c):s===404?new NotFoundError(s,d,a,c):s===409?new ConflictError(s,d,a,c):s===422?new UnprocessableEntityError(s,d,a,c):s===429?new RateLimitError(s,d,a,c):s>=500?new InternalServerError(s,d,a,c):new APIError(s,d,a,c)}}class APIUserAbortError extends APIError{constructor({message:s}={}){super(void 0,void 0,s||"Request was aborted.",void 0)}}class APIConnectionError extends APIError{constructor({message:s,cause:o}){super(void 0,void 0,s||"Connection error.",void 0),o&&(this.cause=o)}}class APIConnectionTimeoutError extends APIConnectionError{constructor({message:s}={}){super({message:s??"Request timed out."})}}class BadRequestError extends APIError{}class AuthenticationError extends APIError{}class PermissionDeniedError extends APIError{}class NotFoundError extends APIError{}class ConflictError extends APIError{}class UnprocessableEntityError extends APIError{}class RateLimitError extends APIError{}class InternalServerError extends APIError{}class LengthFinishReasonError extends OpenAIError{constructor(){super("Could not parse response content as the length limit was reached")}}class ContentFilterFinishReasonError extends OpenAIError{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var __classPrivateFieldSet$5=function(i,s,o,a,c){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?i!==s||!c:!s.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?c.call(i,o):c?c.value=o:s.set(i,o),o},__classPrivateFieldGet$6=function(i,s,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?i!==s||!a:!s.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(i):a?a.value:s.get(i)},_LineDecoder_carriageReturnIndex;class LineDecoder{constructor(){_LineDecoder_carriageReturnIndex.set(this,void 0),this.buffer=new Uint8Array,__classPrivateFieldSet$5(this,_LineDecoder_carriageReturnIndex,null,"f")}decode(s){if(s==null)return[];const o=s instanceof ArrayBuffer?new Uint8Array(s):typeof s=="string"?new TextEncoder().encode(s):s;let a=new Uint8Array(this.buffer.length+o.length);a.set(this.buffer),a.set(o,this.buffer.length),this.buffer=a;const c=[];let d;for(;(d=findNewlineIndex(this.buffer,__classPrivateFieldGet$6(this,_LineDecoder_carriageReturnIndex,"f")))!=null;){if(d.carriage&&__classPrivateFieldGet$6(this,_LineDecoder_carriageReturnIndex,"f")==null){__classPrivateFieldSet$5(this,_LineDecoder_carriageReturnIndex,d.index,"f");continue}if(__classPrivateFieldGet$6(this,_LineDecoder_carriageReturnIndex,"f")!=null&&(d.index!==__classPrivateFieldGet$6(this,_LineDecoder_carriageReturnIndex,"f")+1||d.carriage)){c.push(this.decodeText(this.buffer.slice(0,__classPrivateFieldGet$6(this,_LineDecoder_carriageReturnIndex,"f")-1))),this.buffer=this.buffer.slice(__classPrivateFieldGet$6(this,_LineDecoder_carriageReturnIndex,"f")),__classPrivateFieldSet$5(this,_LineDecoder_carriageReturnIndex,null,"f");continue}const h=__classPrivateFieldGet$6(this,_LineDecoder_carriageReturnIndex,"f")!==null?d.preceding-1:d.preceding,g=this.decodeText(this.buffer.slice(0,h));c.push(g),this.buffer=this.buffer.slice(d.index),__classPrivateFieldSet$5(this,_LineDecoder_carriageReturnIndex,null,"f")}return c}decodeText(s){if(s==null)return"";if(typeof s=="string")return s;if(typeof Buffer<"u"){if(s instanceof Buffer)return s.toString();if(s instanceof Uint8Array)return Buffer.from(s).toString();throw new OpenAIError(`Unexpected: received non-Uint8Array (${s.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(s instanceof Uint8Array||s instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(s);throw new OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${s.constructor.name}) in a web platform. Please report this error.`)}throw new OpenAIError("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}_LineDecoder_carriageReturnIndex=new WeakMap;LineDecoder.NEWLINE_CHARS=new Set([`
`,"\r"]);LineDecoder.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function findNewlineIndex(i,s){for(let c=s??0;c<i.length;c++){if(i[c]===10)return{preceding:c,index:c+1,carriage:!1};if(i[c]===13)return{preceding:c,index:c+1,carriage:!0}}return null}function findDoubleNewlineIndex(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}function ReadableStreamToAsyncIterable(i){if(i[Symbol.asyncIterator])return i;const s=i.getReader();return{async next(){try{const o=await s.read();return o!=null&&o.done&&s.releaseLock(),o}catch(o){throw s.releaseLock(),o}},async return(){const o=s.cancel();return s.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Stream{constructor(s,o){this.iterator=s,this.controller=o}static fromSSEResponse(s,o){let a=!1;async function*c(){if(a)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let d=!1;try{for await(const h of _iterSSEMessages(s,o))if(!d){if(h.data.startsWith("[DONE]")){d=!0;continue}if(h.event===null||h.event.startsWith("response.")||h.event.startsWith("transcript.")){let g;try{g=JSON.parse(h.data)}catch(_){throw console.error("Could not parse message into JSON:",h.data),console.error("From chunk:",h.raw),_}if(g&&g.error)throw new APIError(void 0,g.error,void 0,createResponseHeaders(s.headers));yield g}else{let g;try{g=JSON.parse(h.data)}catch(_){throw console.error("Could not parse message into JSON:",h.data),console.error("From chunk:",h.raw),_}if(h.event=="error")throw new APIError(void 0,g.error,g.message,void 0);yield{event:h.event,data:g}}}d=!0}catch(h){if(h instanceof Error&&h.name==="AbortError")return;throw h}finally{d||o.abort()}}return new Stream(c,o)}static fromReadableStream(s,o){let a=!1;async function*c(){const h=new LineDecoder,g=ReadableStreamToAsyncIterable(s);for await(const _ of g)for(const b of h.decode(_))yield b;for(const _ of h.flush())yield _}async function*d(){if(a)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let h=!1;try{for await(const g of c())h||g&&(yield JSON.parse(g));h=!0}catch(g){if(g instanceof Error&&g.name==="AbortError")return;throw g}finally{h||o.abort()}}return new Stream(d,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const s=[],o=[],a=this.iterator(),c=d=>({next:()=>{if(d.length===0){const h=a.next();s.push(h),o.push(h)}return d.shift()}});return[new Stream(()=>c(s),this.controller),new Stream(()=>c(o),this.controller)]}toReadableStream(){const s=this;let o;const a=new TextEncoder;return new ReadableStream$1({async start(){o=s[Symbol.asyncIterator]()},async pull(c){try{const{value:d,done:h}=await o.next();if(h)return c.close();const g=a.encode(JSON.stringify(d)+`
`);c.enqueue(g)}catch(d){c.error(d)}},async cancel(){var c;await((c=o.return)==null?void 0:c.call(o))}})}}async function*_iterSSEMessages(i,s){if(!i.body)throw s.abort(),new OpenAIError("Attempted to iterate over a response with no body");const o=new SSEDecoder,a=new LineDecoder,c=ReadableStreamToAsyncIterable(i.body);for await(const d of iterSSEChunks(c))for(const h of a.decode(d)){const g=o.decode(h);g&&(yield g)}for(const d of a.flush()){const h=o.decode(d);h&&(yield h)}}async function*iterSSEChunks(i){let s=new Uint8Array;for await(const o of i){if(o==null)continue;const a=o instanceof ArrayBuffer?new Uint8Array(o):typeof o=="string"?new TextEncoder().encode(o):o;let c=new Uint8Array(s.length+a.length);c.set(s),c.set(a,s.length),s=c;let d;for(;(d=findDoubleNewlineIndex(s))!==-1;)yield s.slice(0,d),s=s.slice(d)}s.length>0&&(yield s)}class SSEDecoder{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(s){if(s.endsWith("\r")&&(s=s.substring(0,s.length-1)),!s){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(s),s.startsWith(":"))return null;let[o,a,c]=partition(s,":");return c.startsWith(" ")&&(c=c.substring(1)),o==="event"?this.event=c:o==="data"&&this.data.push(c),null}}function partition(i,s){const o=i.indexOf(s);return o!==-1?[i.substring(0,o),s,i.substring(o+s.length)]:[i,"",""]}const isResponseLike=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function",isFileLike=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&isBlobLike(i),isBlobLike=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",isUploadable=i=>isFileLike(i)||isResponseLike(i)||isFsReadStream(i);async function toFile(i,s,o){var c;if(i=await i,isFileLike(i))return i;if(isResponseLike(i)){const d=await i.blob();s||(s=new URL(i.url).pathname.split(/[\\/]/).pop()??"unknown_file");const h=isBlobLike(d)?[await d.arrayBuffer()]:[d];return new File$1(h,s,o)}const a=await getBytes(i);if(s||(s=getName(i)??"unknown_file"),!(o!=null&&o.type)){const d=(c=a[0])==null?void 0:c.type;typeof d=="string"&&(o={...o,type:d})}return new File$1(a,s,o)}async function getBytes(i){var o;let s=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)s.push(i);else if(isBlobLike(i))s.push(await i.arrayBuffer());else if(isAsyncIterableIterator(i))for await(const a of i)s.push(a);else throw new Error(`Unexpected data type: ${typeof i}; constructor: ${(o=i==null?void 0:i.constructor)==null?void 0:o.name}; props: ${propsForError(i)}`);return s}function propsForError(i){return`[${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}function getName(i){var s;return getStringFromMaybeBuffer(i.name)||getStringFromMaybeBuffer(i.filename)||((s=getStringFromMaybeBuffer(i.path))==null?void 0:s.split(/[\\/]/).pop())}const getStringFromMaybeBuffer=i=>{if(typeof i=="string")return i;if(typeof Buffer<"u"&&i instanceof Buffer)return String(i)},isAsyncIterableIterator=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function",isMultipartBody=i=>i&&typeof i=="object"&&i.body&&i[Symbol.toStringTag]==="MultipartBody",multipartFormRequestOptions=async i=>{const s=await createForm(i.body);return getMultipartRequestOptions(s,i)},createForm=async i=>{const s=new FormData$1;return await Promise.all(Object.entries(i||{}).map(([o,a])=>addFormValue(s,o,a))),s},addFormValue=async(i,s,o)=>{if(o!==void 0){if(o==null)throw new TypeError(`Received null for "${s}"; to pass null in FormData, you must use the string 'null'`);if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")i.append(s,String(o));else if(isUploadable(o)){const a=await toFile(o);i.append(s,a)}else if(Array.isArray(o))await Promise.all(o.map(a=>addFormValue(i,s+"[]",a)));else if(typeof o=="object")await Promise.all(Object.entries(o).map(([a,c])=>addFormValue(i,`${s}[${a}]`,c)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${o} instead`)}};var define_process_env_default={},__classPrivateFieldSet$4=function(i,s,o,a,c){if(typeof s=="function"?i!==s||!c:!s.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s.set(i,o),o},__classPrivateFieldGet$5=function(i,s,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?i!==s||!a:!s.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(i):a?a.value:s.get(i)},_AbstractPage_client;init();async function defaultParseResponse(i){var h;const{response:s}=i;if(i.options.stream)return debug("response",s.status,s.url,s.headers,s.body),i.options.__streamClass?i.options.__streamClass.fromSSEResponse(s,i.controller):Stream.fromSSEResponse(s,i.controller);if(s.status===204)return null;if(i.options.__binaryResponse)return s;const o=s.headers.get("content-type"),a=(h=o==null?void 0:o.split(";")[0])==null?void 0:h.trim();if((a==null?void 0:a.includes("application/json"))||(a==null?void 0:a.endsWith("+json"))){const g=await s.json();return debug("response",s.status,s.url,s.headers,g),_addRequestID(g,s)}const d=await s.text();return debug("response",s.status,s.url,s.headers,d),d}function _addRequestID(i,s){return!i||typeof i!="object"||Array.isArray(i)?i:Object.defineProperty(i,"_request_id",{value:s.headers.get("x-request-id"),enumerable:!1})}class APIPromise extends Promise{constructor(s,o=defaultParseResponse){super(a=>{a(null)}),this.responsePromise=s,this.parseResponse=o}_thenUnwrap(s){return new APIPromise(this.responsePromise,async o=>_addRequestID(s(await this.parseResponse(o),o),o.response))}asResponse(){return this.responsePromise.then(s=>s.response)}async withResponse(){const[s,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:s,response:o,request_id:o.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(s,o){return this.parse().then(s,o)}catch(s){return this.parse().catch(s)}finally(s){return this.parse().finally(s)}}class APIClient{constructor({baseURL:s,maxRetries:o=2,timeout:a=6e5,httpAgent:c,fetch:d}){this.baseURL=s,this.maxRetries=validatePositiveInteger("maxRetries",o),this.timeout=validatePositiveInteger("timeout",a),this.httpAgent=c,this.fetch=d??fetch$1}authHeaders(s){return{}}defaultHeaders(s){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...getPlatformHeaders(),...this.authHeaders(s)}}validateHeaders(s,o){}defaultIdempotencyKey(){return`stainless-node-retry-${uuid4()}`}get(s,o){return this.methodRequest("get",s,o)}post(s,o){return this.methodRequest("post",s,o)}patch(s,o){return this.methodRequest("patch",s,o)}put(s,o){return this.methodRequest("put",s,o)}delete(s,o){return this.methodRequest("delete",s,o)}methodRequest(s,o,a){return this.request(Promise.resolve(a).then(async c=>{const d=c&&isBlobLike(c==null?void 0:c.body)?new DataView(await c.body.arrayBuffer()):(c==null?void 0:c.body)instanceof DataView?c.body:(c==null?void 0:c.body)instanceof ArrayBuffer?new DataView(c.body):c&&ArrayBuffer.isView(c==null?void 0:c.body)?new DataView(c.body.buffer):c==null?void 0:c.body;return{method:s,path:o,...c,body:d}}))}getAPIList(s,o,a){return this.requestAPIList(o,{method:"get",path:s,...a})}calculateContentLength(s){if(typeof s=="string"){if(typeof Buffer<"u")return Buffer.byteLength(s,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(s).length.toString()}else if(ArrayBuffer.isView(s))return s.byteLength.toString();return null}buildRequest(s,{retryCount:o=0}={}){var st;const a={...s},{method:c,path:d,query:h,headers:g={}}=a,_=ArrayBuffer.isView(a.body)||a.__binaryRequest&&typeof a.body=="string"?a.body:isMultipartBody(a.body)?a.body.body:a.body?JSON.stringify(a.body,null,2):null,b=this.calculateContentLength(_),$=this.buildURL(d,h);"timeout"in a&&validatePositiveInteger("timeout",a.timeout),a.timeout=a.timeout??this.timeout;const et=a.httpAgent??this.httpAgent??getDefaultAgent($),_e=a.timeout+1e3;typeof((st=et==null?void 0:et.options)==null?void 0:st.timeout)=="number"&&_e>(et.options.timeout??0)&&(et.options.timeout=_e),this.idempotencyHeader&&c!=="get"&&(s.idempotencyKey||(s.idempotencyKey=this.defaultIdempotencyKey()),g[this.idempotencyHeader]=s.idempotencyKey);const tt=this.buildHeaders({options:a,headers:g,contentLength:b,retryCount:o});return{req:{method:c,..._&&{body:_},headers:tt,...et&&{agent:et},signal:a.signal??null},url:$,timeout:a.timeout}}buildHeaders({options:s,headers:o,contentLength:a,retryCount:c}){const d={};a&&(d["content-length"]=a);const h=this.defaultHeaders(s);return applyHeadersMut(d,h),applyHeadersMut(d,o),isMultipartBody(s.body)&&kind!=="node"&&delete d["content-type"],getHeader(h,"x-stainless-retry-count")===void 0&&getHeader(o,"x-stainless-retry-count")===void 0&&(d["x-stainless-retry-count"]=String(c)),getHeader(h,"x-stainless-timeout")===void 0&&getHeader(o,"x-stainless-timeout")===void 0&&s.timeout&&(d["x-stainless-timeout"]=String(Math.trunc(s.timeout/1e3))),this.validateHeaders(d,o),d}async prepareOptions(s){}async prepareRequest(s,{url:o,options:a}){}parseHeaders(s){return s?Symbol.iterator in s?Object.fromEntries(Array.from(s).map(o=>[...o])):{...s}:{}}makeStatusError(s,o,a,c){return APIError.generate(s,o,a,c)}request(s,o=null){return new APIPromise(this.makeRequest(s,o))}async makeRequest(s,o){var et,_e;const a=await s,c=a.maxRetries??this.maxRetries;o==null&&(o=c),await this.prepareOptions(a);const{req:d,url:h,timeout:g}=this.buildRequest(a,{retryCount:c-o});if(await this.prepareRequest(d,{url:h,options:a}),debug("request",h,a,d.headers),(et=a.signal)!=null&&et.aborted)throw new APIUserAbortError;const _=new AbortController,b=await this.fetchWithTimeout(h,d,g,_).catch(castToError);if(b instanceof Error){if((_e=a.signal)!=null&&_e.aborted)throw new APIUserAbortError;if(o)return this.retryRequest(a,o);throw b.name==="AbortError"?new APIConnectionTimeoutError:new APIConnectionError({cause:b})}const $=createResponseHeaders(b.headers);if(!b.ok){if(o&&this.shouldRetry(b)){const rt=`retrying, ${o} attempts remaining`;return debug(`response (error; ${rt})`,b.status,h,$),this.retryRequest(a,o,$)}const tt=await b.text().catch(rt=>castToError(rt).message),it=safeJSON(tt),st=it?void 0:tt;throw debug(`response (error; ${o?"(error; no more retries left)":"(error; not retryable)"})`,b.status,h,$,st),this.makeStatusError(b.status,it,st,$)}return{response:b,options:a,controller:_}}requestAPIList(s,o){const a=this.makeRequest(o,null);return new PagePromise(this,a,s)}buildURL(s,o){const a=isAbsoluteURL(s)?new URL(s):new URL(this.baseURL+(this.baseURL.endsWith("/")&&s.startsWith("/")?s.slice(1):s)),c=this.defaultQuery();return isEmptyObj(c)||(o={...c,...o}),typeof o=="object"&&o&&!Array.isArray(o)&&(a.search=this.stringifyQuery(o)),a.toString()}stringifyQuery(s){return Object.entries(s).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new OpenAIError(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(s,o,a,c){const{signal:d,...h}=o||{};d&&d.addEventListener("abort",()=>c.abort());const g=setTimeout(()=>c.abort(),a),_={signal:c.signal,...h};return _.method&&(_.method=_.method.toUpperCase()),this.fetch.call(void 0,s,_).finally(()=>{clearTimeout(g)})}shouldRetry(s){const o=s.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:s.status===408||s.status===409||s.status===429||s.status>=500}async retryRequest(s,o,a){let c;const d=a==null?void 0:a["retry-after-ms"];if(d){const g=parseFloat(d);Number.isNaN(g)||(c=g)}const h=a==null?void 0:a["retry-after"];if(h&&!c){const g=parseFloat(h);Number.isNaN(g)?c=Date.parse(h)-Date.now():c=g*1e3}if(!(c&&0<=c&&c<60*1e3)){const g=s.maxRetries??this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(o,g)}return await sleep(c),this.makeRequest(s,o-1)}calculateDefaultRetryTimeoutMillis(s,o){const d=o-s,h=Math.min(.5*Math.pow(2,d),8),g=1-Math.random()*.25;return h*g*1e3}getUserAgent(){return`${this.constructor.name}/JS ${VERSION}`}}class AbstractPage{constructor(s,o,a,c){_AbstractPage_client.set(this,void 0),__classPrivateFieldSet$4(this,_AbstractPage_client,s),this.options=c,this.response=o,this.body=a}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const s=this.nextPageInfo();if(!s)throw new OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const o={...this.options};if("params"in s&&typeof o.query=="object")o.query={...o.query,...s.params};else if("url"in s){const a=[...Object.entries(o.query||{}),...s.url.searchParams.entries()];for(const[c,d]of a)s.url.searchParams.set(c,d);o.query=void 0,o.path=s.url.toString()}return await __classPrivateFieldGet$5(this,_AbstractPage_client,"f").requestAPIList(this.constructor,o)}async*iterPages(){let s=this;for(yield s;s.hasNextPage();)s=await s.getNextPage(),yield s}async*[(_AbstractPage_client=new WeakMap,Symbol.asyncIterator)](){for await(const s of this.iterPages())for(const o of s.getPaginatedItems())yield o}}class PagePromise extends APIPromise{constructor(s,o,a){super(o,async c=>new a(s,c.response,await defaultParseResponse(c),c.options))}async*[Symbol.asyncIterator](){const s=await this;for await(const o of s)yield o}}const createResponseHeaders=i=>new Proxy(Object.fromEntries(i.entries()),{get(s,o){const a=o.toString();return s[a.toLowerCase()]||s[a]}}),requestOptionsKeys={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},isRequestOptions=i=>typeof i=="object"&&i!==null&&!isEmptyObj(i)&&Object.keys(i).every(s=>hasOwn$1(requestOptionsKeys,s)),getPlatformProperties=()=>{var s;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":normalizePlatform(Deno.build.os),"X-Stainless-Arch":normalizeArch(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((s=Deno.version)==null?void 0:s.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":normalizePlatform(process.platform),"X-Stainless-Arch":normalizeArch(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const i=getBrowserInfo();return i?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${i.browser}`,"X-Stainless-Runtime-Version":i.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function getBrowserInfo(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:s,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const c=a[1]||0,d=a[2]||0,h=a[3]||0;return{browser:s,version:`${c}.${d}.${h}`}}}return null}const normalizeArch=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",normalizePlatform=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let _platformHeaders;const getPlatformHeaders=()=>_platformHeaders??(_platformHeaders=getPlatformProperties()),safeJSON=i=>{try{return JSON.parse(i)}catch{return}},startsWithSchemeRegexp=/^[a-z][a-z0-9+.-]*:/i,isAbsoluteURL=i=>startsWithSchemeRegexp.test(i),sleep=i=>new Promise(s=>setTimeout(s,i)),validatePositiveInteger=(i,s)=>{if(typeof s!="number"||!Number.isInteger(s))throw new OpenAIError(`${i} must be an integer`);if(s<0)throw new OpenAIError(`${i} must be a positive integer`);return s},castToError=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null)try{return new Error(JSON.stringify(i))}catch{}return new Error(i)},readEnv=i=>{var s,o,a,c;if(typeof process<"u")return((s=define_process_env_default==null?void 0:define_process_env_default[i])==null?void 0:s.trim())??void 0;if(typeof Deno<"u")return(c=(a=(o=Deno.env)==null?void 0:o.get)==null?void 0:a.call(o,i))==null?void 0:c.trim()};function isEmptyObj(i){if(!i)return!0;for(const s in i)return!1;return!0}function hasOwn$1(i,s){return Object.prototype.hasOwnProperty.call(i,s)}function applyHeadersMut(i,s){for(const o in s){if(!hasOwn$1(s,o))continue;const a=o.toLowerCase();if(!a)continue;const c=s[o];c===null?delete i[a]:c!==void 0&&(i[a]=c)}}const SENSITIVE_HEADERS=new Set(["authorization","api-key"]);function debug(i,...s){if(typeof process<"u"&&(define_process_env_default==null?void 0:define_process_env_default.DEBUG)==="true"){const o=s.map(a=>{if(!a)return a;if(a.headers){const d={...a,headers:{...a.headers}};for(const h in a.headers)SENSITIVE_HEADERS.has(h.toLowerCase())&&(d.headers[h]="REDACTED");return d}let c=null;for(const d in a)SENSITIVE_HEADERS.has(d.toLowerCase())&&(c??(c={...a}),c[d]="REDACTED");return c??a});console.log(`OpenAI:DEBUG:${i}`,...o)}}const uuid4=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const s=Math.random()*16|0;return(i==="x"?s:s&3|8).toString(16)}),isRunningInBrowser=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",isHeadersProtocol=i=>typeof(i==null?void 0:i.get)=="function",getHeader=(i,s)=>{var a;const o=s.toLowerCase();if(isHeadersProtocol(i)){const c=((a=s[0])==null?void 0:a.toUpperCase())+s.substring(1).replace(/([^\w])(\w)/g,(d,h,g)=>h+g.toUpperCase());for(const d of[s,o,s.toUpperCase(),c]){const h=i.get(d);if(h)return h}}for(const[c,d]of Object.entries(i))if(c.toLowerCase()===o)return Array.isArray(d)?(d.length<=1||console.warn(`Received ${d.length} entries for the ${s} header, using the first entry.`),d[0]):d},toFloat32Array=i=>{if(typeof Buffer<"u"){const s=Buffer.from(i,"base64");return Array.from(new Float32Array(s.buffer,s.byteOffset,s.length/Float32Array.BYTES_PER_ELEMENT))}else{const s=atob(i),o=s.length,a=new Uint8Array(o);for(let c=0;c<o;c++)a[c]=s.charCodeAt(c);return Array.from(new Float32Array(a.buffer))}};function isObj(i){return i!=null&&typeof i=="object"&&!Array.isArray(i)}class Page extends AbstractPage{constructor(s,o,a,c){super(s,o,a,c),this.data=a.data||[],this.object=a.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class CursorPage extends AbstractPage{constructor(s,o,a,c){super(s,o,a,c),this.data=a.data||[],this.has_more=a.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const s=this.nextPageInfo();if(!s)return null;if("params"in s)return s.params;const o=Object.fromEntries(s.url.searchParams);return Object.keys(o).length?o:null}nextPageInfo(){var a;const s=this.getPaginatedItems();if(!s.length)return null;const o=(a=s[s.length-1])==null?void 0:a.id;return o?{params:{after:o}}:null}}class APIResource{constructor(s){this._client=s}}let Messages$1=class extends APIResource{list(s,o={},a){return isRequestOptions(o)?this.list(s,{},o):this._client.getAPIList(`/chat/completions/${s}/messages`,ChatCompletionStoreMessagesPage,{query:o,...a})}},Completions$2=class extends APIResource{constructor(){super(...arguments),this.messages=new Messages$1(this._client)}create(s,o){return this._client.post("/chat/completions",{body:s,...o,stream:s.stream??!1})}retrieve(s,o){return this._client.get(`/chat/completions/${s}`,o)}update(s,o,a){return this._client.post(`/chat/completions/${s}`,{body:o,...a})}list(s={},o){return isRequestOptions(s)?this.list({},s):this._client.getAPIList("/chat/completions",ChatCompletionsPage,{query:s,...o})}del(s,o){return this._client.delete(`/chat/completions/${s}`,o)}};class ChatCompletionsPage extends CursorPage{}class ChatCompletionStoreMessagesPage extends CursorPage{}Completions$2.ChatCompletionsPage=ChatCompletionsPage;Completions$2.Messages=Messages$1;let Chat$2=class extends APIResource{constructor(){super(...arguments),this.completions=new Completions$2(this._client)}};Chat$2.Completions=Completions$2;Chat$2.ChatCompletionsPage=ChatCompletionsPage;class Speech extends APIResource{create(s,o){return this._client.post("/audio/speech",{body:s,...o,headers:{Accept:"application/octet-stream",...o==null?void 0:o.headers},__binaryResponse:!0})}}class Transcriptions extends APIResource{create(s,o){return this._client.post("/audio/transcriptions",multipartFormRequestOptions({body:s,...o,stream:s.stream??!1,__metadata:{model:s.model}}))}}class Translations extends APIResource{create(s,o){return this._client.post("/audio/translations",multipartFormRequestOptions({body:s,...o,__metadata:{model:s.model}}))}}class Audio extends APIResource{constructor(){super(...arguments),this.transcriptions=new Transcriptions(this._client),this.translations=new Translations(this._client),this.speech=new Speech(this._client)}}Audio.Transcriptions=Transcriptions;Audio.Translations=Translations;Audio.Speech=Speech;class Batches extends APIResource{create(s,o){return this._client.post("/batches",{body:s,...o})}retrieve(s,o){return this._client.get(`/batches/${s}`,o)}list(s={},o){return isRequestOptions(s)?this.list({},s):this._client.getAPIList("/batches",BatchesPage,{query:s,...o})}cancel(s,o){return this._client.post(`/batches/${s}/cancel`,o)}}class BatchesPage extends CursorPage{}Batches.BatchesPage=BatchesPage;var __classPrivateFieldSet$3=function(i,s,o,a,c){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?i!==s||!c:!s.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?c.call(i,o):c?c.value=o:s.set(i,o),o},__classPrivateFieldGet$4=function(i,s,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?i!==s||!a:!s.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(i):a?a.value:s.get(i)},_EventStream_instances,_EventStream_connectedPromise,_EventStream_resolveConnectedPromise,_EventStream_rejectConnectedPromise,_EventStream_endPromise,_EventStream_resolveEndPromise,_EventStream_rejectEndPromise,_EventStream_listeners,_EventStream_ended,_EventStream_errored,_EventStream_aborted,_EventStream_catchingPromiseCreated,_EventStream_handleError;class EventStream{constructor(){_EventStream_instances.add(this),this.controller=new AbortController,_EventStream_connectedPromise.set(this,void 0),_EventStream_resolveConnectedPromise.set(this,()=>{}),_EventStream_rejectConnectedPromise.set(this,()=>{}),_EventStream_endPromise.set(this,void 0),_EventStream_resolveEndPromise.set(this,()=>{}),_EventStream_rejectEndPromise.set(this,()=>{}),_EventStream_listeners.set(this,{}),_EventStream_ended.set(this,!1),_EventStream_errored.set(this,!1),_EventStream_aborted.set(this,!1),_EventStream_catchingPromiseCreated.set(this,!1),__classPrivateFieldSet$3(this,_EventStream_connectedPromise,new Promise((s,o)=>{__classPrivateFieldSet$3(this,_EventStream_resolveConnectedPromise,s,"f"),__classPrivateFieldSet$3(this,_EventStream_rejectConnectedPromise,o,"f")}),"f"),__classPrivateFieldSet$3(this,_EventStream_endPromise,new Promise((s,o)=>{__classPrivateFieldSet$3(this,_EventStream_resolveEndPromise,s,"f"),__classPrivateFieldSet$3(this,_EventStream_rejectEndPromise,o,"f")}),"f"),__classPrivateFieldGet$4(this,_EventStream_connectedPromise,"f").catch(()=>{}),__classPrivateFieldGet$4(this,_EventStream_endPromise,"f").catch(()=>{})}_run(s){setTimeout(()=>{s().then(()=>{this._emitFinal(),this._emit("end")},__classPrivateFieldGet$4(this,_EventStream_instances,"m",_EventStream_handleError).bind(this))},0)}_connected(){this.ended||(__classPrivateFieldGet$4(this,_EventStream_resolveConnectedPromise,"f").call(this),this._emit("connect"))}get ended(){return __classPrivateFieldGet$4(this,_EventStream_ended,"f")}get errored(){return __classPrivateFieldGet$4(this,_EventStream_errored,"f")}get aborted(){return __classPrivateFieldGet$4(this,_EventStream_aborted,"f")}abort(){this.controller.abort()}on(s,o){return(__classPrivateFieldGet$4(this,_EventStream_listeners,"f")[s]||(__classPrivateFieldGet$4(this,_EventStream_listeners,"f")[s]=[])).push({listener:o}),this}off(s,o){const a=__classPrivateFieldGet$4(this,_EventStream_listeners,"f")[s];if(!a)return this;const c=a.findIndex(d=>d.listener===o);return c>=0&&a.splice(c,1),this}once(s,o){return(__classPrivateFieldGet$4(this,_EventStream_listeners,"f")[s]||(__classPrivateFieldGet$4(this,_EventStream_listeners,"f")[s]=[])).push({listener:o,once:!0}),this}emitted(s){return new Promise((o,a)=>{__classPrivateFieldSet$3(this,_EventStream_catchingPromiseCreated,!0,"f"),s!=="error"&&this.once("error",a),this.once(s,o)})}async done(){__classPrivateFieldSet$3(this,_EventStream_catchingPromiseCreated,!0,"f"),await __classPrivateFieldGet$4(this,_EventStream_endPromise,"f")}_emit(s,...o){if(__classPrivateFieldGet$4(this,_EventStream_ended,"f"))return;s==="end"&&(__classPrivateFieldSet$3(this,_EventStream_ended,!0,"f"),__classPrivateFieldGet$4(this,_EventStream_resolveEndPromise,"f").call(this));const a=__classPrivateFieldGet$4(this,_EventStream_listeners,"f")[s];if(a&&(__classPrivateFieldGet$4(this,_EventStream_listeners,"f")[s]=a.filter(c=>!c.once),a.forEach(({listener:c})=>c(...o))),s==="abort"){const c=o[0];!__classPrivateFieldGet$4(this,_EventStream_catchingPromiseCreated,"f")&&!(a!=null&&a.length)&&Promise.reject(c),__classPrivateFieldGet$4(this,_EventStream_rejectConnectedPromise,"f").call(this,c),__classPrivateFieldGet$4(this,_EventStream_rejectEndPromise,"f").call(this,c),this._emit("end");return}if(s==="error"){const c=o[0];!__classPrivateFieldGet$4(this,_EventStream_catchingPromiseCreated,"f")&&!(a!=null&&a.length)&&Promise.reject(c),__classPrivateFieldGet$4(this,_EventStream_rejectConnectedPromise,"f").call(this,c),__classPrivateFieldGet$4(this,_EventStream_rejectEndPromise,"f").call(this,c),this._emit("end")}}_emitFinal(){}}_EventStream_connectedPromise=new WeakMap,_EventStream_resolveConnectedPromise=new WeakMap,_EventStream_rejectConnectedPromise=new WeakMap,_EventStream_endPromise=new WeakMap,_EventStream_resolveEndPromise=new WeakMap,_EventStream_rejectEndPromise=new WeakMap,_EventStream_listeners=new WeakMap,_EventStream_ended=new WeakMap,_EventStream_errored=new WeakMap,_EventStream_aborted=new WeakMap,_EventStream_catchingPromiseCreated=new WeakMap,_EventStream_instances=new WeakSet,_EventStream_handleError=function(s){if(__classPrivateFieldSet$3(this,_EventStream_errored,!0,"f"),s instanceof Error&&s.name==="AbortError"&&(s=new APIUserAbortError),s instanceof APIUserAbortError)return __classPrivateFieldSet$3(this,_EventStream_aborted,!0,"f"),this._emit("abort",s);if(s instanceof OpenAIError)return this._emit("error",s);if(s instanceof Error){const o=new OpenAIError(s.message);return o.cause=s,this._emit("error",o)}return this._emit("error",new OpenAIError(String(s)))};var __classPrivateFieldGet$3=function(i,s,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?i!==s||!a:!s.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(i):a?a.value:s.get(i)},__classPrivateFieldSet$2=function(i,s,o,a,c){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?i!==s||!c:!s.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?c.call(i,o):c?c.value=o:s.set(i,o),o},_AssistantStream_instances,_AssistantStream_events,_AssistantStream_runStepSnapshots,_AssistantStream_messageSnapshots,_AssistantStream_messageSnapshot,_AssistantStream_finalRun,_AssistantStream_currentContentIndex,_AssistantStream_currentContent,_AssistantStream_currentToolCallIndex,_AssistantStream_currentToolCall,_AssistantStream_currentEvent,_AssistantStream_currentRunSnapshot,_AssistantStream_currentRunStepSnapshot,_AssistantStream_addEvent,_AssistantStream_endRequest,_AssistantStream_handleMessage,_AssistantStream_handleRunStep,_AssistantStream_handleEvent,_AssistantStream_accumulateRunStep,_AssistantStream_accumulateMessage,_AssistantStream_accumulateContent,_AssistantStream_handleRun;class AssistantStream extends EventStream{constructor(){super(...arguments),_AssistantStream_instances.add(this),_AssistantStream_events.set(this,[]),_AssistantStream_runStepSnapshots.set(this,{}),_AssistantStream_messageSnapshots.set(this,{}),_AssistantStream_messageSnapshot.set(this,void 0),_AssistantStream_finalRun.set(this,void 0),_AssistantStream_currentContentIndex.set(this,void 0),_AssistantStream_currentContent.set(this,void 0),_AssistantStream_currentToolCallIndex.set(this,void 0),_AssistantStream_currentToolCall.set(this,void 0),_AssistantStream_currentEvent.set(this,void 0),_AssistantStream_currentRunSnapshot.set(this,void 0),_AssistantStream_currentRunStepSnapshot.set(this,void 0)}[(_AssistantStream_events=new WeakMap,_AssistantStream_runStepSnapshots=new WeakMap,_AssistantStream_messageSnapshots=new WeakMap,_AssistantStream_messageSnapshot=new WeakMap,_AssistantStream_finalRun=new WeakMap,_AssistantStream_currentContentIndex=new WeakMap,_AssistantStream_currentContent=new WeakMap,_AssistantStream_currentToolCallIndex=new WeakMap,_AssistantStream_currentToolCall=new WeakMap,_AssistantStream_currentEvent=new WeakMap,_AssistantStream_currentRunSnapshot=new WeakMap,_AssistantStream_currentRunStepSnapshot=new WeakMap,_AssistantStream_instances=new WeakSet,Symbol.asyncIterator)](){const s=[],o=[];let a=!1;return this.on("event",c=>{const d=o.shift();d?d.resolve(c):s.push(c)}),this.on("end",()=>{a=!0;for(const c of o)c.resolve(void 0);o.length=0}),this.on("abort",c=>{a=!0;for(const d of o)d.reject(c);o.length=0}),this.on("error",c=>{a=!0;for(const d of o)d.reject(c);o.length=0}),{next:async()=>s.length?{value:s.shift(),done:!1}:a?{value:void 0,done:!0}:new Promise((d,h)=>o.push({resolve:d,reject:h})).then(d=>d?{value:d,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(s){const o=new AssistantStream;return o._run(()=>o._fromReadableStream(s)),o}async _fromReadableStream(s,o){var d;const a=o==null?void 0:o.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),this._connected();const c=Stream.fromReadableStream(s,this.controller);for await(const h of c)__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,h);if((d=c.controller.signal)!=null&&d.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}toReadableStream(){return new Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(s,o,a,c,d){const h=new AssistantStream;return h._run(()=>h._runToolAssistantStream(s,o,a,c,{...d,headers:{...d==null?void 0:d.headers,"X-Stainless-Helper-Method":"stream"}})),h}async _createToolAssistantStream(s,o,a,c,d){var b;const h=d==null?void 0:d.signal;h&&(h.aborted&&this.controller.abort(),h.addEventListener("abort",()=>this.controller.abort()));const g={...c,stream:!0},_=await s.submitToolOutputs(o,a,g,{...d,signal:this.controller.signal});this._connected();for await(const $ of _)__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,$);if((b=_.controller.signal)!=null&&b.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}static createThreadAssistantStream(s,o,a){const c=new AssistantStream;return c._run(()=>c._threadAssistantStream(s,o,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),c}static createAssistantStream(s,o,a,c){const d=new AssistantStream;return d._run(()=>d._runAssistantStream(s,o,a,{...c,headers:{...c==null?void 0:c.headers,"X-Stainless-Helper-Method":"stream"}})),d}currentEvent(){return __classPrivateFieldGet$3(this,_AssistantStream_currentEvent,"f")}currentRun(){return __classPrivateFieldGet$3(this,_AssistantStream_currentRunSnapshot,"f")}currentMessageSnapshot(){return __classPrivateFieldGet$3(this,_AssistantStream_messageSnapshot,"f")}currentRunStepSnapshot(){return __classPrivateFieldGet$3(this,_AssistantStream_currentRunStepSnapshot,"f")}async finalRunSteps(){return await this.done(),Object.values(__classPrivateFieldGet$3(this,_AssistantStream_runStepSnapshots,"f"))}async finalMessages(){return await this.done(),Object.values(__classPrivateFieldGet$3(this,_AssistantStream_messageSnapshots,"f"))}async finalRun(){if(await this.done(),!__classPrivateFieldGet$3(this,_AssistantStream_finalRun,"f"))throw Error("Final run was not received.");return __classPrivateFieldGet$3(this,_AssistantStream_finalRun,"f")}async _createThreadAssistantStream(s,o,a){var g;const c=a==null?void 0:a.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort()));const d={...o,stream:!0},h=await s.createAndRun(d,{...a,signal:this.controller.signal});this._connected();for await(const _ of h)__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,_);if((g=h.controller.signal)!=null&&g.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}async _createAssistantStream(s,o,a,c){var _;const d=c==null?void 0:c.signal;d&&(d.aborted&&this.controller.abort(),d.addEventListener("abort",()=>this.controller.abort()));const h={...a,stream:!0},g=await s.create(o,h,{...c,signal:this.controller.signal});this._connected();for await(const b of g)__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,b);if((_=g.controller.signal)!=null&&_.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}static accumulateDelta(s,o){for(const[a,c]of Object.entries(o)){if(!s.hasOwnProperty(a)){s[a]=c;continue}let d=s[a];if(d==null){s[a]=c;continue}if(a==="index"||a==="type"){s[a]=c;continue}if(typeof d=="string"&&typeof c=="string")d+=c;else if(typeof d=="number"&&typeof c=="number")d+=c;else if(isObj(d)&&isObj(c))d=this.accumulateDelta(d,c);else if(Array.isArray(d)&&Array.isArray(c)){if(d.every(h=>typeof h=="string"||typeof h=="number")){d.push(...c);continue}for(const h of c){if(!isObj(h))throw new Error(`Expected array delta entry to be an object but got: ${h}`);const g=h.index;if(g==null)throw console.error(h),new Error("Expected array delta entry to have an `index` property");if(typeof g!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${g}`);const _=d[g];_==null?d.push(h):d[g]=this.accumulateDelta(_,h)}continue}else throw Error(`Unhandled record type: ${a}, deltaValue: ${c}, accValue: ${d}`);s[a]=d}return s}_addRun(s){return s}async _threadAssistantStream(s,o,a){return await this._createThreadAssistantStream(o,s,a)}async _runAssistantStream(s,o,a,c){return await this._createAssistantStream(o,s,a,c)}async _runToolAssistantStream(s,o,a,c,d){return await this._createToolAssistantStream(a,s,o,c,d)}}_AssistantStream_addEvent=function(s){if(!this.ended)switch(__classPrivateFieldSet$2(this,_AssistantStream_currentEvent,s,"f"),__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_handleEvent).call(this,s),s.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_handleRun).call(this,s);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_handleRunStep).call(this,s);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_handleMessage).call(this,s);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},_AssistantStream_endRequest=function(){if(this.ended)throw new OpenAIError("stream has ended, this shouldn't happen");if(!__classPrivateFieldGet$3(this,_AssistantStream_finalRun,"f"))throw Error("Final run has not been received");return __classPrivateFieldGet$3(this,_AssistantStream_finalRun,"f")},_AssistantStream_handleMessage=function(s){const[o,a]=__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_accumulateMessage).call(this,s,__classPrivateFieldGet$3(this,_AssistantStream_messageSnapshot,"f"));__classPrivateFieldSet$2(this,_AssistantStream_messageSnapshot,o,"f"),__classPrivateFieldGet$3(this,_AssistantStream_messageSnapshots,"f")[o.id]=o;for(const c of a){const d=o.content[c.index];(d==null?void 0:d.type)=="text"&&this._emit("textCreated",d.text)}switch(s.event){case"thread.message.created":this._emit("messageCreated",s.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",s.data.delta,o),s.data.delta.content)for(const c of s.data.delta.content){if(c.type=="text"&&c.text){let d=c.text,h=o.content[c.index];if(h&&h.type=="text")this._emit("textDelta",d,h.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(c.index!=__classPrivateFieldGet$3(this,_AssistantStream_currentContentIndex,"f")){if(__classPrivateFieldGet$3(this,_AssistantStream_currentContent,"f"))switch(__classPrivateFieldGet$3(this,_AssistantStream_currentContent,"f").type){case"text":this._emit("textDone",__classPrivateFieldGet$3(this,_AssistantStream_currentContent,"f").text,__classPrivateFieldGet$3(this,_AssistantStream_messageSnapshot,"f"));break;case"image_file":this._emit("imageFileDone",__classPrivateFieldGet$3(this,_AssistantStream_currentContent,"f").image_file,__classPrivateFieldGet$3(this,_AssistantStream_messageSnapshot,"f"));break}__classPrivateFieldSet$2(this,_AssistantStream_currentContentIndex,c.index,"f")}__classPrivateFieldSet$2(this,_AssistantStream_currentContent,o.content[c.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(__classPrivateFieldGet$3(this,_AssistantStream_currentContentIndex,"f")!==void 0){const c=s.data.content[__classPrivateFieldGet$3(this,_AssistantStream_currentContentIndex,"f")];if(c)switch(c.type){case"image_file":this._emit("imageFileDone",c.image_file,__classPrivateFieldGet$3(this,_AssistantStream_messageSnapshot,"f"));break;case"text":this._emit("textDone",c.text,__classPrivateFieldGet$3(this,_AssistantStream_messageSnapshot,"f"));break}}__classPrivateFieldGet$3(this,_AssistantStream_messageSnapshot,"f")&&this._emit("messageDone",s.data),__classPrivateFieldSet$2(this,_AssistantStream_messageSnapshot,void 0,"f")}},_AssistantStream_handleRunStep=function(s){const o=__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_accumulateRunStep).call(this,s);switch(__classPrivateFieldSet$2(this,_AssistantStream_currentRunStepSnapshot,o,"f"),s.event){case"thread.run.step.created":this._emit("runStepCreated",s.data);break;case"thread.run.step.delta":const a=s.data.delta;if(a.step_details&&a.step_details.type=="tool_calls"&&a.step_details.tool_calls&&o.step_details.type=="tool_calls")for(const d of a.step_details.tool_calls)d.index==__classPrivateFieldGet$3(this,_AssistantStream_currentToolCallIndex,"f")?this._emit("toolCallDelta",d,o.step_details.tool_calls[d.index]):(__classPrivateFieldGet$3(this,_AssistantStream_currentToolCall,"f")&&this._emit("toolCallDone",__classPrivateFieldGet$3(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet$2(this,_AssistantStream_currentToolCallIndex,d.index,"f"),__classPrivateFieldSet$2(this,_AssistantStream_currentToolCall,o.step_details.tool_calls[d.index],"f"),__classPrivateFieldGet$3(this,_AssistantStream_currentToolCall,"f")&&this._emit("toolCallCreated",__classPrivateFieldGet$3(this,_AssistantStream_currentToolCall,"f")));this._emit("runStepDelta",s.data.delta,o);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":__classPrivateFieldSet$2(this,_AssistantStream_currentRunStepSnapshot,void 0,"f"),s.data.step_details.type=="tool_calls"&&__classPrivateFieldGet$3(this,_AssistantStream_currentToolCall,"f")&&(this._emit("toolCallDone",__classPrivateFieldGet$3(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet$2(this,_AssistantStream_currentToolCall,void 0,"f")),this._emit("runStepDone",s.data,o);break}},_AssistantStream_handleEvent=function(s){__classPrivateFieldGet$3(this,_AssistantStream_events,"f").push(s),this._emit("event",s)},_AssistantStream_accumulateRunStep=function(s){switch(s.event){case"thread.run.step.created":return __classPrivateFieldGet$3(this,_AssistantStream_runStepSnapshots,"f")[s.data.id]=s.data,s.data;case"thread.run.step.delta":let o=__classPrivateFieldGet$3(this,_AssistantStream_runStepSnapshots,"f")[s.data.id];if(!o)throw Error("Received a RunStepDelta before creation of a snapshot");let a=s.data;if(a.delta){const c=AssistantStream.accumulateDelta(o,a.delta);__classPrivateFieldGet$3(this,_AssistantStream_runStepSnapshots,"f")[s.data.id]=c}return __classPrivateFieldGet$3(this,_AssistantStream_runStepSnapshots,"f")[s.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":__classPrivateFieldGet$3(this,_AssistantStream_runStepSnapshots,"f")[s.data.id]=s.data;break}if(__classPrivateFieldGet$3(this,_AssistantStream_runStepSnapshots,"f")[s.data.id])return __classPrivateFieldGet$3(this,_AssistantStream_runStepSnapshots,"f")[s.data.id];throw new Error("No snapshot available")},_AssistantStream_accumulateMessage=function(s,o){let a=[];switch(s.event){case"thread.message.created":return[s.data,a];case"thread.message.delta":if(!o)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let c=s.data;if(c.delta.content)for(const d of c.delta.content)if(d.index in o.content){let h=o.content[d.index];o.content[d.index]=__classPrivateFieldGet$3(this,_AssistantStream_instances,"m",_AssistantStream_accumulateContent).call(this,d,h)}else o.content[d.index]=d,a.push(d);return[o,a];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(o)return[o,a];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},_AssistantStream_accumulateContent=function(s,o){return AssistantStream.accumulateDelta(o,s)},_AssistantStream_handleRun=function(s){switch(__classPrivateFieldSet$2(this,_AssistantStream_currentRunSnapshot,s.data,"f"),s.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":__classPrivateFieldSet$2(this,_AssistantStream_finalRun,s.data,"f"),__classPrivateFieldGet$3(this,_AssistantStream_currentToolCall,"f")&&(this._emit("toolCallDone",__classPrivateFieldGet$3(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet$2(this,_AssistantStream_currentToolCall,void 0,"f"));break}};class Assistants extends APIResource{create(s,o){return this._client.post("/assistants",{body:s,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(s,o){return this._client.get(`/assistants/${s}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}update(s,o,a){return this._client.post(`/assistants/${s}`,{body:o,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(s={},o){return isRequestOptions(s)?this.list({},s):this._client.getAPIList("/assistants",AssistantsPage,{query:s,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}del(s,o){return this._client.delete(`/assistants/${s}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}}class AssistantsPage extends CursorPage{}Assistants.AssistantsPage=AssistantsPage;function isRunnableFunctionWithParse(i){return typeof i.parse=="function"}const isAssistantMessage=i=>(i==null?void 0:i.role)==="assistant",isFunctionMessage=i=>(i==null?void 0:i.role)==="function",isToolMessage=i=>(i==null?void 0:i.role)==="tool";function isAutoParsableResponseFormat(i){return(i==null?void 0:i.$brand)==="auto-parseable-response-format"}function isAutoParsableTool$1(i){return(i==null?void 0:i.$brand)==="auto-parseable-tool"}function maybeParseChatCompletion(i,s){return!s||!hasAutoParseableInput$1(s)?{...i,choices:i.choices.map(o=>({...o,message:{...o.message,parsed:null,...o.message.tool_calls?{tool_calls:o.message.tool_calls}:void 0}}))}:parseChatCompletion(i,s)}function parseChatCompletion(i,s){const o=i.choices.map(a=>{var c;if(a.finish_reason==="length")throw new LengthFinishReasonError;if(a.finish_reason==="content_filter")throw new ContentFilterFinishReasonError;return{...a,message:{...a.message,...a.message.tool_calls?{tool_calls:((c=a.message.tool_calls)==null?void 0:c.map(d=>parseToolCall$1(s,d)))??void 0}:void 0,parsed:a.message.content&&!a.message.refusal?parseResponseFormat(s,a.message.content):null}}});return{...i,choices:o}}function parseResponseFormat(i,s){var o,a;return((o=i.response_format)==null?void 0:o.type)!=="json_schema"?null:((a=i.response_format)==null?void 0:a.type)==="json_schema"?"$parseRaw"in i.response_format?i.response_format.$parseRaw(s):JSON.parse(s):null}function parseToolCall$1(i,s){var a;const o=(a=i.tools)==null?void 0:a.find(c=>{var d;return((d=c.function)==null?void 0:d.name)===s.function.name});return{...s,function:{...s.function,parsed_arguments:isAutoParsableTool$1(o)?o.$parseRaw(s.function.arguments):o!=null&&o.function.strict?JSON.parse(s.function.arguments):null}}}function shouldParseToolCall(i,s){var a;if(!i)return!1;const o=(a=i.tools)==null?void 0:a.find(c=>{var d;return((d=c.function)==null?void 0:d.name)===s.function.name});return isAutoParsableTool$1(o)||(o==null?void 0:o.function.strict)||!1}function hasAutoParseableInput$1(i){var s;return isAutoParsableResponseFormat(i.response_format)?!0:((s=i.tools)==null?void 0:s.some(o=>isAutoParsableTool$1(o)||o.type==="function"&&o.function.strict===!0))??!1}function validateInputTools(i){for(const s of i??[]){if(s.type!=="function")throw new OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${s.type}\``);if(s.function.strict!==!0)throw new OpenAIError(`The \`${s.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var __classPrivateFieldGet$2=function(i,s,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?i!==s||!a:!s.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(i):a?a.value:s.get(i)},_AbstractChatCompletionRunner_instances,_AbstractChatCompletionRunner_getFinalContent,_AbstractChatCompletionRunner_getFinalMessage,_AbstractChatCompletionRunner_getFinalFunctionCall,_AbstractChatCompletionRunner_getFinalFunctionCallResult,_AbstractChatCompletionRunner_calculateTotalUsage,_AbstractChatCompletionRunner_validateParams,_AbstractChatCompletionRunner_stringifyFunctionCallResult;const DEFAULT_MAX_CHAT_COMPLETIONS=10;class AbstractChatCompletionRunner extends EventStream{constructor(){super(...arguments),_AbstractChatCompletionRunner_instances.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(s){var a;this._chatCompletions.push(s),this._emit("chatCompletion",s);const o=(a=s.choices[0])==null?void 0:a.message;return o&&this._addMessage(o),s}_addMessage(s,o=!0){if("content"in s||(s.content=null),this.messages.push(s),o){if(this._emit("message",s),(isFunctionMessage(s)||isToolMessage(s))&&s.content)this._emit("functionCallResult",s.content);else if(isAssistantMessage(s)&&s.function_call)this._emit("functionCall",s.function_call);else if(isAssistantMessage(s)&&s.tool_calls)for(const a of s.tool_calls)a.type==="function"&&this._emit("functionCall",a.function)}}async finalChatCompletion(){await this.done();const s=this._chatCompletions[this._chatCompletions.length-1];if(!s)throw new OpenAIError("stream ended without producing a ChatCompletion");return s}async finalContent(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalContent).call(this)}async finalMessage(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this)}async finalFunctionCall(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCall).call(this)}async finalFunctionCallResult(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this)}async totalUsage(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_calculateTotalUsage).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const s=this._chatCompletions[this._chatCompletions.length-1];s&&this._emit("finalChatCompletion",s);const o=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this);o&&this._emit("finalMessage",o);const a=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalContent).call(this);a&&this._emit("finalContent",a);const c=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCall).call(this);c&&this._emit("finalFunctionCall",c);const d=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);d!=null&&this._emit("finalFunctionCallResult",d),this._chatCompletions.some(h=>h.usage)&&this._emit("totalUsage",__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_calculateTotalUsage).call(this))}async _createChatCompletion(s,o,a){const c=a==null?void 0:a.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_validateParams).call(this,o);const d=await s.chat.completions.create({...o,stream:!1},{...a,signal:this.controller.signal});return this._connected(),this._addChatCompletion(parseChatCompletion(d,o))}async _runChatCompletion(s,o,a){for(const c of o.messages)this._addMessage(c,!1);return await this._createChatCompletion(s,o,a)}async _runFunctions(s,o,a){var _e;const c="function",{function_call:d="auto",stream:h,...g}=o,_=typeof d!="string"&&(d==null?void 0:d.name),{maxChatCompletions:b=DEFAULT_MAX_CHAT_COMPLETIONS}=a||{},$={};for(const tt of o.functions)$[tt.name||tt.function.name]=tt;const et=o.functions.map(tt=>({name:tt.name||tt.function.name,parameters:tt.parameters,description:tt.description}));for(const tt of o.messages)this._addMessage(tt,!1);for(let tt=0;tt<b;++tt){const st=(_e=(await this._createChatCompletion(s,{...g,function_call:d,functions:et,messages:[...this.messages]},a)).choices[0])==null?void 0:_e.message;if(!st)throw new OpenAIError("missing message in ChatCompletion response");if(!st.function_call)return;const{name:lt,arguments:nt}=st.function_call,rt=$[lt];if(rt){if(_&&_!==lt){const dt=`Invalid function_call: ${JSON.stringify(lt)}. ${JSON.stringify(_)} requested. Please try again`;this._addMessage({role:c,name:lt,content:dt});continue}}else{const dt=`Invalid function_call: ${JSON.stringify(lt)}. Available options are: ${et.map(mt=>JSON.stringify(mt.name)).join(", ")}. Please try again`;this._addMessage({role:c,name:lt,content:dt});continue}let pt;try{pt=isRunnableFunctionWithParse(rt)?await rt.parse(nt):nt}catch(dt){this._addMessage({role:c,name:lt,content:dt instanceof Error?dt.message:String(dt)});continue}const gt=await rt.function(pt,this),ht=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this,gt);if(this._addMessage({role:c,name:lt,content:ht}),_)return}}async _runTools(s,o,a){var tt,it,st;const c="tool",{tool_choice:d="auto",stream:h,...g}=o,_=typeof d!="string"&&((tt=d==null?void 0:d.function)==null?void 0:tt.name),{maxChatCompletions:b=DEFAULT_MAX_CHAT_COMPLETIONS}=a||{},$=o.tools.map(lt=>{if(isAutoParsableTool$1(lt)){if(!lt.$callback)throw new OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:lt.$callback,name:lt.function.name,description:lt.function.description||"",parameters:lt.function.parameters,parse:lt.$parseRaw,strict:!0}}}return lt}),et={};for(const lt of $)lt.type==="function"&&(et[lt.function.name||lt.function.function.name]=lt.function);const _e="tools"in o?$.map(lt=>lt.type==="function"?{type:"function",function:{name:lt.function.name||lt.function.function.name,parameters:lt.function.parameters,description:lt.function.description,strict:lt.function.strict}}:lt):void 0;for(const lt of o.messages)this._addMessage(lt,!1);for(let lt=0;lt<b;++lt){const rt=(it=(await this._createChatCompletion(s,{...g,tool_choice:d,tools:_e,messages:[...this.messages]},a)).choices[0])==null?void 0:it.message;if(!rt)throw new OpenAIError("missing message in ChatCompletion response");if(!((st=rt.tool_calls)!=null&&st.length))return;for(const pt of rt.tool_calls){if(pt.type!=="function")continue;const gt=pt.id,{name:ht,arguments:dt}=pt.function,mt=et[ht];if(mt){if(_&&_!==ht){const vt=`Invalid tool_call: ${JSON.stringify(ht)}. ${JSON.stringify(_)} requested. Please try again`;this._addMessage({role:c,tool_call_id:gt,content:vt});continue}}else{const vt=`Invalid tool_call: ${JSON.stringify(ht)}. Available options are: ${Object.keys(et).map(St=>JSON.stringify(St)).join(", ")}. Please try again`;this._addMessage({role:c,tool_call_id:gt,content:vt});continue}let yt;try{yt=isRunnableFunctionWithParse(mt)?await mt.parse(dt):dt}catch(vt){const St=vt instanceof Error?vt.message:String(vt);this._addMessage({role:c,tool_call_id:gt,content:St});continue}const xt=await mt.function(yt,this),Et=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this,xt);if(this._addMessage({role:c,tool_call_id:gt,content:Et}),_)return}}}}_AbstractChatCompletionRunner_instances=new WeakSet,_AbstractChatCompletionRunner_getFinalContent=function(){return __classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this).content??null},_AbstractChatCompletionRunner_getFinalMessage=function(){let s=this.messages.length;for(;s-- >0;){const o=this.messages[s];if(isAssistantMessage(o)){const{function_call:a,...c}=o,d={...c,content:o.content??null,refusal:o.refusal??null};return a&&(d.function_call=a),d}}throw new OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},_AbstractChatCompletionRunner_getFinalFunctionCall=function(){var s,o;for(let a=this.messages.length-1;a>=0;a--){const c=this.messages[a];if(isAssistantMessage(c)&&(c!=null&&c.function_call))return c.function_call;if(isAssistantMessage(c)&&((s=c==null?void 0:c.tool_calls)!=null&&s.length))return(o=c.tool_calls.at(-1))==null?void 0:o.function}},_AbstractChatCompletionRunner_getFinalFunctionCallResult=function(){for(let s=this.messages.length-1;s>=0;s--){const o=this.messages[s];if(isFunctionMessage(o)&&o.content!=null||isToolMessage(o)&&o.content!=null&&typeof o.content=="string"&&this.messages.some(a=>{var c;return a.role==="assistant"&&((c=a.tool_calls)==null?void 0:c.some(d=>d.type==="function"&&d.id===o.tool_call_id))}))return o.content}},_AbstractChatCompletionRunner_calculateTotalUsage=function(){const s={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:o}of this._chatCompletions)o&&(s.completion_tokens+=o.completion_tokens,s.prompt_tokens+=o.prompt_tokens,s.total_tokens+=o.total_tokens);return s},_AbstractChatCompletionRunner_validateParams=function(s){if(s.n!=null&&s.n>1)throw new OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},_AbstractChatCompletionRunner_stringifyFunctionCallResult=function(s){return typeof s=="string"?s:s===void 0?"undefined":JSON.stringify(s)};class ChatCompletionRunner extends AbstractChatCompletionRunner{static runFunctions(s,o,a){const c=new ChatCompletionRunner,d={...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"runFunctions"}};return c._run(()=>c._runFunctions(s,o,d)),c}static runTools(s,o,a){const c=new ChatCompletionRunner,d={...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"runTools"}};return c._run(()=>c._runTools(s,o,d)),c}_addMessage(s,o=!0){super._addMessage(s,o),isAssistantMessage(s)&&s.content&&this._emit("content",s.content)}}const STR=1,NUM=2,ARR=4,OBJ=8,NULL=16,BOOL=32,NAN=64,INFINITY=128,MINUS_INFINITY=256,INF=INFINITY|MINUS_INFINITY,SPECIAL=NULL|BOOL|INF|NAN,ATOM=STR|NUM|SPECIAL,COLLECTION=ARR|OBJ,ALL=ATOM|COLLECTION,Allow={STR,NUM,ARR,OBJ,NULL,BOOL,NAN,INFINITY,MINUS_INFINITY,INF,SPECIAL,ATOM,COLLECTION,ALL};class PartialJSON extends Error{}class MalformedJSON extends Error{}function parseJSON(i,s=Allow.ALL){if(typeof i!="string")throw new TypeError(`expecting str, got ${typeof i}`);if(!i.trim())throw new Error(`${i} is empty`);return _parseJSON(i.trim(),s)}const _parseJSON=(i,s)=>{const o=i.length;let a=0;const c=_e=>{throw new PartialJSON(`${_e} at position ${a}`)},d=_e=>{throw new MalformedJSON(`${_e} at position ${a}`)},h=()=>(et(),a>=o&&c("Unexpected end of input"),i[a]==='"'?g():i[a]==="{"?_():i[a]==="["?b():i.substring(a,a+4)==="null"||Allow.NULL&s&&o-a<4&&"null".startsWith(i.substring(a))?(a+=4,null):i.substring(a,a+4)==="true"||Allow.BOOL&s&&o-a<4&&"true".startsWith(i.substring(a))?(a+=4,!0):i.substring(a,a+5)==="false"||Allow.BOOL&s&&o-a<5&&"false".startsWith(i.substring(a))?(a+=5,!1):i.substring(a,a+8)==="Infinity"||Allow.INFINITY&s&&o-a<8&&"Infinity".startsWith(i.substring(a))?(a+=8,1/0):i.substring(a,a+9)==="-Infinity"||Allow.MINUS_INFINITY&s&&1<o-a&&o-a<9&&"-Infinity".startsWith(i.substring(a))?(a+=9,-1/0):i.substring(a,a+3)==="NaN"||Allow.NAN&s&&o-a<3&&"NaN".startsWith(i.substring(a))?(a+=3,NaN):$()),g=()=>{const _e=a;let tt=!1;for(a++;a<o&&(i[a]!=='"'||tt&&i[a-1]==="\\");)tt=i[a]==="\\"?!tt:!1,a++;if(i.charAt(a)=='"')try{return JSON.parse(i.substring(_e,++a-Number(tt)))}catch(it){d(String(it))}else if(Allow.STR&s)try{return JSON.parse(i.substring(_e,a-Number(tt))+'"')}catch{return JSON.parse(i.substring(_e,i.lastIndexOf("\\"))+'"')}c("Unterminated string literal")},_=()=>{a++,et();const _e={};try{for(;i[a]!=="}";){if(et(),a>=o&&Allow.OBJ&s)return _e;const tt=g();et(),a++;try{const it=h();Object.defineProperty(_e,tt,{value:it,writable:!0,enumerable:!0,configurable:!0})}catch(it){if(Allow.OBJ&s)return _e;throw it}et(),i[a]===","&&a++}}catch{if(Allow.OBJ&s)return _e;c("Expected '}' at end of object")}return a++,_e},b=()=>{a++;const _e=[];try{for(;i[a]!=="]";)_e.push(h()),et(),i[a]===","&&a++}catch{if(Allow.ARR&s)return _e;c("Expected ']' at end of array")}return a++,_e},$=()=>{if(a===0){i==="-"&&Allow.NUM&s&&c("Not sure what '-' is");try{return JSON.parse(i)}catch(tt){if(Allow.NUM&s)try{return i[i.length-1]==="."?JSON.parse(i.substring(0,i.lastIndexOf("."))):JSON.parse(i.substring(0,i.lastIndexOf("e")))}catch{}d(String(tt))}}const _e=a;for(i[a]==="-"&&a++;i[a]&&!",]}".includes(i[a]);)a++;a==o&&!(Allow.NUM&s)&&c("Unterminated number literal");try{return JSON.parse(i.substring(_e,a))}catch{i.substring(_e,a)==="-"&&Allow.NUM&s&&c("Not sure what '-' is");try{return JSON.parse(i.substring(_e,i.lastIndexOf("e")))}catch(it){d(String(it))}}},et=()=>{for(;a<o&&` 
\r	`.includes(i[a]);)a++};return h()},partialParse=i=>parseJSON(i,Allow.ALL^Allow.NUM);var __classPrivateFieldSet$1=function(i,s,o,a,c){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?i!==s||!c:!s.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?c.call(i,o):c?c.value=o:s.set(i,o),o},__classPrivateFieldGet$1=function(i,s,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?i!==s||!a:!s.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(i):a?a.value:s.get(i)},_ChatCompletionStream_instances,_ChatCompletionStream_params,_ChatCompletionStream_choiceEventStates,_ChatCompletionStream_currentChatCompletionSnapshot,_ChatCompletionStream_beginRequest,_ChatCompletionStream_getChoiceEventState,_ChatCompletionStream_addChunk,_ChatCompletionStream_emitToolCallDoneEvent,_ChatCompletionStream_emitContentDoneEvents,_ChatCompletionStream_endRequest,_ChatCompletionStream_getAutoParseableResponseFormat,_ChatCompletionStream_accumulateChatCompletion;class ChatCompletionStream extends AbstractChatCompletionRunner{constructor(s){super(),_ChatCompletionStream_instances.add(this),_ChatCompletionStream_params.set(this,void 0),_ChatCompletionStream_choiceEventStates.set(this,void 0),_ChatCompletionStream_currentChatCompletionSnapshot.set(this,void 0),__classPrivateFieldSet$1(this,_ChatCompletionStream_params,s,"f"),__classPrivateFieldSet$1(this,_ChatCompletionStream_choiceEventStates,[],"f")}get currentChatCompletionSnapshot(){return __classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f")}static fromReadableStream(s){const o=new ChatCompletionStream(null);return o._run(()=>o._fromReadableStream(s)),o}static createChatCompletion(s,o,a){const c=new ChatCompletionStream(o);return c._run(()=>c._runChatCompletion(s,{...o,stream:!0},{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),c}async _createChatCompletion(s,o,a){var h;super._createChatCompletion;const c=a==null?void 0:a.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_beginRequest).call(this);const d=await s.chat.completions.create({...o,stream:!0},{...a,signal:this.controller.signal});this._connected();for await(const g of d)__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_addChunk).call(this,g);if((h=d.controller.signal)!=null&&h.aborted)throw new APIUserAbortError;return this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this))}async _fromReadableStream(s,o){var h;const a=o==null?void 0:o.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_beginRequest).call(this),this._connected();const c=Stream.fromReadableStream(s,this.controller);let d;for await(const g of c)d&&d!==g.id&&this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this)),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_addChunk).call(this,g),d=g.id;if((h=c.controller.signal)!=null&&h.aborted)throw new APIUserAbortError;return this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this))}[(_ChatCompletionStream_params=new WeakMap,_ChatCompletionStream_choiceEventStates=new WeakMap,_ChatCompletionStream_currentChatCompletionSnapshot=new WeakMap,_ChatCompletionStream_instances=new WeakSet,_ChatCompletionStream_beginRequest=function(){this.ended||__classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,void 0,"f")},_ChatCompletionStream_getChoiceEventState=function(o){let a=__classPrivateFieldGet$1(this,_ChatCompletionStream_choiceEventStates,"f")[o.index];return a||(a={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},__classPrivateFieldGet$1(this,_ChatCompletionStream_choiceEventStates,"f")[o.index]=a,a)},_ChatCompletionStream_addChunk=function(o){var c,d,h,g,_,b,$,et,_e,tt,it,st,lt,nt,rt;if(this.ended)return;const a=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_accumulateChatCompletion).call(this,o);this._emit("chunk",o,a);for(const pt of o.choices){const gt=a.choices[pt.index];pt.delta.content!=null&&((c=gt.message)==null?void 0:c.role)==="assistant"&&((d=gt.message)!=null&&d.content)&&(this._emit("content",pt.delta.content,gt.message.content),this._emit("content.delta",{delta:pt.delta.content,snapshot:gt.message.content,parsed:gt.message.parsed})),pt.delta.refusal!=null&&((h=gt.message)==null?void 0:h.role)==="assistant"&&((g=gt.message)!=null&&g.refusal)&&this._emit("refusal.delta",{delta:pt.delta.refusal,snapshot:gt.message.refusal}),((_=pt.logprobs)==null?void 0:_.content)!=null&&((b=gt.message)==null?void 0:b.role)==="assistant"&&this._emit("logprobs.content.delta",{content:($=pt.logprobs)==null?void 0:$.content,snapshot:((et=gt.logprobs)==null?void 0:et.content)??[]}),((_e=pt.logprobs)==null?void 0:_e.refusal)!=null&&((tt=gt.message)==null?void 0:tt.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(it=pt.logprobs)==null?void 0:it.refusal,snapshot:((st=gt.logprobs)==null?void 0:st.refusal)??[]});const ht=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,gt);gt.finish_reason&&(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitContentDoneEvents).call(this,gt),ht.current_tool_call_index!=null&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitToolCallDoneEvent).call(this,gt,ht.current_tool_call_index));for(const dt of pt.delta.tool_calls??[])ht.current_tool_call_index!==dt.index&&(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitContentDoneEvents).call(this,gt),ht.current_tool_call_index!=null&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitToolCallDoneEvent).call(this,gt,ht.current_tool_call_index)),ht.current_tool_call_index=dt.index;for(const dt of pt.delta.tool_calls??[]){const mt=(lt=gt.message.tool_calls)==null?void 0:lt[dt.index];mt!=null&&mt.type&&((mt==null?void 0:mt.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(nt=mt.function)==null?void 0:nt.name,index:dt.index,arguments:mt.function.arguments,parsed_arguments:mt.function.parsed_arguments,arguments_delta:((rt=dt.function)==null?void 0:rt.arguments)??""}):(mt==null||mt.type,void 0))}}},_ChatCompletionStream_emitToolCallDoneEvent=function(o,a){var h,g,_;if(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,o).done_tool_calls.has(a))return;const d=(h=o.message.tool_calls)==null?void 0:h[a];if(!d)throw new Error("no tool call snapshot");if(!d.type)throw new Error("tool call snapshot missing `type`");if(d.type==="function"){const b=(_=(g=__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"))==null?void 0:g.tools)==null?void 0:_.find($=>$.type==="function"&&$.function.name===d.function.name);this._emit("tool_calls.function.arguments.done",{name:d.function.name,index:a,arguments:d.function.arguments,parsed_arguments:isAutoParsableTool$1(b)?b.$parseRaw(d.function.arguments):b!=null&&b.function.strict?JSON.parse(d.function.arguments):null})}else d.type},_ChatCompletionStream_emitContentDoneEvents=function(o){var c,d;const a=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,o);if(o.message.content&&!a.content_done){a.content_done=!0;const h=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getAutoParseableResponseFormat).call(this);this._emit("content.done",{content:o.message.content,parsed:h?h.$parseRaw(o.message.content):null})}o.message.refusal&&!a.refusal_done&&(a.refusal_done=!0,this._emit("refusal.done",{refusal:o.message.refusal})),(c=o.logprobs)!=null&&c.content&&!a.logprobs_content_done&&(a.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:o.logprobs.content})),(d=o.logprobs)!=null&&d.refusal&&!a.logprobs_refusal_done&&(a.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:o.logprobs.refusal}))},_ChatCompletionStream_endRequest=function(){if(this.ended)throw new OpenAIError("stream has ended, this shouldn't happen");const o=__classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f");if(!o)throw new OpenAIError("request ended without sending any chunks");return __classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,void 0,"f"),__classPrivateFieldSet$1(this,_ChatCompletionStream_choiceEventStates,[],"f"),finalizeChatCompletion(o,__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"))},_ChatCompletionStream_getAutoParseableResponseFormat=function(){var a;const o=(a=__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"))==null?void 0:a.response_format;return isAutoParsableResponseFormat(o)?o:null},_ChatCompletionStream_accumulateChatCompletion=function(o){var a,c,d,h;let g=__classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f");const{choices:_,...b}=o;g?Object.assign(g,b):g=__classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,{...b,choices:[]},"f");for(const{delta:$,finish_reason:et,index:_e,logprobs:tt=null,...it}of o.choices){let st=g.choices[_e];if(st||(st=g.choices[_e]={finish_reason:et,index:_e,message:{},logprobs:tt,...it}),tt)if(!st.logprobs)st.logprobs=Object.assign({},tt);else{const{content:dt,refusal:mt,...yt}=tt;Object.assign(st.logprobs,yt),dt&&((a=st.logprobs).content??(a.content=[]),st.logprobs.content.push(...dt)),mt&&((c=st.logprobs).refusal??(c.refusal=[]),st.logprobs.refusal.push(...mt))}if(et&&(st.finish_reason=et,__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f")&&hasAutoParseableInput$1(__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f")))){if(et==="length")throw new LengthFinishReasonError;if(et==="content_filter")throw new ContentFilterFinishReasonError}if(Object.assign(st,it),!$)continue;const{content:lt,refusal:nt,function_call:rt,role:pt,tool_calls:gt,...ht}=$;if(Object.assign(st.message,ht),nt&&(st.message.refusal=(st.message.refusal||"")+nt),pt&&(st.message.role=pt),rt&&(st.message.function_call?(rt.name&&(st.message.function_call.name=rt.name),rt.arguments&&((d=st.message.function_call).arguments??(d.arguments=""),st.message.function_call.arguments+=rt.arguments)):st.message.function_call=rt),lt&&(st.message.content=(st.message.content||"")+lt,!st.message.refusal&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getAutoParseableResponseFormat).call(this)&&(st.message.parsed=partialParse(st.message.content))),gt){st.message.tool_calls||(st.message.tool_calls=[]);for(const{index:dt,id:mt,type:yt,function:xt,...Et}of gt){const vt=(h=st.message.tool_calls)[dt]??(h[dt]={});Object.assign(vt,Et),mt&&(vt.id=mt),yt&&(vt.type=yt),xt&&(vt.function??(vt.function={name:xt.name??"",arguments:""})),xt!=null&&xt.name&&(vt.function.name=xt.name),xt!=null&&xt.arguments&&(vt.function.arguments+=xt.arguments,shouldParseToolCall(__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"),vt)&&(vt.function.parsed_arguments=partialParse(vt.function.arguments)))}}}return g},Symbol.asyncIterator)](){const s=[],o=[];let a=!1;return this.on("chunk",c=>{const d=o.shift();d?d.resolve(c):s.push(c)}),this.on("end",()=>{a=!0;for(const c of o)c.resolve(void 0);o.length=0}),this.on("abort",c=>{a=!0;for(const d of o)d.reject(c);o.length=0}),this.on("error",c=>{a=!0;for(const d of o)d.reject(c);o.length=0}),{next:async()=>s.length?{value:s.shift(),done:!1}:a?{value:void 0,done:!0}:new Promise((d,h)=>o.push({resolve:d,reject:h})).then(d=>d?{value:d,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function finalizeChatCompletion(i,s){const{id:o,choices:a,created:c,model:d,system_fingerprint:h,...g}=i,_={...g,id:o,choices:a.map(({message:b,finish_reason:$,index:et,logprobs:_e,...tt})=>{if(!$)throw new OpenAIError(`missing finish_reason for choice ${et}`);const{content:it=null,function_call:st,tool_calls:lt,...nt}=b,rt=b.role;if(!rt)throw new OpenAIError(`missing role for choice ${et}`);if(st){const{arguments:pt,name:gt}=st;if(pt==null)throw new OpenAIError(`missing function_call.arguments for choice ${et}`);if(!gt)throw new OpenAIError(`missing function_call.name for choice ${et}`);return{...tt,message:{content:it,function_call:{arguments:pt,name:gt},role:rt,refusal:b.refusal??null},finish_reason:$,index:et,logprobs:_e}}return lt?{...tt,index:et,finish_reason:$,logprobs:_e,message:{...nt,role:rt,content:it,refusal:b.refusal??null,tool_calls:lt.map((pt,gt)=>{const{function:ht,type:dt,id:mt,...yt}=pt,{arguments:xt,name:Et,...vt}=ht||{};if(mt==null)throw new OpenAIError(`missing choices[${et}].tool_calls[${gt}].id
${str(i)}`);if(dt==null)throw new OpenAIError(`missing choices[${et}].tool_calls[${gt}].type
${str(i)}`);if(Et==null)throw new OpenAIError(`missing choices[${et}].tool_calls[${gt}].function.name
${str(i)}`);if(xt==null)throw new OpenAIError(`missing choices[${et}].tool_calls[${gt}].function.arguments
${str(i)}`);return{...yt,id:mt,type:dt,function:{...vt,name:Et,arguments:xt}}})}}:{...tt,message:{...nt,content:it,role:rt,refusal:b.refusal??null},finish_reason:$,index:et,logprobs:_e}}),created:c,model:d,object:"chat.completion",...h?{system_fingerprint:h}:{}};return maybeParseChatCompletion(_,s)}function str(i){return JSON.stringify(i)}function assertNever(i){}class ChatCompletionStreamingRunner extends ChatCompletionStream{static fromReadableStream(s){const o=new ChatCompletionStreamingRunner(null);return o._run(()=>o._fromReadableStream(s)),o}static runFunctions(s,o,a){const c=new ChatCompletionStreamingRunner(null),d={...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"runFunctions"}};return c._run(()=>c._runFunctions(s,o,d)),c}static runTools(s,o,a){const c=new ChatCompletionStreamingRunner(o),d={...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"runTools"}};return c._run(()=>c._runTools(s,o,d)),c}}let Completions$1=class extends APIResource{parse(s,o){return validateInputTools(s.tools),this._client.chat.completions.create(s,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(a=>parseChatCompletion(a,s))}runFunctions(s,o){return s.stream?ChatCompletionStreamingRunner.runFunctions(this._client,s,o):ChatCompletionRunner.runFunctions(this._client,s,o)}runTools(s,o){return s.stream?ChatCompletionStreamingRunner.runTools(this._client,s,o):ChatCompletionRunner.runTools(this._client,s,o)}stream(s,o){return ChatCompletionStream.createChatCompletion(this._client,s,o)}},Chat$1=class extends APIResource{constructor(){super(...arguments),this.completions=new Completions$1(this._client)}};(function(i){i.Completions=Completions$1})(Chat$1||(Chat$1={}));class Sessions extends APIResource{create(s,o){return this._client.post("/realtime/sessions",{body:s,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}}class TranscriptionSessions extends APIResource{create(s,o){return this._client.post("/realtime/transcription_sessions",{body:s,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}}class Realtime extends APIResource{constructor(){super(...arguments),this.sessions=new Sessions(this._client),this.transcriptionSessions=new TranscriptionSessions(this._client)}}Realtime.Sessions=Sessions;Realtime.TranscriptionSessions=TranscriptionSessions;class Messages extends APIResource{create(s,o,a){return this._client.post(`/threads/${s}/messages`,{body:o,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(s,o,a){return this._client.get(`/threads/${s}/messages/${o}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(s,o,a,c){return this._client.post(`/threads/${s}/messages/${o}`,{body:a,...c,headers:{"OpenAI-Beta":"assistants=v2",...c==null?void 0:c.headers}})}list(s,o={},a){return isRequestOptions(o)?this.list(s,{},o):this._client.getAPIList(`/threads/${s}/messages`,MessagesPage,{query:o,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}del(s,o,a){return this._client.delete(`/threads/${s}/messages/${o}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class MessagesPage extends CursorPage{}Messages.MessagesPage=MessagesPage;class Steps extends APIResource{retrieve(s,o,a,c={},d){return isRequestOptions(c)?this.retrieve(s,o,a,{},c):this._client.get(`/threads/${s}/runs/${o}/steps/${a}`,{query:c,...d,headers:{"OpenAI-Beta":"assistants=v2",...d==null?void 0:d.headers}})}list(s,o,a={},c){return isRequestOptions(a)?this.list(s,o,{},a):this._client.getAPIList(`/threads/${s}/runs/${o}/steps`,RunStepsPage,{query:a,...c,headers:{"OpenAI-Beta":"assistants=v2",...c==null?void 0:c.headers}})}}class RunStepsPage extends CursorPage{}Steps.RunStepsPage=RunStepsPage;let Runs$1=class extends APIResource{constructor(){super(...arguments),this.steps=new Steps(this._client)}create(s,o,a){const{include:c,...d}=o;return this._client.post(`/threads/${s}/runs`,{query:{include:c},body:d,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers},stream:o.stream??!1})}retrieve(s,o,a){return this._client.get(`/threads/${s}/runs/${o}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(s,o,a,c){return this._client.post(`/threads/${s}/runs/${o}`,{body:a,...c,headers:{"OpenAI-Beta":"assistants=v2",...c==null?void 0:c.headers}})}list(s,o={},a){return isRequestOptions(o)?this.list(s,{},o):this._client.getAPIList(`/threads/${s}/runs`,RunsPage,{query:o,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}cancel(s,o,a){return this._client.post(`/threads/${s}/runs/${o}/cancel`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}async createAndPoll(s,o,a){const c=await this.create(s,o,a);return await this.poll(s,c.id,a)}createAndStream(s,o,a){return AssistantStream.createAssistantStream(s,this._client.beta.threads.runs,o,a)}async poll(s,o,a){const c={...a==null?void 0:a.headers,"X-Stainless-Poll-Helper":"true"};for(a!=null&&a.pollIntervalMs&&(c["X-Stainless-Custom-Poll-Interval"]=a.pollIntervalMs.toString());;){const{data:d,response:h}=await this.retrieve(s,o,{...a,headers:{...a==null?void 0:a.headers,...c}}).withResponse();switch(d.status){case"queued":case"in_progress":case"cancelling":let g=5e3;if(a!=null&&a.pollIntervalMs)g=a.pollIntervalMs;else{const _=h.headers.get("openai-poll-after-ms");if(_){const b=parseInt(_);isNaN(b)||(g=b)}}await sleep(g);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return d}}}stream(s,o,a){return AssistantStream.createAssistantStream(s,this._client.beta.threads.runs,o,a)}submitToolOutputs(s,o,a,c){return this._client.post(`/threads/${s}/runs/${o}/submit_tool_outputs`,{body:a,...c,headers:{"OpenAI-Beta":"assistants=v2",...c==null?void 0:c.headers},stream:a.stream??!1})}async submitToolOutputsAndPoll(s,o,a,c){const d=await this.submitToolOutputs(s,o,a,c);return await this.poll(s,d.id,c)}submitToolOutputsStream(s,o,a,c){return AssistantStream.createToolAssistantStream(s,o,this._client.beta.threads.runs,a,c)}};class RunsPage extends CursorPage{}Runs$1.RunsPage=RunsPage;Runs$1.Steps=Steps;Runs$1.RunStepsPage=RunStepsPage;class Threads extends APIResource{constructor(){super(...arguments),this.runs=new Runs$1(this._client),this.messages=new Messages(this._client)}create(s={},o){return isRequestOptions(s)?this.create({},s):this._client.post("/threads",{body:s,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(s,o){return this._client.get(`/threads/${s}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}update(s,o,a){return this._client.post(`/threads/${s}`,{body:o,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}del(s,o){return this._client.delete(`/threads/${s}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}createAndRun(s,o){return this._client.post("/threads/runs",{body:s,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers},stream:s.stream??!1})}async createAndRunPoll(s,o){const a=await this.createAndRun(s,o);return await this.runs.poll(a.thread_id,a.id,o)}createAndRunStream(s,o){return AssistantStream.createThreadAssistantStream(s,this._client.beta.threads,o)}}Threads.Runs=Runs$1;Threads.RunsPage=RunsPage;Threads.Messages=Messages;Threads.MessagesPage=MessagesPage;class Beta extends APIResource{constructor(){super(...arguments),this.realtime=new Realtime(this._client),this.chat=new Chat$1(this._client),this.assistants=new Assistants(this._client),this.threads=new Threads(this._client)}}Beta.Realtime=Realtime;Beta.Assistants=Assistants;Beta.AssistantsPage=AssistantsPage;Beta.Threads=Threads;class Completions extends APIResource{create(s,o){return this._client.post("/completions",{body:s,...o,stream:s.stream??!1})}}class Embeddings extends APIResource{create(s,o){const a=!!s.encoding_format;let c=a?s.encoding_format:"base64";a&&debug("Request","User defined encoding_format:",s.encoding_format);const d=this._client.post("/embeddings",{body:{...s,encoding_format:c},...o});return a?d:(debug("response","Decoding base64 embeddings to float32 array"),d._thenUnwrap(h=>(h&&h.data&&h.data.forEach(g=>{const _=g.embedding;g.embedding=toFloat32Array(_)}),h)))}}class OutputItems extends APIResource{retrieve(s,o,a,c){return this._client.get(`/evals/${s}/runs/${o}/output_items/${a}`,c)}list(s,o,a={},c){return isRequestOptions(a)?this.list(s,o,{},a):this._client.getAPIList(`/evals/${s}/runs/${o}/output_items`,OutputItemListResponsesPage,{query:a,...c})}}class OutputItemListResponsesPage extends CursorPage{}OutputItems.OutputItemListResponsesPage=OutputItemListResponsesPage;class Runs extends APIResource{constructor(){super(...arguments),this.outputItems=new OutputItems(this._client)}create(s,o,a){return this._client.post(`/evals/${s}/runs`,{body:o,...a})}retrieve(s,o,a){return this._client.get(`/evals/${s}/runs/${o}`,a)}list(s,o={},a){return isRequestOptions(o)?this.list(s,{},o):this._client.getAPIList(`/evals/${s}/runs`,RunListResponsesPage,{query:o,...a})}del(s,o,a){return this._client.delete(`/evals/${s}/runs/${o}`,a)}cancel(s,o,a){return this._client.post(`/evals/${s}/runs/${o}`,a)}}class RunListResponsesPage extends CursorPage{}Runs.RunListResponsesPage=RunListResponsesPage;Runs.OutputItems=OutputItems;Runs.OutputItemListResponsesPage=OutputItemListResponsesPage;class Evals extends APIResource{constructor(){super(...arguments),this.runs=new Runs(this._client)}create(s,o){return this._client.post("/evals",{body:s,...o})}retrieve(s,o){return this._client.get(`/evals/${s}`,o)}update(s,o,a){return this._client.post(`/evals/${s}`,{body:o,...a})}list(s={},o){return isRequestOptions(s)?this.list({},s):this._client.getAPIList("/evals",EvalListResponsesPage,{query:s,...o})}del(s,o){return this._client.delete(`/evals/${s}`,o)}}class EvalListResponsesPage extends CursorPage{}Evals.EvalListResponsesPage=EvalListResponsesPage;Evals.Runs=Runs;Evals.RunListResponsesPage=RunListResponsesPage;let Files$1=class extends APIResource{create(s,o){return this._client.post("/files",multipartFormRequestOptions({body:s,...o}))}retrieve(s,o){return this._client.get(`/files/${s}`,o)}list(s={},o){return isRequestOptions(s)?this.list({},s):this._client.getAPIList("/files",FileObjectsPage,{query:s,...o})}del(s,o){return this._client.delete(`/files/${s}`,o)}content(s,o){return this._client.get(`/files/${s}/content`,{...o,headers:{Accept:"application/binary",...o==null?void 0:o.headers},__binaryResponse:!0})}retrieveContent(s,o){return this._client.get(`/files/${s}/content`,o)}async waitForProcessing(s,{pollInterval:o=5e3,maxWait:a=30*60*1e3}={}){const c=new Set(["processed","error","deleted"]),d=Date.now();let h=await this.retrieve(s);for(;!h.status||!c.has(h.status);)if(await sleep(o),h=await this.retrieve(s),Date.now()-d>a)throw new APIConnectionTimeoutError({message:`Giving up on waiting for file ${s} to finish processing after ${a} milliseconds.`});return h}};class FileObjectsPage extends CursorPage{}Files$1.FileObjectsPage=FileObjectsPage;class Permissions extends APIResource{create(s,o,a){return this._client.getAPIList(`/fine_tuning/checkpoints/${s}/permissions`,PermissionCreateResponsesPage,{body:o,method:"post",...a})}retrieve(s,o={},a){return isRequestOptions(o)?this.retrieve(s,{},o):this._client.get(`/fine_tuning/checkpoints/${s}/permissions`,{query:o,...a})}del(s,o,a){return this._client.delete(`/fine_tuning/checkpoints/${s}/permissions/${o}`,a)}}class PermissionCreateResponsesPage extends Page{}Permissions.PermissionCreateResponsesPage=PermissionCreateResponsesPage;let Checkpoints$1=class extends APIResource{constructor(){super(...arguments),this.permissions=new Permissions(this._client)}};Checkpoints$1.Permissions=Permissions;Checkpoints$1.PermissionCreateResponsesPage=PermissionCreateResponsesPage;class Checkpoints extends APIResource{list(s,o={},a){return isRequestOptions(o)?this.list(s,{},o):this._client.getAPIList(`/fine_tuning/jobs/${s}/checkpoints`,FineTuningJobCheckpointsPage,{query:o,...a})}}class FineTuningJobCheckpointsPage extends CursorPage{}Checkpoints.FineTuningJobCheckpointsPage=FineTuningJobCheckpointsPage;class Jobs extends APIResource{constructor(){super(...arguments),this.checkpoints=new Checkpoints(this._client)}create(s,o){return this._client.post("/fine_tuning/jobs",{body:s,...o})}retrieve(s,o){return this._client.get(`/fine_tuning/jobs/${s}`,o)}list(s={},o){return isRequestOptions(s)?this.list({},s):this._client.getAPIList("/fine_tuning/jobs",FineTuningJobsPage,{query:s,...o})}cancel(s,o){return this._client.post(`/fine_tuning/jobs/${s}/cancel`,o)}listEvents(s,o={},a){return isRequestOptions(o)?this.listEvents(s,{},o):this._client.getAPIList(`/fine_tuning/jobs/${s}/events`,FineTuningJobEventsPage,{query:o,...a})}}class FineTuningJobsPage extends CursorPage{}class FineTuningJobEventsPage extends CursorPage{}Jobs.FineTuningJobsPage=FineTuningJobsPage;Jobs.FineTuningJobEventsPage=FineTuningJobEventsPage;Jobs.Checkpoints=Checkpoints;Jobs.FineTuningJobCheckpointsPage=FineTuningJobCheckpointsPage;class FineTuning extends APIResource{constructor(){super(...arguments),this.jobs=new Jobs(this._client),this.checkpoints=new Checkpoints$1(this._client)}}FineTuning.Jobs=Jobs;FineTuning.FineTuningJobsPage=FineTuningJobsPage;FineTuning.FineTuningJobEventsPage=FineTuningJobEventsPage;FineTuning.Checkpoints=Checkpoints$1;class Images extends APIResource{createVariation(s,o){return this._client.post("/images/variations",multipartFormRequestOptions({body:s,...o}))}edit(s,o){return this._client.post("/images/edits",multipartFormRequestOptions({body:s,...o}))}generate(s,o){return this._client.post("/images/generations",{body:s,...o})}}class Models extends APIResource{retrieve(s,o){return this._client.get(`/models/${s}`,o)}list(s){return this._client.getAPIList("/models",ModelsPage,s)}del(s,o){return this._client.delete(`/models/${s}`,o)}}class ModelsPage extends Page{}Models.ModelsPage=ModelsPage;class Moderations extends APIResource{create(s,o){return this._client.post("/moderations",{body:s,...o})}}function maybeParseResponse(i,s){return!s||!hasAutoParseableInput(s)?{...i,output_parsed:null,output:i.output.map(o=>o.type==="function_call"?{...o,parsed_arguments:null}:o.type==="message"?{...o,content:o.content.map(a=>({...a,parsed:null}))}:o)}:parseResponse(i,s)}function parseResponse(i,s){const o=i.output.map(c=>{if(c.type==="function_call")return{...c,parsed_arguments:parseToolCall(s,c)};if(c.type==="message"){const d=c.content.map(h=>h.type==="output_text"?{...h,parsed:parseTextFormat(s,h.text)}:h);return{...c,content:d}}return c}),a=Object.assign({},i,{output:o});return Object.getOwnPropertyDescriptor(i,"output_text")||addOutputText(a),Object.defineProperty(a,"output_parsed",{enumerable:!0,get(){for(const c of a.output)if(c.type==="message"){for(const d of c.content)if(d.type==="output_text"&&d.parsed!==null)return d.parsed}return null}}),a}function parseTextFormat(i,s){var o,a,c,d;return((a=(o=i.text)==null?void 0:o.format)==null?void 0:a.type)!=="json_schema"?null:"$parseRaw"in((c=i.text)==null?void 0:c.format)?((d=i.text)==null?void 0:d.format).$parseRaw(s):JSON.parse(s)}function hasAutoParseableInput(i){var s;return!!isAutoParsableResponseFormat((s=i.text)==null?void 0:s.format)}function isAutoParsableTool(i){return(i==null?void 0:i.$brand)==="auto-parseable-tool"}function getInputToolByName(i,s){return i.find(o=>o.type==="function"&&o.name===s)}function parseToolCall(i,s){const o=getInputToolByName(i.tools??[],s.name);return{...s,...s,parsed_arguments:isAutoParsableTool(o)?o.$parseRaw(s.arguments):o!=null&&o.strict?JSON.parse(s.arguments):null}}function addOutputText(i){const s=[];for(const o of i.output)if(o.type==="message")for(const a of o.content)a.type==="output_text"&&s.push(a.text);i.output_text=s.join("")}class InputItems extends APIResource{list(s,o={},a){return isRequestOptions(o)?this.list(s,{},o):this._client.getAPIList(`/responses/${s}/input_items`,ResponseItemsPage,{query:o,...a})}}var __classPrivateFieldSet=function(i,s,o,a,c){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?i!==s||!c:!s.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?c.call(i,o):c?c.value=o:s.set(i,o),o},__classPrivateFieldGet=function(i,s,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?i!==s||!a:!s.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(i):a?a.value:s.get(i)},_ResponseStream_instances,_ResponseStream_params,_ResponseStream_currentResponseSnapshot,_ResponseStream_finalResponse,_ResponseStream_beginRequest,_ResponseStream_addEvent,_ResponseStream_endRequest,_ResponseStream_accumulateResponse;class ResponseStream extends EventStream{constructor(s){super(),_ResponseStream_instances.add(this),_ResponseStream_params.set(this,void 0),_ResponseStream_currentResponseSnapshot.set(this,void 0),_ResponseStream_finalResponse.set(this,void 0),__classPrivateFieldSet(this,_ResponseStream_params,s,"f")}static createResponse(s,o,a){const c=new ResponseStream(o);return c._run(()=>c._createResponse(s,o,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),c}async _createResponse(s,o,a){var h;const c=a==null?void 0:a.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet(this,_ResponseStream_instances,"m",_ResponseStream_beginRequest).call(this);const d=await s.responses.create({...o,stream:!0},{...a,signal:this.controller.signal});this._connected();for await(const g of d)__classPrivateFieldGet(this,_ResponseStream_instances,"m",_ResponseStream_addEvent).call(this,g);if((h=d.controller.signal)!=null&&h.aborted)throw new APIUserAbortError;return __classPrivateFieldGet(this,_ResponseStream_instances,"m",_ResponseStream_endRequest).call(this)}[(_ResponseStream_params=new WeakMap,_ResponseStream_currentResponseSnapshot=new WeakMap,_ResponseStream_finalResponse=new WeakMap,_ResponseStream_instances=new WeakSet,_ResponseStream_beginRequest=function(){this.ended||__classPrivateFieldSet(this,_ResponseStream_currentResponseSnapshot,void 0,"f")},_ResponseStream_addEvent=function(o){if(this.ended)return;const a=__classPrivateFieldGet(this,_ResponseStream_instances,"m",_ResponseStream_accumulateResponse).call(this,o);switch(this._emit("event",o),o.type){case"response.output_text.delta":{const c=a.output[o.output_index];if(!c)throw new OpenAIError(`missing output at index ${o.output_index}`);if(c.type==="message"){const d=c.content[o.content_index];if(!d)throw new OpenAIError(`missing content at index ${o.content_index}`);if(d.type!=="output_text")throw new OpenAIError(`expected content to be 'output_text', got ${d.type}`);this._emit("response.output_text.delta",{...o,snapshot:d.text})}break}case"response.function_call_arguments.delta":{const c=a.output[o.output_index];if(!c)throw new OpenAIError(`missing output at index ${o.output_index}`);c.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...o,snapshot:c.arguments});break}default:this._emit(o.type,o);break}},_ResponseStream_endRequest=function(){if(this.ended)throw new OpenAIError("stream has ended, this shouldn't happen");const o=__classPrivateFieldGet(this,_ResponseStream_currentResponseSnapshot,"f");if(!o)throw new OpenAIError("request ended without sending any events");__classPrivateFieldSet(this,_ResponseStream_currentResponseSnapshot,void 0,"f");const a=finalizeResponse(o,__classPrivateFieldGet(this,_ResponseStream_params,"f"));return __classPrivateFieldSet(this,_ResponseStream_finalResponse,a,"f"),a},_ResponseStream_accumulateResponse=function(o){let a=__classPrivateFieldGet(this,_ResponseStream_currentResponseSnapshot,"f");if(!a){if(o.type!=="response.created")throw new OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${o.type}`);return a=__classPrivateFieldSet(this,_ResponseStream_currentResponseSnapshot,o.response,"f"),a}switch(o.type){case"response.output_item.added":{a.output.push(o.item);break}case"response.content_part.added":{const c=a.output[o.output_index];if(!c)throw new OpenAIError(`missing output at index ${o.output_index}`);c.type==="message"&&c.content.push(o.part);break}case"response.output_text.delta":{const c=a.output[o.output_index];if(!c)throw new OpenAIError(`missing output at index ${o.output_index}`);if(c.type==="message"){const d=c.content[o.content_index];if(!d)throw new OpenAIError(`missing content at index ${o.content_index}`);if(d.type!=="output_text")throw new OpenAIError(`expected content to be 'output_text', got ${d.type}`);d.text+=o.delta}break}case"response.function_call_arguments.delta":{const c=a.output[o.output_index];if(!c)throw new OpenAIError(`missing output at index ${o.output_index}`);c.type==="function_call"&&(c.arguments+=o.delta);break}case"response.completed":{__classPrivateFieldSet(this,_ResponseStream_currentResponseSnapshot,o.response,"f");break}}return a},Symbol.asyncIterator)](){const s=[],o=[];let a=!1;return this.on("event",c=>{const d=o.shift();d?d.resolve(c):s.push(c)}),this.on("end",()=>{a=!0;for(const c of o)c.resolve(void 0);o.length=0}),this.on("abort",c=>{a=!0;for(const d of o)d.reject(c);o.length=0}),this.on("error",c=>{a=!0;for(const d of o)d.reject(c);o.length=0}),{next:async()=>s.length?{value:s.shift(),done:!1}:a?{value:void 0,done:!0}:new Promise((d,h)=>o.push({resolve:d,reject:h})).then(d=>d?{value:d,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const s=__classPrivateFieldGet(this,_ResponseStream_finalResponse,"f");if(!s)throw new OpenAIError("stream ended without producing a ChatCompletion");return s}}function finalizeResponse(i,s){return maybeParseResponse(i,s)}class Responses extends APIResource{constructor(){super(...arguments),this.inputItems=new InputItems(this._client)}create(s,o){return this._client.post("/responses",{body:s,...o,stream:s.stream??!1})._thenUnwrap(a=>("object"in a&&a.object==="response"&&addOutputText(a),a))}retrieve(s,o={},a){return isRequestOptions(o)?this.retrieve(s,{},o):this._client.get(`/responses/${s}`,{query:o,...a})}del(s,o){return this._client.delete(`/responses/${s}`,{...o,headers:{Accept:"*/*",...o==null?void 0:o.headers}})}parse(s,o){return this._client.responses.create(s,o)._thenUnwrap(a=>parseResponse(a,s))}stream(s,o){return ResponseStream.createResponse(this._client,s,o)}}class ResponseItemsPage extends CursorPage{}Responses.InputItems=InputItems;class Parts extends APIResource{create(s,o,a){return this._client.post(`/uploads/${s}/parts`,multipartFormRequestOptions({body:o,...a}))}}class Uploads extends APIResource{constructor(){super(...arguments),this.parts=new Parts(this._client)}create(s,o){return this._client.post("/uploads",{body:s,...o})}cancel(s,o){return this._client.post(`/uploads/${s}/cancel`,o)}complete(s,o,a){return this._client.post(`/uploads/${s}/complete`,{body:o,...a})}}Uploads.Parts=Parts;const allSettledWithThrow=async i=>{const s=await Promise.allSettled(i),o=s.filter(c=>c.status==="rejected");if(o.length){for(const c of o)console.error(c.reason);throw new Error(`${o.length} promise(s) failed - see the above errors`)}const a=[];for(const c of s)c.status==="fulfilled"&&a.push(c.value);return a};class Files extends APIResource{create(s,o,a){return this._client.post(`/vector_stores/${s}/files`,{body:o,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(s,o,a){return this._client.get(`/vector_stores/${s}/files/${o}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(s,o,a,c){return this._client.post(`/vector_stores/${s}/files/${o}`,{body:a,...c,headers:{"OpenAI-Beta":"assistants=v2",...c==null?void 0:c.headers}})}list(s,o={},a){return isRequestOptions(o)?this.list(s,{},o):this._client.getAPIList(`/vector_stores/${s}/files`,VectorStoreFilesPage,{query:o,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}del(s,o,a){return this._client.delete(`/vector_stores/${s}/files/${o}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}async createAndPoll(s,o,a){const c=await this.create(s,o,a);return await this.poll(s,c.id,a)}async poll(s,o,a){const c={...a==null?void 0:a.headers,"X-Stainless-Poll-Helper":"true"};for(a!=null&&a.pollIntervalMs&&(c["X-Stainless-Custom-Poll-Interval"]=a.pollIntervalMs.toString());;){const d=await this.retrieve(s,o,{...a,headers:c}).withResponse(),h=d.data;switch(h.status){case"in_progress":let g=5e3;if(a!=null&&a.pollIntervalMs)g=a.pollIntervalMs;else{const _=d.response.headers.get("openai-poll-after-ms");if(_){const b=parseInt(_);isNaN(b)||(g=b)}}await sleep(g);break;case"failed":case"completed":return h}}}async upload(s,o,a){const c=await this._client.files.create({file:o,purpose:"assistants"},a);return this.create(s,{file_id:c.id},a)}async uploadAndPoll(s,o,a){const c=await this.upload(s,o,a);return await this.poll(s,c.id,a)}content(s,o,a){return this._client.getAPIList(`/vector_stores/${s}/files/${o}/content`,FileContentResponsesPage,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class VectorStoreFilesPage extends CursorPage{}class FileContentResponsesPage extends Page{}Files.VectorStoreFilesPage=VectorStoreFilesPage;Files.FileContentResponsesPage=FileContentResponsesPage;class FileBatches extends APIResource{create(s,o,a){return this._client.post(`/vector_stores/${s}/file_batches`,{body:o,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(s,o,a){return this._client.get(`/vector_stores/${s}/file_batches/${o}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}cancel(s,o,a){return this._client.post(`/vector_stores/${s}/file_batches/${o}/cancel`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}async createAndPoll(s,o,a){const c=await this.create(s,o);return await this.poll(s,c.id,a)}listFiles(s,o,a={},c){return isRequestOptions(a)?this.listFiles(s,o,{},a):this._client.getAPIList(`/vector_stores/${s}/file_batches/${o}/files`,VectorStoreFilesPage,{query:a,...c,headers:{"OpenAI-Beta":"assistants=v2",...c==null?void 0:c.headers}})}async poll(s,o,a){const c={...a==null?void 0:a.headers,"X-Stainless-Poll-Helper":"true"};for(a!=null&&a.pollIntervalMs&&(c["X-Stainless-Custom-Poll-Interval"]=a.pollIntervalMs.toString());;){const{data:d,response:h}=await this.retrieve(s,o,{...a,headers:c}).withResponse();switch(d.status){case"in_progress":let g=5e3;if(a!=null&&a.pollIntervalMs)g=a.pollIntervalMs;else{const _=h.headers.get("openai-poll-after-ms");if(_){const b=parseInt(_);isNaN(b)||(g=b)}}await sleep(g);break;case"failed":case"cancelled":case"completed":return d}}}async uploadAndPoll(s,{files:o,fileIds:a=[]},c){if(o==null||o.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const d=(c==null?void 0:c.maxConcurrency)??5,h=Math.min(d,o.length),g=this._client,_=o.values(),b=[...a];async function $(_e){for(let tt of _e){const it=await g.files.create({file:tt,purpose:"assistants"},c);b.push(it.id)}}const et=Array(h).fill(_).map($);return await allSettledWithThrow(et),await this.createAndPoll(s,{file_ids:b})}}class VectorStores extends APIResource{constructor(){super(...arguments),this.files=new Files(this._client),this.fileBatches=new FileBatches(this._client)}create(s,o){return this._client.post("/vector_stores",{body:s,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(s,o){return this._client.get(`/vector_stores/${s}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}update(s,o,a){return this._client.post(`/vector_stores/${s}`,{body:o,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(s={},o){return isRequestOptions(s)?this.list({},s):this._client.getAPIList("/vector_stores",VectorStoresPage,{query:s,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}del(s,o){return this._client.delete(`/vector_stores/${s}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}search(s,o,a){return this._client.getAPIList(`/vector_stores/${s}/search`,VectorStoreSearchResponsesPage,{body:o,method:"post",...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class VectorStoresPage extends CursorPage{}class VectorStoreSearchResponsesPage extends Page{}VectorStores.VectorStoresPage=VectorStoresPage;VectorStores.VectorStoreSearchResponsesPage=VectorStoreSearchResponsesPage;VectorStores.Files=Files;VectorStores.VectorStoreFilesPage=VectorStoreFilesPage;VectorStores.FileContentResponsesPage=FileContentResponsesPage;VectorStores.FileBatches=FileBatches;var _a;class OpenAI extends APIClient{constructor({baseURL:s=readEnv("OPENAI_BASE_URL"),apiKey:o=readEnv("OPENAI_API_KEY"),organization:a=readEnv("OPENAI_ORG_ID")??null,project:c=readEnv("OPENAI_PROJECT_ID")??null,...d}={}){if(o===void 0)throw new OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const h={apiKey:o,organization:a,project:c,...d,baseURL:s||"https://api.openai.com/v1"};if(!h.dangerouslyAllowBrowser&&isRunningInBrowser())throw new OpenAIError(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:h.baseURL,timeout:h.timeout??6e5,httpAgent:h.httpAgent,maxRetries:h.maxRetries,fetch:h.fetch}),this.completions=new Completions(this),this.chat=new Chat$2(this),this.embeddings=new Embeddings(this),this.files=new Files$1(this),this.images=new Images(this),this.audio=new Audio(this),this.moderations=new Moderations(this),this.models=new Models(this),this.fineTuning=new FineTuning(this),this.vectorStores=new VectorStores(this),this.beta=new Beta(this),this.batches=new Batches(this),this.uploads=new Uploads(this),this.responses=new Responses(this),this.evals=new Evals(this),this._options=h,this.apiKey=o,this.organization=a,this.project=c}defaultQuery(){return this._options.defaultQuery}defaultHeaders(s){return{...super.defaultHeaders(s),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(s){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(s){return stringify$2(s,{arrayFormat:"brackets"})}}_a=OpenAI;OpenAI.OpenAI=_a;OpenAI.DEFAULT_TIMEOUT=6e5;OpenAI.OpenAIError=OpenAIError;OpenAI.APIError=APIError;OpenAI.APIConnectionError=APIConnectionError;OpenAI.APIConnectionTimeoutError=APIConnectionTimeoutError;OpenAI.APIUserAbortError=APIUserAbortError;OpenAI.NotFoundError=NotFoundError;OpenAI.ConflictError=ConflictError;OpenAI.RateLimitError=RateLimitError;OpenAI.BadRequestError=BadRequestError;OpenAI.AuthenticationError=AuthenticationError;OpenAI.InternalServerError=InternalServerError;OpenAI.PermissionDeniedError=PermissionDeniedError;OpenAI.UnprocessableEntityError=UnprocessableEntityError;OpenAI.toFile=toFile;OpenAI.fileFromPath=fileFromPath;OpenAI.Completions=Completions;OpenAI.Chat=Chat$2;OpenAI.ChatCompletionsPage=ChatCompletionsPage;OpenAI.Embeddings=Embeddings;OpenAI.Files=Files$1;OpenAI.FileObjectsPage=FileObjectsPage;OpenAI.Images=Images;OpenAI.Audio=Audio;OpenAI.Moderations=Moderations;OpenAI.Models=Models;OpenAI.ModelsPage=ModelsPage;OpenAI.FineTuning=FineTuning;OpenAI.VectorStores=VectorStores;OpenAI.VectorStoresPage=VectorStoresPage;OpenAI.VectorStoreSearchResponsesPage=VectorStoreSearchResponsesPage;OpenAI.Beta=Beta;OpenAI.Batches=Batches;OpenAI.BatchesPage=BatchesPage;OpenAI.Uploads=Uploads;OpenAI.Responses=Responses;OpenAI.Evals=Evals;OpenAI.EvalListResponsesPage=EvalListResponsesPage;const openai=new OpenAI({baseURL:"https://openrouter.ai/api/v1",apiKey:void 0,defaultHeaders:{"HTTP-Referer":void 0,"X-Title":void 0},dangerouslyAllowBrowser:!0}),detectTone=async i=>{var a,c,d,h;const s=`
Classify the tone of this user message strictly into one of the following categories:
- "greeting" (e.g., "hey", "how are you", "hello")
- "goodbye" (e.g., "bye", "see you later", "goodnight")
- "thanks" (e.g., "thanks", "thank you", "appreciate it")
- "casual" (e.g., "what's up?", "how's it going?")
- "topic" (asking about a subject, e.g., "What is blockchain?")

Only reply with one of these labels: greeting, goodbye, thanks, casual, topic

Message: "${i}"
Answer:
  `;return(h=(d=(c=(a=(await openai.chat.completions.create({model:"meta-llama/llama-4-maverick:free",messages:[{role:"user",content:s}],temperature:.7})).choices)==null?void 0:a[0])==null?void 0:c.message)==null?void 0:d.content)==null?void 0:h.trim().toLowerCase()},findExternalResources=i=>{const s=encodeURIComponent(i);return{google:`https://www.google.com/search?q=${s}`,youtube:`https://www.youtube.com/results?search_query=${s}`}},generateAnswer=async(i,s,o)=>{var a,c,d;try{if(!i||i.trim()==="")return"Oops! Looks like there's no content to work with.  Please upload a document so I can help you out! ";const h=await detectTone(o);if(h==="greeting")return"Hey there!  I'm doing awesome  just hanging out in the cloud  and ready to assist you. What can I help you with today? ";if(h==="goodbye")return"Bye for now!  Catch you later, and feel free to come back anytime. ";if(h==="thanks")return"You're welcome!  I'm here anytime if you need more info. ";if(h==="casual")return"Haha, I'm all good in the cloud!  What are you looking to explore today? ";if(h==="topic"){const g=`
You're a modern, expert-level assistant with a friendly vibe. You explain complex topics in a way that's easy to understand, while keeping things casual and fun! Your answers should:

- Use **headings** to organize key concepts 
- Include **bullet points** for lists 
- Add **emojis** to keep it engaging 
- Be **descriptive** and easy to digest 

Heres the context from the document:
${i}

And the users question:
${o}

Answer:
      `,b=((d=(c=(a=(await openai.chat.completions.create({model:"meta-llama/llama-4-maverick:free",messages:[{role:"user",content:g}],temperature:.7})).choices)==null?void 0:a[0])==null?void 0:c.message)==null?void 0:d.content)||"Oops! Something went wrong.  Try again!",$=s.length?`

 This info came from page${s.length>1?"s":""} ${s.join(", ")}.`:"",{google:et,youtube:_e}=findExternalResources(o),tt=`
 **External resources**:
- [Google Search](${et})
- [YouTube Videos](${_e})
      `;return`
 **Answer for your question:** 

${b}

${$}

${tt}

 Let me know if you'd like to dive deeper! 
      `}return"Sorry, I didn't quite catch that. Can you rephrase or ask something else? "}catch(h){return console.error("Error fetching answer:",h)," Oops! Something went wrong while processing your question. Try again later. "}};function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(s,o){module.exports=s.pdfjsLib=o()})(globalThis,()=>(()=>{var __webpack_modules__=[,(i,s)=>{var rr;Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=At,s.bytesToString=Sn,s.createValidAbsoluteUrl=rn,s.getModificationDate=vn,s.getUuid=Hn,s.getVerbosityLevel=zt,s.info=sn,s.isArrayBuffer=pn,s.isArrayEqual=un,s.isNodeJS=void 0,s.normalizeUnicode=zn,s.objectFromMap=In,s.objectSize=Tn,s.setVerbosityLevel=nn,s.shadow=kt,s.string32=kn,s.stringToBytes=En,s.stringToPDFString=Pn,s.stringToUTF8String=Fn,s.unreachable=Nt,s.utf8StringToString=Mn,s.warn=en;const o=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=o;const a=[1,0,0,1,0,0];s.IDENTITY_MATRIX=a;const c=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=c;const d=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=d;const h=1.35;s.LINE_FACTOR=h;const g=.35;s.LINE_DESCENT_FACTOR=g;const _=g/h;s.BASELINE_FACTOR=_;const b={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=b;const $={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=$;const et="pdfjs_internal_editor_";s.AnnotationEditorPrefix=et;const _e={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=_e;const tt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=tt;const it={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=it;const st={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=st;const lt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=lt;const nt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=nt;const rt={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=rt;const pt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=pt;const gt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=gt;const ht={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=ht;const dt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=dt;const mt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=mt;const yt={O:"PageOpen",C:"PageClose"};s.PageActionEventType=yt;const xt={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=xt;const Et={NONE:0,BINARY:1};s.CMapCompressionType=Et;const vt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=vt;const St={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=St;let Rt=xt.WARNINGS;function nn(Rn){Number.isInteger(Rn)&&(Rt=Rn)}function zt(){return Rt}function sn(Rn){Rt>=xt.INFOS&&console.log(`Info: ${Rn}`)}function en(Rn){Rt>=xt.WARNINGS&&console.log(`Warning: ${Rn}`)}function Nt(Rn){throw new Error(Rn)}function At(Rn,mn){Rn||Nt(mn)}function wt(Rn){switch(Rn==null?void 0:Rn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function rn(Rn,mn=null,bn=null){if(!Rn)return null;try{if(bn&&typeof Rn=="string"){if(bn.addDefaultProtocol&&Rn.startsWith("www.")){const Qn=Rn.match(/\./g);(Qn==null?void 0:Qn.length)>=2&&(Rn=`http://${Rn}`)}if(bn.tryConvertEncoding)try{Rn=Fn(Rn)}catch{}}const Ln=mn?new URL(Rn,mn):new URL(Rn);if(wt(Ln))return Ln}catch{}return null}function kt(Rn,mn,bn,Ln=!1){return Object.defineProperty(Rn,mn,{value:bn,enumerable:!Ln,configurable:!0,writable:!1}),bn}const ot=function(){function mn(bn,Ln){this.constructor===mn&&Nt("Cannot initialize BaseException."),this.message=bn,this.name=Ln}return mn.prototype=new Error,mn.constructor=mn,mn}();s.BaseException=ot;class bt extends ot{constructor(mn,bn){super(mn,"PasswordException"),this.code=bn}}s.PasswordException=bt;class Pt extends ot{constructor(mn,bn){super(mn,"UnknownErrorException"),this.details=bn}}s.UnknownErrorException=Pt;class Mt extends ot{constructor(mn){super(mn,"InvalidPDFException")}}s.InvalidPDFException=Mt;class jt extends ot{constructor(mn){super(mn,"MissingPDFException")}}s.MissingPDFException=jt;class Bt extends ot{constructor(mn,bn){super(mn,"UnexpectedResponseException"),this.status=bn}}s.UnexpectedResponseException=Bt;class on extends ot{constructor(mn){super(mn,"FormatError")}}s.FormatError=on;class yn extends ot{constructor(mn){super(mn,"AbortException")}}s.AbortException=yn;function Sn(Rn){(typeof Rn!="object"||(Rn==null?void 0:Rn.length)===void 0)&&Nt("Invalid argument for bytesToString");const mn=Rn.length,bn=8192;if(mn<bn)return String.fromCharCode.apply(null,Rn);const Ln=[];for(let Qn=0;Qn<mn;Qn+=bn){const Yn=Math.min(Qn+bn,mn),tn=Rn.subarray(Qn,Yn);Ln.push(String.fromCharCode.apply(null,tn))}return Ln.join("")}function En(Rn){typeof Rn!="string"&&Nt("Invalid argument for stringToBytes");const mn=Rn.length,bn=new Uint8Array(mn);for(let Ln=0;Ln<mn;++Ln)bn[Ln]=Rn.charCodeAt(Ln)&255;return bn}function kn(Rn){return String.fromCharCode(Rn>>24&255,Rn>>16&255,Rn>>8&255,Rn&255)}function Tn(Rn){return Object.keys(Rn).length}function In(Rn){const mn=Object.create(null);for(const[bn,Ln]of Rn)mn[bn]=Ln;return mn}function gn(){const Rn=new Uint8Array(4);return Rn[0]=1,new Uint32Array(Rn.buffer,0,1)[0]===1}function xn(){try{return new Function(""),!0}catch{return!1}}class Tt{static get isLittleEndian(){return kt(this,"isLittleEndian",gn())}static get isEvalSupported(){return kt(this,"isEvalSupported",xn())}static get isOffscreenCanvasSupported(){return kt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?kt(this,"platform",{isWin:!1,isMac:!1}):kt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var mn,bn;return kt(this,"isCSSRoundSupported",(bn=(mn=globalThis.CSS)==null?void 0:mn.supports)==null?void 0:bn.call(mn,"width: round(1.5px, 1px)"))}}s.FeatureTest=Tt;const Yt=[...Array(256).keys()].map(Rn=>Rn.toString(16).padStart(2,"0"));class hn{static makeHexColor(mn,bn,Ln){return`#${Yt[mn]}${Yt[bn]}${Yt[Ln]}`}static scaleMinMax(mn,bn){let Ln;mn[0]?(mn[0]<0&&(Ln=bn[0],bn[0]=bn[1],bn[1]=Ln),bn[0]*=mn[0],bn[1]*=mn[0],mn[3]<0&&(Ln=bn[2],bn[2]=bn[3],bn[3]=Ln),bn[2]*=mn[3],bn[3]*=mn[3]):(Ln=bn[0],bn[0]=bn[2],bn[2]=Ln,Ln=bn[1],bn[1]=bn[3],bn[3]=Ln,mn[1]<0&&(Ln=bn[2],bn[2]=bn[3],bn[3]=Ln),bn[2]*=mn[1],bn[3]*=mn[1],mn[2]<0&&(Ln=bn[0],bn[0]=bn[1],bn[1]=Ln),bn[0]*=mn[2],bn[1]*=mn[2]),bn[0]+=mn[4],bn[1]+=mn[4],bn[2]+=mn[5],bn[3]+=mn[5]}static transform(mn,bn){return[mn[0]*bn[0]+mn[2]*bn[1],mn[1]*bn[0]+mn[3]*bn[1],mn[0]*bn[2]+mn[2]*bn[3],mn[1]*bn[2]+mn[3]*bn[3],mn[0]*bn[4]+mn[2]*bn[5]+mn[4],mn[1]*bn[4]+mn[3]*bn[5]+mn[5]]}static applyTransform(mn,bn){const Ln=mn[0]*bn[0]+mn[1]*bn[2]+bn[4],Qn=mn[0]*bn[1]+mn[1]*bn[3]+bn[5];return[Ln,Qn]}static applyInverseTransform(mn,bn){const Ln=bn[0]*bn[3]-bn[1]*bn[2],Qn=(mn[0]*bn[3]-mn[1]*bn[2]+bn[2]*bn[5]-bn[4]*bn[3])/Ln,Yn=(-mn[0]*bn[1]+mn[1]*bn[0]+bn[4]*bn[1]-bn[5]*bn[0])/Ln;return[Qn,Yn]}static getAxialAlignedBoundingBox(mn,bn){const Ln=this.applyTransform(mn,bn),Qn=this.applyTransform(mn.slice(2,4),bn),Yn=this.applyTransform([mn[0],mn[3]],bn),tn=this.applyTransform([mn[2],mn[1]],bn);return[Math.min(Ln[0],Qn[0],Yn[0],tn[0]),Math.min(Ln[1],Qn[1],Yn[1],tn[1]),Math.max(Ln[0],Qn[0],Yn[0],tn[0]),Math.max(Ln[1],Qn[1],Yn[1],tn[1])]}static inverseTransform(mn){const bn=mn[0]*mn[3]-mn[1]*mn[2];return[mn[3]/bn,-mn[1]/bn,-mn[2]/bn,mn[0]/bn,(mn[2]*mn[5]-mn[4]*mn[3])/bn,(mn[4]*mn[1]-mn[5]*mn[0])/bn]}static singularValueDecompose2dScale(mn){const bn=[mn[0],mn[2],mn[1],mn[3]],Ln=mn[0]*bn[0]+mn[1]*bn[2],Qn=mn[0]*bn[1]+mn[1]*bn[3],Yn=mn[2]*bn[0]+mn[3]*bn[2],tn=mn[2]*bn[1]+mn[3]*bn[3],An=(Ln+tn)/2,Dn=Math.sqrt((Ln+tn)**2-4*(Ln*tn-Yn*Qn))/2,Vn=An+Dn||1,Jn=An-Dn||1;return[Math.sqrt(Vn),Math.sqrt(Jn)]}static normalizeRect(mn){const bn=mn.slice(0);return mn[0]>mn[2]&&(bn[0]=mn[2],bn[2]=mn[0]),mn[1]>mn[3]&&(bn[1]=mn[3],bn[3]=mn[1]),bn}static intersect(mn,bn){const Ln=Math.max(Math.min(mn[0],mn[2]),Math.min(bn[0],bn[2])),Qn=Math.min(Math.max(mn[0],mn[2]),Math.max(bn[0],bn[2]));if(Ln>Qn)return null;const Yn=Math.max(Math.min(mn[1],mn[3]),Math.min(bn[1],bn[3])),tn=Math.min(Math.max(mn[1],mn[3]),Math.max(bn[1],bn[3]));return Yn>tn?null:[Ln,Yn,Qn,tn]}static bezierBoundingBox(mn,bn,Ln,Qn,Yn,tn,An,Dn){const Vn=[],Jn=[[],[]];let Un,Jt,Lt,ln,wn,Cn,On,Nn;for(let tr=0;tr<2;++tr){if(tr===0?(Jt=6*mn-12*Ln+6*Yn,Un=-3*mn+9*Ln-9*Yn+3*An,Lt=3*Ln-3*mn):(Jt=6*bn-12*Qn+6*tn,Un=-3*bn+9*Qn-9*tn+3*Dn,Lt=3*Qn-3*bn),Math.abs(Un)<1e-12){if(Math.abs(Jt)<1e-12)continue;ln=-Lt/Jt,0<ln&&ln<1&&Vn.push(ln);continue}On=Jt*Jt-4*Lt*Un,Nn=Math.sqrt(On),!(On<0)&&(wn=(-Jt+Nn)/(2*Un),0<wn&&wn<1&&Vn.push(wn),Cn=(-Jt-Nn)/(2*Un),0<Cn&&Cn<1&&Vn.push(Cn))}let qn=Vn.length,Wn;const Bn=qn;for(;qn--;)ln=Vn[qn],Wn=1-ln,Jn[0][qn]=Wn*Wn*Wn*mn+3*Wn*Wn*ln*Ln+3*Wn*ln*ln*Yn+ln*ln*ln*An,Jn[1][qn]=Wn*Wn*Wn*bn+3*Wn*Wn*ln*Qn+3*Wn*ln*ln*tn+ln*ln*ln*Dn;return Jn[0][Bn]=mn,Jn[1][Bn]=bn,Jn[0][Bn+1]=An,Jn[1][Bn+1]=Dn,Jn[0].length=Jn[1].length=Bn+2,[Math.min(...Jn[0]),Math.min(...Jn[1]),Math.max(...Jn[0]),Math.max(...Jn[1])]}}s.Util=hn;const _n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Pn(Rn){if(Rn[0]>=""){let bn;if(Rn[0]===""&&Rn[1]===""?bn="utf-16be":Rn[0]===""&&Rn[1]===""?bn="utf-16le":Rn[0]===""&&Rn[1]===""&&Rn[2]===""&&(bn="utf-8"),bn)try{const Ln=new TextDecoder(bn,{fatal:!0}),Qn=En(Rn);return Ln.decode(Qn)}catch(Ln){en(`stringToPDFString: "${Ln}".`)}}const mn=[];for(let bn=0,Ln=Rn.length;bn<Ln;bn++){const Qn=_n[Rn.charCodeAt(bn)];mn.push(Qn?String.fromCharCode(Qn):Rn.charAt(bn))}return mn.join("")}function Fn(Rn){return decodeURIComponent(escape(Rn))}function Mn(Rn){return unescape(encodeURIComponent(Rn))}function pn(Rn){return typeof Rn=="object"&&(Rn==null?void 0:Rn.byteLength)!==void 0}function un(Rn,mn){if(Rn.length!==mn.length)return!1;for(let bn=0,Ln=Rn.length;bn<Ln;bn++)if(Rn[bn]!==mn[bn])return!1;return!0}function vn(Rn=new Date){return[Rn.getUTCFullYear().toString(),(Rn.getUTCMonth()+1).toString().padStart(2,"0"),Rn.getUTCDate().toString().padStart(2,"0"),Rn.getUTCHours().toString().padStart(2,"0"),Rn.getUTCMinutes().toString().padStart(2,"0"),Rn.getUTCSeconds().toString().padStart(2,"0")].join("")}class $n{constructor(){fn(this,rr,!1);this.promise=new Promise((mn,bn)=>{this.resolve=Ln=>{dn(this,rr,!0),mn(Ln)},this.reject=Ln=>{dn(this,rr,!0),bn(Ln)}})}get settled(){return at(this,rr)}}rr=new WeakMap,s.PromiseCapability=$n;let jn=null,Xn=null;function zn(Rn){return jn||(jn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Xn=new Map([["","t"]])),Rn.replaceAll(jn,(mn,bn,Ln)=>bn?bn.normalize("NFKC"):Xn.get(Ln))}function Hn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Rn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Rn);else for(let mn=0;mn<32;mn++)Rn[mn]=Math.floor(Math.random()*255);return Sn(Rn)}const er="pdfjs_internal_id_";s.AnnotationPrefix=er},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var i,o,a,c,Nr,is,g,_,b,$,et,_e,tt,it,st,ss,nt,rt,xs,gt,ht;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(mt){if(typeof mt=="string"||mt instanceof URL?mt={url:mt}:(0,_util.isArrayBuffer)(mt)&&(mt={data:mt}),typeof mt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!mt.url&&!mt.data&&!mt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const yt=new PDFDocumentLoadingTask,{docId:xt}=yt,Et=mt.url?getUrlProp(mt.url):null,vt=mt.data?getDataProp(mt.data):null,St=mt.httpHeaders||null,Rt=mt.withCredentials===!0,nn=mt.password??null,zt=mt.range instanceof PDFDataRangeTransport?mt.range:null,sn=Number.isInteger(mt.rangeChunkSize)&&mt.rangeChunkSize>0?mt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let en=mt.worker instanceof PDFWorker?mt.worker:null;const Nt=mt.verbosity,At=typeof mt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(mt.docBaseUrl)?mt.docBaseUrl:null,wt=typeof mt.cMapUrl=="string"?mt.cMapUrl:null,rn=mt.cMapPacked!==!1,kt=mt.CMapReaderFactory||DefaultCMapReaderFactory,ot=typeof mt.standardFontDataUrl=="string"?mt.standardFontDataUrl:null,bt=mt.StandardFontDataFactory||DefaultStandardFontDataFactory,Pt=mt.stopAtErrors!==!0,Mt=Number.isInteger(mt.maxImageSize)&&mt.maxImageSize>-1?mt.maxImageSize:-1,jt=mt.isEvalSupported!==!1,Bt=typeof mt.isOffscreenCanvasSupported=="boolean"?mt.isOffscreenCanvasSupported:!_util.isNodeJS,on=Number.isInteger(mt.canvasMaxAreaInBytes)?mt.canvasMaxAreaInBytes:-1,yn=typeof mt.disableFontFace=="boolean"?mt.disableFontFace:_util.isNodeJS,Sn=mt.fontExtraProperties===!0,En=mt.enableXfa===!0,kn=mt.ownerDocument||globalThis.document,Tn=mt.disableRange===!0,In=mt.disableStream===!0,gn=mt.disableAutoFetch===!0,xn=mt.pdfBug===!0,Tt=zt?zt.length:mt.length??NaN,Yt=typeof mt.useSystemFonts=="boolean"?mt.useSystemFonts:!_util.isNodeJS&&!yn,hn=typeof mt.useWorkerFetch=="boolean"?mt.useWorkerFetch:kt===_display_utils.DOMCMapReaderFactory&&bt===_display_utils.DOMStandardFontDataFactory&&wt&&ot&&(0,_display_utils.isValidFetchUrl)(wt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(ot,document.baseURI),_n=mt.canvasFactory||new DefaultCanvasFactory({ownerDocument:kn}),Pn=mt.filterFactory||new DefaultFilterFactory({docId:xt,ownerDocument:kn}),Fn=null;(0,_util.setVerbosityLevel)(Nt);const Mn={canvasFactory:_n,filterFactory:Pn};if(hn||(Mn.cMapReaderFactory=new kt({baseUrl:wt,isCompressed:rn}),Mn.standardFontDataFactory=new bt({baseUrl:ot})),!en){const vn={verbosity:Nt,port:_worker_options.GlobalWorkerOptions.workerPort};en=vn.port?PDFWorker.fromPort(vn):new PDFWorker(vn),yt._worker=en}const pn={docId:xt,apiVersion:"3.11.174",data:vt,password:nn,disableAutoFetch:gn,rangeChunkSize:sn,length:Tt,docBaseUrl:At,enableXfa:En,evaluatorOptions:{maxImageSize:Mt,disableFontFace:yn,ignoreErrors:Pt,isEvalSupported:jt,isOffscreenCanvasSupported:Bt,canvasMaxAreaInBytes:on,fontExtraProperties:Sn,useSystemFonts:Yt,cMapUrl:hn?wt:null,standardFontDataUrl:hn?ot:null}},un={ignoreErrors:Pt,isEvalSupported:jt,disableFontFace:yn,fontExtraProperties:Sn,enableXfa:En,ownerDocument:kn,disableAutoFetch:gn,pdfBug:xn,styleElement:Fn};return en.promise.then(function(){if(yt.destroyed)throw new Error("Loading aborted");const vn=_fetchDocument(en,pn),$n=new Promise(function(jn){let Xn;zt?Xn=new _transport_stream.PDFDataTransportStream({length:Tt,initialData:zt.initialData,progressiveDone:zt.progressiveDone,contentDispositionFilename:zt.contentDispositionFilename,disableRange:Tn,disableStream:In},zt):vt||(Xn=(Hn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Hn):(0,_display_utils.isValidFetchUrl)(Hn.url)?new _displayFetch_stream.PDFFetchStream(Hn):new _displayNetwork.PDFNetworkStream(Hn))({url:Et,length:Tt,httpHeaders:St,withCredentials:Rt,rangeChunkSize:sn,disableRange:Tn,disableStream:In})),jn(Xn)});return Promise.all([vn,$n]).then(function([jn,Xn]){if(yt.destroyed)throw new Error("Loading aborted");const zn=new _message_handler.MessageHandler(xt,jn,en.port),Hn=new WorkerTransport(zn,yt,Xn,un,Mn);yt._transport=Hn,zn.send("Ready",null)})}).catch(yt._capability.reject),yt}async function _fetchDocument(mt,yt){if(mt.destroyed)throw new Error("Worker was destroyed");const xt=await mt.messageHandler.sendWithPromise("GetDocRequest",yt,yt.data?[yt.data.buffer]:null);if(mt.destroyed)throw new Error("Worker was destroyed");return xt}function getUrlProp(mt){if(mt instanceof URL)return mt.href;try{return new URL(mt,window.location).href}catch{if(_util.isNodeJS&&typeof mt=="string")return mt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(mt){if(_util.isNodeJS&&typeof Buffer<"u"&&mt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(mt instanceof Uint8Array&&mt.byteLength===mt.buffer.byteLength)return mt;if(typeof mt=="string")return(0,_util.stringToBytes)(mt);if(typeof mt=="object"&&!isNaN(mt==null?void 0:mt.length)||(0,_util.isArrayBuffer)(mt))return new Uint8Array(mt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const s=class s{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Er(s,i)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var yt,xt,Et;this.destroyed=!0;try{(yt=this._worker)!=null&&yt.port&&(this._worker._pendingDestroy=!0),await((xt=this._transport)==null?void 0:xt.destroy())}catch(vt){throw(Et=this._worker)!=null&&Et.port&&delete this._worker._pendingDestroy,vt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};i=new WeakMap,fn(s,i,0);let PDFDocumentLoadingTask=s;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(yt,xt,Et=!1,vt=null){this.length=yt,this.initialData=xt,this.progressiveDone=Et,this.contentDispositionFilename=vt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(yt){this._rangeListeners.push(yt)}addProgressListener(yt){this._progressListeners.push(yt)}addProgressiveReadListener(yt){this._progressiveReadListeners.push(yt)}addProgressiveDoneListener(yt){this._progressiveDoneListeners.push(yt)}onDataRange(yt,xt){for(const Et of this._rangeListeners)Et(yt,xt)}onDataProgress(yt,xt){this._readyCapability.promise.then(()=>{for(const Et of this._progressListeners)Et(yt,xt)})}onDataProgressiveRead(yt){this._readyCapability.promise.then(()=>{for(const xt of this._progressiveReadListeners)xt(yt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const yt of this._progressiveDoneListeners)yt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(yt,xt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(yt,xt){this._pdfInfo=yt,this._transport=xt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Et=>{if(!Et)return Et;const vt=[];for(const St in Et)vt.push(...Et[St]);return vt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(yt){return this._transport.getPage(yt)}getPageIndex(yt){return this._transport.getPageIndex(yt)}getDestinations(){return this._transport.getDestinations()}getDestination(yt){return this._transport.getDestination(yt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(yt=!1){return this._transport.startCleanup(yt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(yt,xt,Et,vt=!1){fn(this,c);fn(this,o,null);fn(this,a,!1);this._pageIndex=yt,this._pageInfo=xt,this._transport=Et,this._stats=vt?new _display_utils.StatTimer:null,this._pdfBug=vt,this.commonObjs=Et.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:yt,rotation:xt=this.rotate,offsetX:Et=0,offsetY:vt=0,dontFlip:St=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:yt,rotation:xt,offsetX:Et,offsetY:vt,dontFlip:St})}getAnnotations({intent:yt="display"}={}){const xt=this._transport.getRenderingIntent(yt);return this._transport.getAnnotations(this._pageIndex,xt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var yt;return((yt=this._transport._htmlForXfa)==null?void 0:yt.children[this._pageIndex])||null}render({canvasContext:yt,viewport:xt,intent:Et="display",annotationMode:vt=_util.AnnotationMode.ENABLE,transform:St=null,background:Rt=null,optionalContentConfigPromise:nn=null,annotationCanvasMap:zt=null,pageColors:sn=null,printAnnotationStorage:en=null}){var bt,Pt;(bt=this._stats)==null||bt.time("Overall");const Nt=this._transport.getRenderingIntent(Et,vt,en);dn(this,a,!1),an(this,c,is).call(this),nn||(nn=this._transport.getOptionalContentConfig());let At=this._intentStates.get(Nt.cacheKey);At||(At=Object.create(null),this._intentStates.set(Nt.cacheKey,At)),At.streamReaderCancelTimeout&&(clearTimeout(At.streamReaderCancelTimeout),At.streamReaderCancelTimeout=null);const wt=!!(Nt.renderingIntent&_util.RenderingIntentFlag.PRINT);At.displayReadyCapability||(At.displayReadyCapability=new _util.PromiseCapability,At.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Pt=this._stats)==null||Pt.time("Page Request"),this._pumpOperatorList(Nt));const rn=Mt=>{var jt,Bt;At.renderTasks.delete(kt),(this._maybeCleanupAfterRender||wt)&&dn(this,a,!0),an(this,c,Nr).call(this,!wt),Mt?(kt.capability.reject(Mt),this._abortOperatorList({intentState:At,reason:Mt instanceof Error?Mt:new Error(Mt)})):kt.capability.resolve(),(jt=this._stats)==null||jt.timeEnd("Rendering"),(Bt=this._stats)==null||Bt.timeEnd("Overall")},kt=new InternalRenderTask({callback:rn,params:{canvasContext:yt,viewport:xt,transform:St,background:Rt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:zt,operatorList:At.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!wt,pdfBug:this._pdfBug,pageColors:sn});(At.renderTasks||(At.renderTasks=new Set)).add(kt);const ot=kt.task;return Promise.all([At.displayReadyCapability.promise,nn]).then(([Mt,jt])=>{var Bt;if(this.destroyed){rn();return}(Bt=this._stats)==null||Bt.time("Rendering"),kt.initializeGraphics({transparency:Mt,optionalContentConfig:jt}),kt.operatorListChanged()}).catch(rn),ot}getOperatorList({intent:yt="display",annotationMode:xt=_util.AnnotationMode.ENABLE,printAnnotationStorage:Et=null}={}){var zt;function vt(){Rt.operatorList.lastChunk&&(Rt.opListReadCapability.resolve(Rt.operatorList),Rt.renderTasks.delete(nn))}const St=this._transport.getRenderingIntent(yt,xt,Et,!0);let Rt=this._intentStates.get(St.cacheKey);Rt||(Rt=Object.create(null),this._intentStates.set(St.cacheKey,Rt));let nn;return Rt.opListReadCapability||(nn=Object.create(null),nn.operatorListChanged=vt,Rt.opListReadCapability=new _util.PromiseCapability,(Rt.renderTasks||(Rt.renderTasks=new Set)).add(nn),Rt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(zt=this._stats)==null||zt.time("Page Request"),this._pumpOperatorList(St)),Rt.opListReadCapability.promise}streamTextContent({includeMarkedContent:yt=!1,disableNormalization:xt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:yt===!0,disableNormalization:xt===!0},{highWaterMark:100,size(vt){return vt.items.length}})}getTextContent(yt={}){if(this._transport._htmlForXfa)return this.getXfa().then(Et=>_xfa_text.XfaText.textContent(Et));const xt=this.streamTextContent(yt);return new Promise(function(Et,vt){function St(){Rt.read().then(function({value:zt,done:sn}){if(sn){Et(nn);return}Object.assign(nn.styles,zt.styles),nn.items.push(...zt.items),St()},vt)}const Rt=xt.getReader(),nn={items:[],styles:Object.create(null)};St()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const yt=[];for(const xt of this._intentStates.values())if(this._abortOperatorList({intentState:xt,reason:new Error("Page was destroyed."),force:!0}),!xt.opListReadCapability)for(const Et of xt.renderTasks)yt.push(Et.completed),Et.cancel();return this.objs.clear(),dn(this,a,!1),an(this,c,is).call(this),Promise.all(yt)}cleanup(yt=!1){dn(this,a,!0);const xt=an(this,c,Nr).call(this,!1);return yt&&xt&&this._stats&&(this._stats=new _display_utils.StatTimer),xt}_startRenderPage(yt,xt){var vt,St;const Et=this._intentStates.get(xt);Et&&((vt=this._stats)==null||vt.timeEnd("Page Request"),(St=Et.displayReadyCapability)==null||St.resolve(yt))}_renderPageChunk(yt,xt){for(let Et=0,vt=yt.length;Et<vt;Et++)xt.operatorList.fnArray.push(yt.fnArray[Et]),xt.operatorList.argsArray.push(yt.argsArray[Et]);xt.operatorList.lastChunk=yt.lastChunk,xt.operatorList.separateAnnots=yt.separateAnnots;for(const Et of xt.renderTasks)Et.operatorListChanged();yt.lastChunk&&an(this,c,Nr).call(this,!0)}_pumpOperatorList({renderingIntent:yt,cacheKey:xt,annotationStorageSerializable:Et}){const{map:vt,transfers:St}=Et,nn=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:yt,cacheKey:xt,annotationStorage:vt},St).getReader(),zt=this._intentStates.get(xt);zt.streamReader=nn;const sn=()=>{nn.read().then(({value:en,done:Nt})=>{if(Nt){zt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(en,zt),sn())},en=>{if(zt.streamReader=null,!this._transport.destroyed){if(zt.operatorList){zt.operatorList.lastChunk=!0;for(const Nt of zt.renderTasks)Nt.operatorListChanged();an(this,c,Nr).call(this,!0)}if(zt.displayReadyCapability)zt.displayReadyCapability.reject(en);else if(zt.opListReadCapability)zt.opListReadCapability.reject(en);else throw en}})};sn()}_abortOperatorList({intentState:yt,reason:xt,force:Et=!1}){if(yt.streamReader){if(yt.streamReaderCancelTimeout&&(clearTimeout(yt.streamReaderCancelTimeout),yt.streamReaderCancelTimeout=null),!Et){if(yt.renderTasks.size>0)return;if(xt instanceof _display_utils.RenderingCancelledException){let vt=RENDERING_CANCELLED_TIMEOUT;xt.extraDelay>0&&xt.extraDelay<1e3&&(vt+=xt.extraDelay),yt.streamReaderCancelTimeout=setTimeout(()=>{yt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:yt,reason:xt,force:!0})},vt);return}}if(yt.streamReader.cancel(new _util.AbortException(xt.message)).catch(()=>{}),yt.streamReader=null,!this._transport.destroyed){for(const[vt,St]of this._intentStates)if(St===yt){this._intentStates.delete(vt);break}this.cleanup()}}}get stats(){return this._stats}}o=new WeakMap,a=new WeakMap,c=new WeakSet,Nr=function(yt=!1){if(an(this,c,is).call(this),!at(this,a)||this.destroyed)return!1;if(yt)return dn(this,o,setTimeout(()=>{dn(this,o,null),an(this,c,Nr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:xt,operatorList:Et}of this._intentStates.values())if(xt.size>0||!Et.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),dn(this,a,!1),!0},is=function(){at(this,o)&&(clearTimeout(at(this,o)),dn(this,o,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){fn(this,g,new Set);fn(this,_,Promise.resolve())}postMessage(yt,xt){const Et={data:structuredClone(yt,xt?{transfer:xt}:null)};at(this,_).then(()=>{for(const vt of at(this,g))vt.call(this,Et)})}addEventListener(yt,xt){at(this,g).add(xt)}removeEventListener(yt,xt){at(this,g).delete(xt)}terminate(){at(this,g).clear()}}g=new WeakMap,_=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const mt=(b=document==null?void 0:document.currentScript)==null?void 0:b.src;mt&&(PDFWorkerUtil.fallbackWorkerSrc=mt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(mt,yt){let xt;try{if(xt=new URL(mt),!xt.origin||xt.origin==="null")return!1}catch{return!1}const Et=new URL(yt,xt);return xt.origin===Et.origin},PDFWorkerUtil.createCDNWrapper=function(mt){const yt=`importScripts("${mt}");`;return URL.createObjectURL(new Blob([yt]))}}const _PDFWorker=class _PDFWorker{constructor({name:mt=null,port:yt=null,verbosity:xt=(0,_util.getVerbosityLevel)()}={}){var Et;if(this.name=mt,this.destroyed=!1,this.verbosity=xt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,yt){if((Et=at(_PDFWorker,$))!=null&&Et.has(yt))throw new Error("Cannot use more than one PDFWorker per port.");(at(_PDFWorker,$)||dn(_PDFWorker,$,new WeakMap)).set(yt,this),this._initializeFromPort(yt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(mt){this._port=mt,this._messageHandler=new _message_handler.MessageHandler("main","worker",mt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:mt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,mt)||(mt=PDFWorkerUtil.createCDNWrapper(new URL(mt,window.location).href));const yt=new Worker(mt),xt=new _message_handler.MessageHandler("main","worker",yt),Et=()=>{yt.removeEventListener("error",vt),xt.destroy(),yt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},vt=()=>{this._webWorker||Et()};yt.addEventListener("error",vt),xt.on("test",Rt=>{if(yt.removeEventListener("error",vt),this.destroyed){Et();return}Rt?(this._messageHandler=xt,this._port=yt,this._webWorker=yt,this._readyCapability.resolve(),xt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),xt.destroy(),yt.terminate())}),xt.on("ready",Rt=>{if(yt.removeEventListener("error",vt),this.destroyed){Et();return}try{St()}catch{this._setupFakeWorker()}});const St=()=>{const Rt=new Uint8Array;xt.send("test",Rt,[Rt.buffer])};St();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(mt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const yt=new LoopbackPort;this._port=yt;const xt=`fake${PDFWorkerUtil.fakeWorkerId++}`,Et=new _message_handler.MessageHandler(xt+"_worker",xt,yt);mt.setup(Et,yt);const vt=new _message_handler.MessageHandler(xt,xt+"_worker",yt);this._messageHandler=vt,this._readyCapability.resolve(),vt.send("configure",{verbosity:this.verbosity})}).catch(mt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${mt.message}".`))})}destroy(){var mt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(mt=at(_PDFWorker,$))==null||mt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(mt){var xt;if(!(mt!=null&&mt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const yt=(xt=at(this,$))==null?void 0:xt.get(mt.port);if(yt){if(yt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return yt}return new _PDFWorker(mt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var mt;try{return((mt=globalThis.pdfjsWorker)==null?void 0:mt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};$=new WeakMap,fn(_PDFWorker,$);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(yt,xt,Et,vt,St){fn(this,st);fn(this,et,new Map);fn(this,_e,new Map);fn(this,tt,new Map);fn(this,it,null);this.messageHandler=yt,this.loadingTask=xt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:vt.ownerDocument,styleElement:vt.styleElement}),this._params=vt,this.canvasFactory=St.canvasFactory,this.filterFactory=St.filterFactory,this.cMapReaderFactory=St.cMapReaderFactory,this.standardFontDataFactory=St.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Et,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(yt,xt=_util.AnnotationMode.ENABLE,Et=null,vt=!1){let St=_util.RenderingIntentFlag.DISPLAY,Rt=_annotation_storage.SerializableEmpty;switch(yt){case"any":St=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":St=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${yt}`)}switch(xt){case _util.AnnotationMode.DISABLE:St+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:St+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:St+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Rt=(St&_util.RenderingIntentFlag.PRINT&&Et instanceof _annotation_storage.PrintAnnotationStorage?Et:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${xt}`)}return vt&&(St+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:St,cacheKey:`${St}_${Rt.hash}`,annotationStorageSerializable:Rt}}destroy(){var Et;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Et=at(this,it))==null||Et.reject(new Error("Worker was destroyed during onPassword callback"));const yt=[];for(const vt of at(this,_e).values())yt.push(vt._destroy());at(this,_e).clear(),at(this,tt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const xt=this.messageHandler.sendWithPromise("Terminate",null);return yt.push(xt),Promise.all(yt).then(()=>{var vt;this.commonObjs.clear(),this.fontLoader.clear(),at(this,et).clear(),this.filterFactory.destroy(),(vt=this._networkStream)==null||vt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:yt,loadingTask:xt}=this;yt.on("GetReader",(Et,vt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=St=>{this._lastProgress={loaded:St.loaded,total:St.total}},vt.onPull=()=>{this._fullReader.read().then(function({value:St,done:Rt}){if(Rt){vt.close();return}(0,_util.assert)(St instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),vt.enqueue(new Uint8Array(St),1,[St])}).catch(St=>{vt.error(St)})},vt.onCancel=St=>{this._fullReader.cancel(St),vt.ready.catch(Rt=>{if(!this.destroyed)throw Rt})}}),yt.on("ReaderHeadersReady",Et=>{const vt=new _util.PromiseCapability,St=this._fullReader;return St.headersReady.then(()=>{var Rt;(!St.isStreamingSupported||!St.isRangeSupported)&&(this._lastProgress&&((Rt=xt.onProgress)==null||Rt.call(xt,this._lastProgress)),St.onProgress=nn=>{var zt;(zt=xt.onProgress)==null||zt.call(xt,{loaded:nn.loaded,total:nn.total})}),vt.resolve({isStreamingSupported:St.isStreamingSupported,isRangeSupported:St.isRangeSupported,contentLength:St.contentLength})},vt.reject),vt.promise}),yt.on("GetRangeReader",(Et,vt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const St=this._networkStream.getRangeReader(Et.begin,Et.end);if(!St){vt.close();return}vt.onPull=()=>{St.read().then(function({value:Rt,done:nn}){if(nn){vt.close();return}(0,_util.assert)(Rt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),vt.enqueue(new Uint8Array(Rt),1,[Rt])}).catch(Rt=>{vt.error(Rt)})},vt.onCancel=Rt=>{St.cancel(Rt),vt.ready.catch(nn=>{if(!this.destroyed)throw nn})}}),yt.on("GetDoc",({pdfInfo:Et})=>{this._numPages=Et.numPages,this._htmlForXfa=Et.htmlForXfa,delete Et.htmlForXfa,xt._capability.resolve(new PDFDocumentProxy(Et,this))}),yt.on("DocException",function(Et){let vt;switch(Et.name){case"PasswordException":vt=new _util.PasswordException(Et.message,Et.code);break;case"InvalidPDFException":vt=new _util.InvalidPDFException(Et.message);break;case"MissingPDFException":vt=new _util.MissingPDFException(Et.message);break;case"UnexpectedResponseException":vt=new _util.UnexpectedResponseException(Et.message,Et.status);break;case"UnknownErrorException":vt=new _util.UnknownErrorException(Et.message,Et.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}xt._capability.reject(vt)}),yt.on("PasswordRequest",Et=>{if(dn(this,it,new _util.PromiseCapability),xt.onPassword){const vt=St=>{St instanceof Error?at(this,it).reject(St):at(this,it).resolve({password:St})};try{xt.onPassword(vt,Et.code)}catch(St){at(this,it).reject(St)}}else at(this,it).reject(new _util.PasswordException(Et.message,Et.code));return at(this,it).promise}),yt.on("DataLoaded",Et=>{var vt;(vt=xt.onProgress)==null||vt.call(xt,{loaded:Et.length,total:Et.length}),this.downloadInfoCapability.resolve(Et)}),yt.on("StartRenderPage",Et=>{if(this.destroyed)return;at(this,_e).get(Et.pageIndex)._startRenderPage(Et.transparency,Et.cacheKey)}),yt.on("commonobj",([Et,vt,St])=>{var Rt;if(!this.destroyed&&!this.commonObjs.has(Et))switch(vt){case"Font":const nn=this._params;if("error"in St){const en=St.error;(0,_util.warn)(`Error during font loading: ${en}`),this.commonObjs.resolve(Et,en);break}const zt=nn.pdfBug&&((Rt=globalThis.FontInspector)!=null&&Rt.enabled)?(en,Nt)=>globalThis.FontInspector.fontAdded(en,Nt):null,sn=new _font_loader.FontFaceObject(St,{isEvalSupported:nn.isEvalSupported,disableFontFace:nn.disableFontFace,ignoreErrors:nn.ignoreErrors,inspectFont:zt});this.fontLoader.bind(sn).catch(en=>yt.sendWithPromise("FontFallback",{id:Et})).finally(()=>{!nn.fontExtraProperties&&sn.data&&(sn.data=null),this.commonObjs.resolve(Et,sn)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Et,St);break;default:throw new Error(`Got unknown common object type ${vt}`)}}),yt.on("obj",([Et,vt,St,Rt])=>{var zt;if(this.destroyed)return;const nn=at(this,_e).get(vt);if(!nn.objs.has(Et))switch(St){case"Image":if(nn.objs.resolve(Et,Rt),Rt){let sn;if(Rt.bitmap){const{width:en,height:Nt}=Rt;sn=en*Nt*4}else sn=((zt=Rt.data)==null?void 0:zt.length)||0;sn>_util.MAX_IMAGE_SIZE_TO_CACHE&&(nn._maybeCleanupAfterRender=!0)}break;case"Pattern":nn.objs.resolve(Et,Rt);break;default:throw new Error(`Got unknown object type ${St}`)}}),yt.on("DocProgress",Et=>{var vt;this.destroyed||(vt=xt.onProgress)==null||vt.call(xt,{loaded:Et.loaded,total:Et.total})}),yt.on("FetchBuiltInCMap",Et=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Et):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),yt.on("FetchStandardFontData",Et=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Et):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Et;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:yt,transfers:xt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:yt,filename:((Et=this._fullReader)==null?void 0:Et.filename)??null},xt).finally(()=>{this.annotationStorage.resetModified()})}getPage(yt){if(!Number.isInteger(yt)||yt<=0||yt>this._numPages)return Promise.reject(new Error("Invalid page request."));const xt=yt-1,Et=at(this,tt).get(xt);if(Et)return Et;const vt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:xt}).then(St=>{if(this.destroyed)throw new Error("Transport destroyed");const Rt=new PDFPageProxy(xt,St,this,this._params.pdfBug);return at(this,_e).set(xt,Rt),Rt});return at(this,tt).set(xt,vt),vt}getPageIndex(yt){return typeof yt!="object"||yt===null||!Number.isInteger(yt.num)||yt.num<0||!Number.isInteger(yt.gen)||yt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:yt.num,gen:yt.gen})}getAnnotations(yt,xt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:yt,intent:xt})}getFieldObjects(){return an(this,st,ss).call(this,"GetFieldObjects")}hasJSActions(){return an(this,st,ss).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(yt){return typeof yt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:yt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return an(this,st,ss).call(this,"GetDocJSActions")}getPageJSActions(yt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:yt})}getStructTree(yt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:yt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(yt=>new _optional_content_config.OptionalContentConfig(yt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const yt="GetMetadata",xt=at(this,et).get(yt);if(xt)return xt;const Et=this.messageHandler.sendWithPromise(yt,null).then(vt=>{var St,Rt;return{info:vt[0],metadata:vt[1]?new _metadata.Metadata(vt[1]):null,contentDispositionFilename:((St=this._fullReader)==null?void 0:St.filename)??null,contentLength:((Rt=this._fullReader)==null?void 0:Rt.contentLength)??null}});return at(this,et).set(yt,Et),Et}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(yt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const xt of at(this,_e).values())if(!xt.cleanup())throw new Error(`startCleanup: Page ${xt.pageNumber} is currently rendering.`);this.commonObjs.clear(),yt||this.fontLoader.clear(),at(this,et).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:yt,enableXfa:xt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:yt,enableXfa:xt})}}et=new WeakMap,_e=new WeakMap,tt=new WeakMap,it=new WeakMap,st=new WeakSet,ss=function(yt,xt=null){const Et=at(this,et).get(yt);if(Et)return Et;const vt=this.messageHandler.sendWithPromise(yt,xt);return at(this,et).set(yt,vt),vt};class PDFObjects{constructor(){fn(this,rt);fn(this,nt,Object.create(null))}get(yt,xt=null){if(xt){const vt=an(this,rt,xs).call(this,yt);return vt.capability.promise.then(()=>xt(vt.data)),null}const Et=at(this,nt)[yt];if(!(Et!=null&&Et.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${yt}.`);return Et.data}has(yt){const xt=at(this,nt)[yt];return(xt==null?void 0:xt.capability.settled)||!1}resolve(yt,xt=null){const Et=an(this,rt,xs).call(this,yt);Et.data=xt,Et.capability.resolve()}clear(){var yt;for(const xt in at(this,nt)){const{data:Et}=at(this,nt)[xt];(yt=Et==null?void 0:Et.bitmap)==null||yt.close()}dn(this,nt,Object.create(null))}}nt=new WeakMap,rt=new WeakSet,xs=function(yt){var xt;return(xt=at(this,nt))[yt]||(xt[yt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(yt){fn(this,gt,null);dn(this,gt,yt),this.onContinue=null}get promise(){return at(this,gt).capability.promise}cancel(yt=0){at(this,gt).cancel(null,yt)}get separateAnnots(){const{separateAnnots:yt}=at(this,gt).operatorList;if(!yt)return!1;const{annotationCanvasMap:xt}=at(this,gt);return yt.form||yt.canvas&&(xt==null?void 0:xt.size)>0}}gt=new WeakMap,exports.RenderTask=RenderTask;const dt=class dt{constructor({callback:yt,params:xt,objs:Et,commonObjs:vt,annotationCanvasMap:St,operatorList:Rt,pageIndex:nn,canvasFactory:zt,filterFactory:sn,useRequestAnimationFrame:en=!1,pdfBug:Nt=!1,pageColors:At=null}){this.callback=yt,this.params=xt,this.objs=Et,this.commonObjs=vt,this.annotationCanvasMap=St,this.operatorListIdx=null,this.operatorList=Rt,this._pageIndex=nn,this.canvasFactory=zt,this.filterFactory=sn,this._pdfBug=Nt,this.pageColors=At,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=en===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=xt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:yt=!1,optionalContentConfig:xt}){var nn,zt;if(this.cancelled)return;if(this._canvas){if(at(dt,ht).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");at(dt,ht).add(this._canvas)}this._pdfBug&&((nn=globalThis.StepperManager)!=null&&nn.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Et,viewport:vt,transform:St,background:Rt}=this.params;this.gfx=new _canvas.CanvasGraphics(Et,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:xt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:St,viewport:vt,transparency:yt,background:Rt}),this.operatorListIdx=0,this.graphicsReady=!0,(zt=this.graphicsReadyCallback)==null||zt.call(this)}cancel(yt=null,xt=0){var Et;this.running=!1,this.cancelled=!0,(Et=this.gfx)==null||Et.endDrawing(),at(dt,ht).delete(this._canvas),this.callback(yt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,xt))}operatorListChanged(){var yt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(yt=this.stepper)==null||yt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),at(dt,ht).delete(this._canvas),this.callback())))}};ht=new WeakMap,fn(dt,ht,new WeakSet);let InternalRenderTask=dt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(i,s,o)=>{var b,$,et,co,tt;Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var a=o(1),c=o(4),d=o(8);const h=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=h;class g{constructor(){fn(this,et);fn(this,b,!1);fn(this,$,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(st,lt){const nt=at(this,$).get(st);return nt===void 0?lt:Object.assign(lt,nt)}getRawValue(st){return at(this,$).get(st)}remove(st){if(at(this,$).delete(st),at(this,$).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const lt of at(this,$).values())if(lt instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(st,lt){const nt=at(this,$).get(st);let rt=!1;if(nt!==void 0)for(const[pt,gt]of Object.entries(lt))nt[pt]!==gt&&(rt=!0,nt[pt]=gt);else rt=!0,at(this,$).set(st,lt);rt&&an(this,et,co).call(this),lt instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(lt.constructor._type)}has(st){return at(this,$).has(st)}getAll(){return at(this,$).size>0?(0,a.objectFromMap)(at(this,$)):null}setAll(st){for(const[lt,nt]of Object.entries(st))this.setValue(lt,nt)}get size(){return at(this,$).size}resetModified(){at(this,b)&&(dn(this,b,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new _(this)}get serializable(){if(at(this,$).size===0)return h;const st=new Map,lt=new d.MurmurHash3_64,nt=[],rt=Object.create(null);let pt=!1;for(const[gt,ht]of at(this,$)){const dt=ht instanceof c.AnnotationEditor?ht.serialize(!1,rt):ht;dt&&(st.set(gt,dt),lt.update(`${gt}:${JSON.stringify(dt)}`),pt||(pt=!!dt.bitmap))}if(pt)for(const gt of st.values())gt.bitmap&&nt.push(gt.bitmap);return st.size>0?{map:st,hash:lt.hexdigest(),transfers:nt}:h}}b=new WeakMap,$=new WeakMap,et=new WeakSet,co=function(){at(this,b)||(dn(this,b,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=g;class _ extends g{constructor(lt){super();fn(this,tt);const{map:nt,hash:rt,transfers:pt}=lt.serializable,gt=structuredClone(nt,pt?{transfer:pt}:null);dn(this,tt,{map:gt,hash:rt,transfers:pt})}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return at(this,tt)}}tt=new WeakMap,s.PrintAnnotationStorage=_},(i,s,o)=>{var _,b,$,et,_e,tt,it,st,lt,nt,rt,pt,gt,ht,dt,_s,bs,xt,ws,Ss,uo,ho,fo,Es,po;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var a=o(5),c=o(1),d=o(6);const en=class en{constructor(At){fn(this,dt);fn(this,_,"");fn(this,b,!1);fn(this,$,null);fn(this,et,null);fn(this,_e,null);fn(this,tt,!1);fn(this,it,null);fn(this,st,this.focusin.bind(this));fn(this,lt,this.focusout.bind(this));fn(this,nt,!1);fn(this,rt,!1);fn(this,pt,!1);or(this,"_initialOptions",Object.create(null));or(this,"_uiManager",null);or(this,"_focusEventsAllowed",!0);or(this,"_l10nPromise",null);fn(this,gt,!1);fn(this,ht,en._zIndex++);this.constructor===en&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=At.parent,this.id=At.id,this.width=this.height=null,this.pageIndex=At.parent.pageIndex,this.name=At.name,this.div=null,this._uiManager=At.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=At.isCentered,this._structTreeParentId=null;const{rotation:wt,rawDims:{pageWidth:rn,pageHeight:kt,pageX:ot,pageY:bt}}=this.parent.viewport;this.rotation=wt,this.pageRotation=(360+wt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[rn,kt],this.pageTranslation=[ot,bt];const[Pt,Mt]=this.parentDimensions;this.x=At.x/Pt,this.y=At.y/Mt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(At){const wt=new g({id:At.parent.getNextId(),parent:At.parent,uiManager:At._uiManager});wt.annotationElementId=At.annotationElementId,wt.deleted=!0,wt._uiManager.addToAnnotationStorage(wt)}static initialize(At,wt=null){if(en._l10nPromise||(en._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(kt=>[kt,At.get(kt)]))),wt!=null&&wt.strings)for(const kt of wt.strings)en._l10nPromise.set(kt,At.get(kt));if(en._borderLineWidth!==-1)return;const rn=getComputedStyle(document.documentElement);en._borderLineWidth=parseFloat(rn.getPropertyValue("--outline-width"))||0}static updateDefaultParams(At,wt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(At){return!1}static paste(At,wt){(0,c.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return at(this,gt)}set _isDraggable(At){var wt;dn(this,gt,At),(wt=this.div)==null||wt.classList.toggle("draggable",At)}center(){const[At,wt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*wt/(At*2),this.y+=this.width*At/(wt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*wt/(At*2),this.y-=this.width*At/(wt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(At){this._uiManager.addCommands(At)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=at(this,ht)}setParent(At){At!==null&&(this.pageIndex=At.pageIndex,this.pageDimensions=At.pageDimensions),this.parent=At}focusin(At){this._focusEventsAllowed&&(at(this,nt)?dn(this,nt,!1):this.parent.setSelected(this))}focusout(At){var rn;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const wt=At.relatedTarget;wt!=null&&wt.closest(`#${this.id}`)||(At.preventDefault(),(rn=this.parent)!=null&&rn.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(At,wt,rn,kt){const[ot,bt]=this.parentDimensions;[rn,kt]=this.screenToPageTranslation(rn,kt),this.x=(At+rn)/ot,this.y=(wt+kt)/bt,this.fixAndSetPosition()}translate(At,wt){an(this,dt,_s).call(this,this.parentDimensions,At,wt)}translateInPage(At,wt){an(this,dt,_s).call(this,this.pageDimensions,At,wt),this.div.scrollIntoView({block:"nearest"})}drag(At,wt){const[rn,kt]=this.parentDimensions;if(this.x+=At/rn,this.y+=wt/kt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:jt,y:Bt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,jt,Bt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:ot,y:bt}=this;const[Pt,Mt]=an(this,dt,bs).call(this);ot+=Pt,bt+=Mt,this.div.style.left=`${(100*ot).toFixed(2)}%`,this.div.style.top=`${(100*bt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[At,wt]=this.pageDimensions;let{x:rn,y:kt,width:ot,height:bt}=this;switch(ot*=At,bt*=wt,rn*=At,kt*=wt,this.rotation){case 0:rn=Math.max(0,Math.min(At-ot,rn)),kt=Math.max(0,Math.min(wt-bt,kt));break;case 90:rn=Math.max(0,Math.min(At-bt,rn)),kt=Math.min(wt,Math.max(ot,kt));break;case 180:rn=Math.min(At,Math.max(ot,rn)),kt=Math.min(wt,Math.max(bt,kt));break;case 270:rn=Math.min(At,Math.max(bt,rn)),kt=Math.max(0,Math.min(wt-ot,kt));break}this.x=rn/=At,this.y=kt/=wt;const[Pt,Mt]=an(this,dt,bs).call(this);rn+=Pt,kt+=Mt;const{style:jt}=this.div;jt.left=`${(100*rn).toFixed(2)}%`,jt.top=`${(100*kt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(At,wt){var rn;return an(rn=en,xt,ws).call(rn,At,wt,this.parentRotation)}pageTranslationToScreen(At,wt){var rn;return an(rn=en,xt,ws).call(rn,At,wt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:At,pageDimensions:[wt,rn]}=this,kt=wt*At,ot=rn*At;return c.FeatureTest.isCSSRoundSupported?[Math.round(kt),Math.round(ot)]:[kt,ot]}setDims(At,wt){var ot;const[rn,kt]=this.parentDimensions;this.div.style.width=`${(100*At/rn).toFixed(2)}%`,at(this,tt)||(this.div.style.height=`${(100*wt/kt).toFixed(2)}%`),(ot=at(this,$))==null||ot.classList.toggle("small",At<en.SMALL_EDITOR_SIZE||wt<en.SMALL_EDITOR_SIZE)}fixDims(){const{style:At}=this.div,{height:wt,width:rn}=At,kt=rn.endsWith("%"),ot=!at(this,tt)&&wt.endsWith("%");if(kt&&ot)return;const[bt,Pt]=this.parentDimensions;kt||(At.width=`${(100*parseFloat(rn)/bt).toFixed(2)}%`),!at(this,tt)&&!ot&&(At.height=`${(100*parseFloat(wt)/Pt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(at(this,$))return;const At=dn(this,$,document.createElement("button"));At.className="altText";const wt=await en._l10nPromise.get("editor_alt_text_button_label");At.textContent=wt,At.setAttribute("aria-label",wt),At.tabIndex="0",At.addEventListener("contextmenu",d.noContextMenu),At.addEventListener("pointerdown",rn=>rn.stopPropagation()),At.addEventListener("click",rn=>{rn.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),At.addEventListener("keydown",rn=>{rn.target===At&&rn.key==="Enter"&&(rn.preventDefault(),this._uiManager.editAltText(this))}),an(this,dt,Es).call(this),this.div.append(At),en.SMALL_EDITOR_SIZE||(en.SMALL_EDITOR_SIZE=Math.min(128,Math.round(At.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:at(this,_),decorative:at(this,b)}}set altTextData({altText:At,decorative:wt}){at(this,_)===At&&at(this,b)===wt||(dn(this,_,At),dn(this,b,wt),an(this,dt,Es).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",at(this,st)),this.div.addEventListener("focusout",at(this,lt));const[At,wt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*wt/At).toFixed(2)}%`,this.div.style.maxHeight=`${(100*At/wt).toFixed(2)}%`);const[rn,kt]=this.getInitialTranslation();return this.translate(rn,kt),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(At){const{isMac:wt}=c.FeatureTest.platform;if(At.button!==0||At.ctrlKey&&wt){At.preventDefault();return}dn(this,nt,!0),an(this,dt,po).call(this,At)}moveInDOM(){var At;(At=this.parent)==null||At.moveEditorInDOM(this)}_setParentAndPosition(At,wt,rn){At.changeParent(this),this.x=wt,this.y=rn,this.fixAndSetPosition()}getRect(At,wt){const rn=this.parentScale,[kt,ot]=this.pageDimensions,[bt,Pt]=this.pageTranslation,Mt=At/rn,jt=wt/rn,Bt=this.x*kt,on=this.y*ot,yn=this.width*kt,Sn=this.height*ot;switch(this.rotation){case 0:return[Bt+Mt+bt,ot-on-jt-Sn+Pt,Bt+Mt+yn+bt,ot-on-jt+Pt];case 90:return[Bt+jt+bt,ot-on+Mt+Pt,Bt+jt+Sn+bt,ot-on+Mt+yn+Pt];case 180:return[Bt-Mt-yn+bt,ot-on+jt+Pt,Bt-Mt+bt,ot-on+jt+Sn+Pt];case 270:return[Bt-jt-Sn+bt,ot-on-Mt-yn+Pt,Bt-jt+bt,ot-on-Mt+Pt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(At,wt){const[rn,kt,ot,bt]=At,Pt=ot-rn,Mt=bt-kt;switch(this.rotation){case 0:return[rn,wt-bt,Pt,Mt];case 90:return[rn,wt-kt,Mt,Pt];case 180:return[ot,wt-kt,Pt,Mt];case 270:return[ot,wt-bt,Mt,Pt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){dn(this,pt,!0)}disableEditMode(){dn(this,pt,!1)}isInEditMode(){return at(this,pt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var At,wt;(At=this.div)==null||At.addEventListener("focusin",at(this,st)),(wt=this.div)==null||wt.addEventListener("focusout",at(this,lt))}serialize(At=!1,wt=null){(0,c.unreachable)("An editor must be serializable")}static deserialize(At,wt,rn){const kt=new this.prototype.constructor({parent:wt,id:wt.getNextId(),uiManager:rn});kt.rotation=At.rotation;const[ot,bt]=kt.pageDimensions,[Pt,Mt,jt,Bt]=kt.getRectInCurrentCoords(At.rect,bt);return kt.x=Pt/ot,kt.y=Mt/bt,kt.width=jt/ot,kt.height=Bt/bt,kt}remove(){var At;this.div.removeEventListener("focusin",at(this,st)),this.div.removeEventListener("focusout",at(this,lt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(At=at(this,$))==null||At.remove(),dn(this,$,null),dn(this,et,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(an(this,dt,uo).call(this),at(this,it).classList.remove("hidden"))}select(){var At;this.makeResizable(),(At=this.div)==null||At.classList.add("selectedEditor")}unselect(){var At,wt,rn;(At=at(this,it))==null||At.classList.add("hidden"),(wt=this.div)==null||wt.classList.remove("selectedEditor"),(rn=this.div)!=null&&rn.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(At,wt){}disableEditing(){at(this,$)&&(at(this,$).hidden=!0)}enableEditing(){at(this,$)&&(at(this,$).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return at(this,rt)}set isEditing(At){dn(this,rt,At),this.parent&&(At?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(At,wt){dn(this,tt,!0);const rn=At/wt,{style:kt}=this.div;kt.aspectRatio=rn,kt.height="auto"}static get MIN_SIZE(){return 16}};_=new WeakMap,b=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,tt=new WeakMap,it=new WeakMap,st=new WeakMap,lt=new WeakMap,nt=new WeakMap,rt=new WeakMap,pt=new WeakMap,gt=new WeakMap,ht=new WeakMap,dt=new WeakSet,_s=function([At,wt],rn,kt){[rn,kt]=this.screenToPageTranslation(rn,kt),this.x+=rn/At,this.y+=kt/wt,this.fixAndSetPosition()},bs=function(){const[At,wt]=this.parentDimensions,{_borderLineWidth:rn}=en,kt=rn/At,ot=rn/wt;switch(this.rotation){case 90:return[-kt,ot];case 180:return[kt,ot];case 270:return[kt,-ot];default:return[-kt,-ot]}},xt=new WeakSet,ws=function(At,wt,rn){switch(rn){case 90:return[wt,-At];case 180:return[-At,-wt];case 270:return[-wt,At];default:return[At,wt]}},Ss=function(At){switch(At){case 90:{const[wt,rn]=this.pageDimensions;return[0,-wt/rn,rn/wt,0]}case 180:return[-1,0,0,-1];case 270:{const[wt,rn]=this.pageDimensions;return[0,wt/rn,-rn/wt,0]}default:return[1,0,0,1]}},uo=function(){if(at(this,it))return;dn(this,it,document.createElement("div")),at(this,it).classList.add("resizers");const At=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||At.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const wt of At){const rn=document.createElement("div");at(this,it).append(rn),rn.classList.add("resizer",wt),rn.addEventListener("pointerdown",an(this,dt,ho).bind(this,wt)),rn.addEventListener("contextmenu",d.noContextMenu)}this.div.prepend(at(this,it))},ho=function(At,wt){wt.preventDefault();const{isMac:rn}=c.FeatureTest.platform;if(wt.button!==0||wt.ctrlKey&&rn)return;const kt=an(this,dt,fo).bind(this,At),ot=this._isDraggable;this._isDraggable=!1;const bt={passive:!0,capture:!0};window.addEventListener("pointermove",kt,bt);const Pt=this.x,Mt=this.y,jt=this.width,Bt=this.height,on=this.parent.div.style.cursor,yn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(wt.target).cursor;const Sn=()=>{this._isDraggable=ot,window.removeEventListener("pointerup",Sn),window.removeEventListener("blur",Sn),window.removeEventListener("pointermove",kt,bt),this.parent.div.style.cursor=on,this.div.style.cursor=yn;const En=this.x,kn=this.y,Tn=this.width,In=this.height;En===Pt&&kn===Mt&&Tn===jt&&In===Bt||this.addCommands({cmd:()=>{this.width=Tn,this.height=In,this.x=En,this.y=kn;const[gn,xn]=this.parentDimensions;this.setDims(gn*Tn,xn*In),this.fixAndSetPosition()},undo:()=>{this.width=jt,this.height=Bt,this.x=Pt,this.y=Mt;const[gn,xn]=this.parentDimensions;this.setDims(gn*jt,xn*Bt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Sn),window.addEventListener("blur",Sn)},fo=function(At,wt){const[rn,kt]=this.parentDimensions,ot=this.x,bt=this.y,Pt=this.width,Mt=this.height,jt=en.MIN_SIZE/rn,Bt=en.MIN_SIZE/kt,on=zn=>Math.round(zn*1e4)/1e4,yn=an(this,dt,Ss).call(this,this.rotation),Sn=(zn,Hn)=>[yn[0]*zn+yn[2]*Hn,yn[1]*zn+yn[3]*Hn],En=an(this,dt,Ss).call(this,360-this.rotation),kn=(zn,Hn)=>[En[0]*zn+En[2]*Hn,En[1]*zn+En[3]*Hn];let Tn,In,gn=!1,xn=!1;switch(At){case"topLeft":gn=!0,Tn=(zn,Hn)=>[0,0],In=(zn,Hn)=>[zn,Hn];break;case"topMiddle":Tn=(zn,Hn)=>[zn/2,0],In=(zn,Hn)=>[zn/2,Hn];break;case"topRight":gn=!0,Tn=(zn,Hn)=>[zn,0],In=(zn,Hn)=>[0,Hn];break;case"middleRight":xn=!0,Tn=(zn,Hn)=>[zn,Hn/2],In=(zn,Hn)=>[0,Hn/2];break;case"bottomRight":gn=!0,Tn=(zn,Hn)=>[zn,Hn],In=(zn,Hn)=>[0,0];break;case"bottomMiddle":Tn=(zn,Hn)=>[zn/2,Hn],In=(zn,Hn)=>[zn/2,0];break;case"bottomLeft":gn=!0,Tn=(zn,Hn)=>[0,Hn],In=(zn,Hn)=>[zn,0];break;case"middleLeft":xn=!0,Tn=(zn,Hn)=>[0,Hn/2],In=(zn,Hn)=>[zn,Hn/2];break}const Tt=Tn(Pt,Mt),Yt=In(Pt,Mt);let hn=Sn(...Yt);const _n=on(ot+hn[0]),Pn=on(bt+hn[1]);let Fn=1,Mn=1,[pn,un]=this.screenToPageTranslation(wt.movementX,wt.movementY);if([pn,un]=kn(pn/rn,un/kt),gn){const zn=Math.hypot(Pt,Mt);Fn=Mn=Math.max(Math.min(Math.hypot(Yt[0]-Tt[0]-pn,Yt[1]-Tt[1]-un)/zn,1/Pt,1/Mt),jt/Pt,Bt/Mt)}else xn?Fn=Math.max(jt,Math.min(1,Math.abs(Yt[0]-Tt[0]-pn)))/Pt:Mn=Math.max(Bt,Math.min(1,Math.abs(Yt[1]-Tt[1]-un)))/Mt;const vn=on(Pt*Fn),$n=on(Mt*Mn);hn=Sn(...In(vn,$n));const jn=_n-hn[0],Xn=Pn-hn[1];this.width=vn,this.height=$n,this.x=jn,this.y=Xn,this.setDims(rn*vn,kt*$n),this.fixAndSetPosition()},Es=async function(){var rn;const At=at(this,$);if(!At)return;if(!at(this,_)&&!at(this,b)){At.classList.remove("done"),(rn=at(this,et))==null||rn.remove();return}en._l10nPromise.get("editor_alt_text_edit_button_label").then(kt=>{At.setAttribute("aria-label",kt)});let wt=at(this,et);if(!wt){dn(this,et,wt=document.createElement("span")),wt.className="tooltip",wt.setAttribute("role","tooltip");const kt=wt.id=`alt-text-tooltip-${this.id}`;At.setAttribute("aria-describedby",kt);const ot=100;At.addEventListener("mouseenter",()=>{dn(this,_e,setTimeout(()=>{dn(this,_e,null),at(this,et).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},ot))}),At.addEventListener("mouseleave",()=>{var bt;clearTimeout(at(this,_e)),dn(this,_e,null),(bt=at(this,et))==null||bt.classList.remove("show")})}At.classList.add("done"),wt.innerText=at(this,b)?await en._l10nPromise.get("editor_alt_text_decorative_tooltip"):at(this,_),wt.parentNode||At.append(wt)},po=function(At){if(!this._isDraggable)return;const wt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let rn,kt;wt&&(rn={passive:!0,capture:!0},kt=bt=>{const[Pt,Mt]=this.screenToPageTranslation(bt.movementX,bt.movementY);this._uiManager.dragSelectedEditors(Pt,Mt)},window.addEventListener("pointermove",kt,rn));const ot=()=>{if(window.removeEventListener("pointerup",ot),window.removeEventListener("blur",ot),wt&&window.removeEventListener("pointermove",kt,rn),dn(this,nt,!1),!this._uiManager.endDragSession()){const{isMac:bt}=c.FeatureTest.platform;At.ctrlKey&&!bt||At.shiftKey||At.metaKey&&bt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",ot),window.addEventListener("blur",ot)},fn(en,xt),or(en,"_borderLineWidth",-1),or(en,"_colorManager",new a.ColorManager),or(en,"_zIndex",1),or(en,"SMALL_EDITOR_SIZE",0);let h=en;s.AnnotationEditor=h;class g extends h{constructor(At){super(At),this.annotationElementId=At.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(i,s,o)=>{var tt,it,st,lt,nt,As,gt,ht,dt,mt,yt,mo,vt,St,Rt,nn,zt,sn,en,Nt,At,wt,rn,kt,ot,bt,Pt,Mt,jt,Bt,on,yn,Sn,En,kn,Tn,In,gn,xn,Tt,Yt,hn,_n,Pn,Fn,Mn,pn,go,Cs,Ps,os,ks,Rs,fr,Kr,yo,vo,Ts,Qr,Is;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=d,s.opacityToHex=h;var a=o(1),c=o(6);function d(Yn,tn,An){for(const Dn of An)tn.addEventListener(Dn,Yn[Dn].bind(Yn))}function h(Yn){return Math.round(Math.min(255,Math.max(1,255*Yn))).toString(16).padStart(2,"0")}class g{constructor(){fn(this,tt,0)}getId(){return`${a.AnnotationEditorPrefix}${Er(this,tt)._++}`}}tt=new WeakMap;const pt=class pt{constructor(){fn(this,nt);fn(this,it,(0,a.getUuid)());fn(this,st,0);fn(this,lt,null)}static get _isSVGFittingCanvas(){const tn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Dn=new OffscreenCanvas(1,3).getContext("2d"),Vn=new Image;Vn.src=tn;const Jn=Vn.decode().then(()=>(Dn.drawImage(Vn,0,0,1,1,0,0,1,3),new Uint32Array(Dn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",Jn)}async getFromFile(tn){const{lastModified:An,name:Dn,size:Vn,type:Jn}=tn;return an(this,nt,As).call(this,`${An}_${Dn}_${Vn}_${Jn}`,tn)}async getFromUrl(tn){return an(this,nt,As).call(this,tn,tn)}async getFromId(tn){at(this,lt)||dn(this,lt,new Map);const An=at(this,lt).get(tn);return An?An.bitmap?(An.refCounter+=1,An):An.file?this.getFromFile(An.file):this.getFromUrl(An.url):null}getSvgUrl(tn){const An=at(this,lt).get(tn);return An!=null&&An.isSvg?An.svgUrl:null}deleteId(tn){at(this,lt)||dn(this,lt,new Map);const An=at(this,lt).get(tn);An&&(An.refCounter-=1,An.refCounter===0&&(An.bitmap=null))}isValidId(tn){return tn.startsWith(`image_${at(this,it)}_`)}};it=new WeakMap,st=new WeakMap,lt=new WeakMap,nt=new WeakSet,As=async function(tn,An){at(this,lt)||dn(this,lt,new Map);let Dn=at(this,lt).get(tn);if(Dn===null)return null;if(Dn!=null&&Dn.bitmap)return Dn.refCounter+=1,Dn;try{Dn||(Dn={bitmap:null,id:`image_${at(this,it)}_${Er(this,st)._++}`,refCounter:0,isSvg:!1});let Vn;if(typeof An=="string"){Dn.url=An;const Jn=await fetch(An);if(!Jn.ok)throw new Error(Jn.statusText);Vn=await Jn.blob()}else Vn=Dn.file=An;if(Vn.type==="image/svg+xml"){const Jn=pt._isSVGFittingCanvas,Un=new FileReader,Jt=new Image,Lt=new Promise((ln,wn)=>{Jt.onload=()=>{Dn.bitmap=Jt,Dn.isSvg=!0,ln()},Un.onload=async()=>{const Cn=Dn.svgUrl=Un.result;Jt.src=await Jn?`${Cn}#svgView(preserveAspectRatio(none))`:Cn},Jt.onerror=Un.onerror=wn});Un.readAsDataURL(Vn),await Lt}else Dn.bitmap=await createImageBitmap(Vn);Dn.refCounter=1}catch(Vn){console.error(Vn),Dn=null}return at(this,lt).set(tn,Dn),Dn&&at(this,lt).set(Dn.id,Dn),Dn};let _=pt;class b{constructor(tn=128){fn(this,gt,[]);fn(this,ht,!1);fn(this,dt);fn(this,mt,-1);dn(this,dt,tn)}add({cmd:tn,undo:An,mustExec:Dn,type:Vn=NaN,overwriteIfSameType:Jn=!1,keepUndo:Un=!1}){if(Dn&&tn(),at(this,ht))return;const Jt={cmd:tn,undo:An,type:Vn};if(at(this,mt)===-1){at(this,gt).length>0&&(at(this,gt).length=0),dn(this,mt,0),at(this,gt).push(Jt);return}if(Jn&&at(this,gt)[at(this,mt)].type===Vn){Un&&(Jt.undo=at(this,gt)[at(this,mt)].undo),at(this,gt)[at(this,mt)]=Jt;return}const Lt=at(this,mt)+1;Lt===at(this,dt)?at(this,gt).splice(0,1):(dn(this,mt,Lt),Lt<at(this,gt).length&&at(this,gt).splice(Lt)),at(this,gt).push(Jt)}undo(){at(this,mt)!==-1&&(dn(this,ht,!0),at(this,gt)[at(this,mt)].undo(),dn(this,ht,!1),dn(this,mt,at(this,mt)-1))}redo(){at(this,mt)<at(this,gt).length-1&&(dn(this,mt,at(this,mt)+1),dn(this,ht,!0),at(this,gt)[at(this,mt)].cmd(),dn(this,ht,!1))}hasSomethingToUndo(){return at(this,mt)!==-1}hasSomethingToRedo(){return at(this,mt)<at(this,gt).length-1}destroy(){dn(this,gt,null)}}gt=new WeakMap,ht=new WeakMap,dt=new WeakMap,mt=new WeakMap,s.CommandManager=b;class ${constructor(tn){fn(this,yt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:An}=a.FeatureTest.platform;for(const[Dn,Vn,Jn={}]of tn)for(const Un of Dn){const Jt=Un.startsWith("mac+");An&&Jt?(this.callbacks.set(Un.slice(4),{callback:Vn,options:Jn}),this.allKeys.add(Un.split("+").at(-1))):!An&&!Jt&&(this.callbacks.set(Un,{callback:Vn,options:Jn}),this.allKeys.add(Un.split("+").at(-1)))}}exec(tn,An){if(!this.allKeys.has(An.key))return;const Dn=this.callbacks.get(an(this,yt,mo).call(this,An));if(!Dn)return;const{callback:Vn,options:{bubbles:Jn=!1,args:Un=[],checker:Jt=null}}=Dn;Jt&&!Jt(tn,An)||(Vn.bind(tn,...Un)(),Jn||(An.stopPropagation(),An.preventDefault()))}}yt=new WeakSet,mo=function(tn){tn.altKey&&this.buffer.push("alt"),tn.ctrlKey&&this.buffer.push("ctrl"),tn.metaKey&&this.buffer.push("meta"),tn.shiftKey&&this.buffer.push("shift"),this.buffer.push(tn.key);const An=this.buffer.join("+");return this.buffer.length=0,An},s.KeyboardManager=$;const Et=class Et{get _colors(){const tn=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(tn),(0,a.shadow)(this,"_colors",tn)}convert(tn){const An=(0,c.getRGB)(tn);if(!window.matchMedia("(forced-colors: active)").matches)return An;for(const[Dn,Vn]of this._colors)if(Vn.every((Jn,Un)=>Jn===An[Un]))return Et._colorsMapping.get(Dn);return An}getHexCode(tn){const An=this._colors.get(tn);return An?a.Util.makeHexColor(...An):tn}};or(Et,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let et=Et;s.ColorManager=et;const Qn=class Qn{constructor(tn,An,Dn,Vn,Jn,Un){fn(this,pn);fn(this,vt,null);fn(this,St,new Map);fn(this,Rt,new Map);fn(this,nn,null);fn(this,zt,null);fn(this,sn,new b);fn(this,en,0);fn(this,Nt,new Set);fn(this,At,null);fn(this,wt,null);fn(this,rn,new Set);fn(this,kt,null);fn(this,ot,new g);fn(this,bt,!1);fn(this,Pt,!1);fn(this,Mt,null);fn(this,jt,a.AnnotationEditorType.NONE);fn(this,Bt,new Set);fn(this,on,null);fn(this,yn,this.blur.bind(this));fn(this,Sn,this.focus.bind(this));fn(this,En,this.copy.bind(this));fn(this,kn,this.cut.bind(this));fn(this,Tn,this.paste.bind(this));fn(this,In,this.keydown.bind(this));fn(this,gn,this.onEditingAction.bind(this));fn(this,xn,this.onPageChanging.bind(this));fn(this,Tt,this.onScaleChanging.bind(this));fn(this,Yt,this.onRotationChanging.bind(this));fn(this,hn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});fn(this,_n,[0,0]);fn(this,Pn,null);fn(this,Fn,null);fn(this,Mn,null);dn(this,Fn,tn),dn(this,Mn,An),dn(this,nn,Dn),this._eventBus=Vn,this._eventBus._on("editingaction",at(this,gn)),this._eventBus._on("pagechanging",at(this,xn)),this._eventBus._on("scalechanging",at(this,Tt)),this._eventBus._on("rotationchanging",at(this,Yt)),dn(this,zt,Jn.annotationStorage),dn(this,kt,Jn.filterFactory),dn(this,on,Un),this.viewParameters={realScale:c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const tn=Qn.prototype,An=Jn=>{const{activeElement:Un}=document;return Un&&at(Jn,Fn).contains(Un)&&Jn.hasSomethingToControl()},Dn=this.TRANSLATE_SMALL,Vn=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new $([[["ctrl+a","mac+meta+a"],tn.selectAll],[["ctrl+z","mac+meta+z"],tn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],tn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],tn.delete],[["Escape","mac+Escape"],tn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],tn.translateSelectedEditors,{args:[-Dn,0],checker:An}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],tn.translateSelectedEditors,{args:[-Vn,0],checker:An}],[["ArrowRight","mac+ArrowRight"],tn.translateSelectedEditors,{args:[Dn,0],checker:An}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],tn.translateSelectedEditors,{args:[Vn,0],checker:An}],[["ArrowUp","mac+ArrowUp"],tn.translateSelectedEditors,{args:[0,-Dn],checker:An}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],tn.translateSelectedEditors,{args:[0,-Vn],checker:An}],[["ArrowDown","mac+ArrowDown"],tn.translateSelectedEditors,{args:[0,Dn],checker:An}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],tn.translateSelectedEditors,{args:[0,Vn],checker:An}]]))}destroy(){an(this,pn,os).call(this),an(this,pn,Cs).call(this),this._eventBus._off("editingaction",at(this,gn)),this._eventBus._off("pagechanging",at(this,xn)),this._eventBus._off("scalechanging",at(this,Tt)),this._eventBus._off("rotationchanging",at(this,Yt));for(const tn of at(this,Rt).values())tn.destroy();at(this,Rt).clear(),at(this,St).clear(),at(this,rn).clear(),dn(this,vt,null),at(this,Bt).clear(),at(this,sn).destroy(),at(this,nn).destroy()}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",at(this,on)?at(this,kt).addHCMFilter(at(this,on).foreground,at(this,on).background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle(at(this,Fn)).direction)}editAltText(tn){var An;(An=at(this,nn))==null||An.editAltText(this,tn)}onPageChanging({pageNumber:tn}){dn(this,en,tn-1)}focusMainContainer(){at(this,Fn).focus()}findParent(tn,An){for(const Dn of at(this,Rt).values()){const{x:Vn,y:Jn,width:Un,height:Jt}=Dn.div.getBoundingClientRect();if(tn>=Vn&&tn<=Vn+Un&&An>=Jn&&An<=Jn+Jt)return Dn}return null}disableUserSelect(tn=!1){at(this,Mn).classList.toggle("noUserSelect",tn)}addShouldRescale(tn){at(this,rn).add(tn)}removeShouldRescale(tn){at(this,rn).delete(tn)}onScaleChanging({scale:tn}){this.commitOrRemove(),this.viewParameters.realScale=tn*c.PixelsPerInch.PDF_TO_CSS_UNITS;for(const An of at(this,rn))An.onScaleChanging()}onRotationChanging({pagesRotation:tn}){this.commitOrRemove(),this.viewParameters.rotation=tn}addToAnnotationStorage(tn){!tn.isEmpty()&&at(this,zt)&&!at(this,zt).has(tn.id)&&at(this,zt).setValue(tn.id,tn)}blur(){if(!this.hasSelection)return;const{activeElement:tn}=document;for(const An of at(this,Bt))if(An.div.contains(tn)){dn(this,Mt,[An,tn]),An._focusEventsAllowed=!1;break}}focus(){if(!at(this,Mt))return;const[tn,An]=at(this,Mt);dn(this,Mt,null),An.addEventListener("focusin",()=>{tn._focusEventsAllowed=!0},{once:!0}),An.focus()}addEditListeners(){an(this,pn,Ps).call(this),an(this,pn,ks).call(this)}removeEditListeners(){an(this,pn,os).call(this),an(this,pn,Rs).call(this)}copy(tn){var Dn;if(tn.preventDefault(),(Dn=at(this,vt))==null||Dn.commitOrRemove(),!this.hasSelection)return;const An=[];for(const Vn of at(this,Bt)){const Jn=Vn.serialize(!0);Jn&&An.push(Jn)}An.length!==0&&tn.clipboardData.setData("application/pdfjs",JSON.stringify(An))}cut(tn){this.copy(tn),this.delete()}paste(tn){tn.preventDefault();const{clipboardData:An}=tn;for(const Jn of An.items)for(const Un of at(this,wt))if(Un.isHandlingMimeForPasting(Jn.type)){Un.paste(Jn,this.currentLayer);return}let Dn=An.getData("application/pdfjs");if(!Dn)return;try{Dn=JSON.parse(Dn)}catch(Jn){(0,a.warn)(`paste: "${Jn.message}".`);return}if(!Array.isArray(Dn))return;this.unselectAll();const Vn=this.currentLayer;try{const Jn=[];for(const Lt of Dn){const ln=Vn.deserialize(Lt);if(!ln)return;Jn.push(ln)}const Un=()=>{for(const Lt of Jn)an(this,pn,Ts).call(this,Lt);an(this,pn,Is).call(this,Jn)},Jt=()=>{for(const Lt of Jn)Lt.remove()};this.addCommands({cmd:Un,undo:Jt,mustExec:!0})}catch(Jn){(0,a.warn)(`paste: "${Jn.message}".`)}}keydown(tn){var An;(An=this.getActive())!=null&&An.shouldGetKeyboardEvents()||Qn._keyboardManager.exec(this,tn)}onEditingAction(tn){["undo","redo","delete","selectAll"].includes(tn.name)&&this[tn.name]()}setEditingState(tn){tn?(an(this,pn,go).call(this),an(this,pn,Ps).call(this),an(this,pn,ks).call(this),an(this,pn,fr).call(this,{isEditing:at(this,jt)!==a.AnnotationEditorType.NONE,isEmpty:an(this,pn,Qr).call(this),hasSomethingToUndo:at(this,sn).hasSomethingToUndo(),hasSomethingToRedo:at(this,sn).hasSomethingToRedo(),hasSelectedEditor:!1})):(an(this,pn,Cs).call(this),an(this,pn,os).call(this),an(this,pn,Rs).call(this),an(this,pn,fr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(tn){if(!at(this,wt)){dn(this,wt,tn);for(const An of at(this,wt))an(this,pn,Kr).call(this,An.defaultPropertiesToUpdate)}}getId(){return at(this,ot).getId()}get currentLayer(){return at(this,Rt).get(at(this,en))}getLayer(tn){return at(this,Rt).get(tn)}get currentPageIndex(){return at(this,en)}addLayer(tn){at(this,Rt).set(tn.pageIndex,tn),at(this,bt)?tn.enable():tn.disable()}removeLayer(tn){at(this,Rt).delete(tn.pageIndex)}updateMode(tn,An=null){if(at(this,jt)!==tn){if(dn(this,jt,tn),tn===a.AnnotationEditorType.NONE){this.setEditingState(!1),an(this,pn,vo).call(this);return}this.setEditingState(!0),an(this,pn,yo).call(this),this.unselectAll();for(const Dn of at(this,Rt).values())Dn.updateMode(tn);if(An){for(const Dn of at(this,St).values())if(Dn.annotationElementId===An){this.setSelected(Dn),Dn.enterInEditMode();break}}}}updateToolbar(tn){tn!==at(this,jt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:tn})}updateParams(tn,An){if(at(this,wt)){if(tn===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(tn);return}for(const Dn of at(this,Bt))Dn.updateParams(tn,An);for(const Dn of at(this,wt))Dn.updateDefaultParams(tn,An)}}enableWaiting(tn=!1){if(at(this,Pt)!==tn){dn(this,Pt,tn);for(const An of at(this,Rt).values())tn?An.disableClick():An.enableClick(),An.div.classList.toggle("waiting",tn)}}getEditors(tn){const An=[];for(const Dn of at(this,St).values())Dn.pageIndex===tn&&An.push(Dn);return An}getEditor(tn){return at(this,St).get(tn)}addEditor(tn){at(this,St).set(tn.id,tn)}removeEditor(tn){var An;at(this,St).delete(tn.id),this.unselect(tn),(!tn.annotationElementId||!at(this,Nt).has(tn.annotationElementId))&&((An=at(this,zt))==null||An.remove(tn.id))}addDeletedAnnotationElement(tn){at(this,Nt).add(tn.annotationElementId),tn.deleted=!0}isDeletedAnnotationElement(tn){return at(this,Nt).has(tn)}removeDeletedAnnotationElement(tn){at(this,Nt).delete(tn.annotationElementId),tn.deleted=!1}setActiveEditor(tn){at(this,vt)!==tn&&(dn(this,vt,tn),tn&&an(this,pn,Kr).call(this,tn.propertiesToUpdate))}toggleSelected(tn){if(at(this,Bt).has(tn)){at(this,Bt).delete(tn),tn.unselect(),an(this,pn,fr).call(this,{hasSelectedEditor:this.hasSelection});return}at(this,Bt).add(tn),tn.select(),an(this,pn,Kr).call(this,tn.propertiesToUpdate),an(this,pn,fr).call(this,{hasSelectedEditor:!0})}setSelected(tn){for(const An of at(this,Bt))An!==tn&&An.unselect();at(this,Bt).clear(),at(this,Bt).add(tn),tn.select(),an(this,pn,Kr).call(this,tn.propertiesToUpdate),an(this,pn,fr).call(this,{hasSelectedEditor:!0})}isSelected(tn){return at(this,Bt).has(tn)}unselect(tn){tn.unselect(),at(this,Bt).delete(tn),an(this,pn,fr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return at(this,Bt).size!==0}undo(){at(this,sn).undo(),an(this,pn,fr).call(this,{hasSomethingToUndo:at(this,sn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:an(this,pn,Qr).call(this)})}redo(){at(this,sn).redo(),an(this,pn,fr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:at(this,sn).hasSomethingToRedo(),isEmpty:an(this,pn,Qr).call(this)})}addCommands(tn){at(this,sn).add(tn),an(this,pn,fr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:an(this,pn,Qr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const tn=[...at(this,Bt)],An=()=>{for(const Vn of tn)Vn.remove()},Dn=()=>{for(const Vn of tn)an(this,pn,Ts).call(this,Vn)};this.addCommands({cmd:An,undo:Dn,mustExec:!0})}commitOrRemove(){var tn;(tn=at(this,vt))==null||tn.commitOrRemove()}hasSomethingToControl(){return at(this,vt)||this.hasSelection}selectAll(){for(const tn of at(this,Bt))tn.commit();an(this,pn,Is).call(this,at(this,St).values())}unselectAll(){if(at(this,vt)){at(this,vt).commitOrRemove();return}if(this.hasSelection){for(const tn of at(this,Bt))tn.unselect();at(this,Bt).clear(),an(this,pn,fr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(tn,An,Dn=!1){if(Dn||this.commitOrRemove(),!this.hasSelection)return;at(this,_n)[0]+=tn,at(this,_n)[1]+=An;const[Vn,Jn]=at(this,_n),Un=[...at(this,Bt)],Jt=1e3;at(this,Pn)&&clearTimeout(at(this,Pn)),dn(this,Pn,setTimeout(()=>{dn(this,Pn,null),at(this,_n)[0]=at(this,_n)[1]=0,this.addCommands({cmd:()=>{for(const Lt of Un)at(this,St).has(Lt.id)&&Lt.translateInPage(Vn,Jn)},undo:()=>{for(const Lt of Un)at(this,St).has(Lt.id)&&Lt.translateInPage(-Vn,-Jn)},mustExec:!1})},Jt));for(const Lt of Un)Lt.translateInPage(tn,An)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),dn(this,At,new Map);for(const tn of at(this,Bt))at(this,At).set(tn,{savedX:tn.x,savedY:tn.y,savedPageIndex:tn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!at(this,At))return!1;this.disableUserSelect(!1);const tn=at(this,At);dn(this,At,null);let An=!1;for(const[{x:Vn,y:Jn,pageIndex:Un},Jt]of tn)Jt.newX=Vn,Jt.newY=Jn,Jt.newPageIndex=Un,An||(An=Vn!==Jt.savedX||Jn!==Jt.savedY||Un!==Jt.savedPageIndex);if(!An)return!1;const Dn=(Vn,Jn,Un,Jt)=>{if(at(this,St).has(Vn.id)){const Lt=at(this,Rt).get(Jt);Lt?Vn._setParentAndPosition(Lt,Jn,Un):(Vn.pageIndex=Jt,Vn.x=Jn,Vn.y=Un)}};return this.addCommands({cmd:()=>{for(const[Vn,{newX:Jn,newY:Un,newPageIndex:Jt}]of tn)Dn(Vn,Jn,Un,Jt)},undo:()=>{for(const[Vn,{savedX:Jn,savedY:Un,savedPageIndex:Jt}]of tn)Dn(Vn,Jn,Un,Jt)},mustExec:!0}),!0}dragSelectedEditors(tn,An){if(at(this,At))for(const Dn of at(this,At).keys())Dn.drag(tn,An)}rebuild(tn){if(tn.parent===null){const An=this.getLayer(tn.pageIndex);An?(An.changeParent(tn),An.addOrRebuild(tn)):(this.addEditor(tn),this.addToAnnotationStorage(tn),tn.rebuild())}else tn.parent.addOrRebuild(tn)}isActive(tn){return at(this,vt)===tn}getActive(){return at(this,vt)}getMode(){return at(this,jt)}get imageManager(){return(0,a.shadow)(this,"imageManager",new _)}};vt=new WeakMap,St=new WeakMap,Rt=new WeakMap,nn=new WeakMap,zt=new WeakMap,sn=new WeakMap,en=new WeakMap,Nt=new WeakMap,At=new WeakMap,wt=new WeakMap,rn=new WeakMap,kt=new WeakMap,ot=new WeakMap,bt=new WeakMap,Pt=new WeakMap,Mt=new WeakMap,jt=new WeakMap,Bt=new WeakMap,on=new WeakMap,yn=new WeakMap,Sn=new WeakMap,En=new WeakMap,kn=new WeakMap,Tn=new WeakMap,In=new WeakMap,gn=new WeakMap,xn=new WeakMap,Tt=new WeakMap,Yt=new WeakMap,hn=new WeakMap,_n=new WeakMap,Pn=new WeakMap,Fn=new WeakMap,Mn=new WeakMap,pn=new WeakSet,go=function(){window.addEventListener("focus",at(this,Sn)),window.addEventListener("blur",at(this,yn))},Cs=function(){window.removeEventListener("focus",at(this,Sn)),window.removeEventListener("blur",at(this,yn))},Ps=function(){window.addEventListener("keydown",at(this,In),{capture:!0})},os=function(){window.removeEventListener("keydown",at(this,In),{capture:!0})},ks=function(){document.addEventListener("copy",at(this,En)),document.addEventListener("cut",at(this,kn)),document.addEventListener("paste",at(this,Tn))},Rs=function(){document.removeEventListener("copy",at(this,En)),document.removeEventListener("cut",at(this,kn)),document.removeEventListener("paste",at(this,Tn))},fr=function(tn){Object.entries(tn).some(([Dn,Vn])=>at(this,hn)[Dn]!==Vn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(at(this,hn),tn)})},Kr=function(tn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:tn})},yo=function(){if(!at(this,bt)){dn(this,bt,!0);for(const tn of at(this,Rt).values())tn.enable()}},vo=function(){if(this.unselectAll(),at(this,bt)){dn(this,bt,!1);for(const tn of at(this,Rt).values())tn.disable()}},Ts=function(tn){const An=at(this,Rt).get(tn.pageIndex);An?An.addOrRebuild(tn):this.addEditor(tn)},Qr=function(){if(at(this,St).size===0)return!0;if(at(this,St).size===1)for(const tn of at(this,St).values())return tn.isEmpty();return!1},Is=function(tn){at(this,Bt).clear();for(const An of tn)An.isEmpty()||(at(this,Bt).add(An),An.select());an(this,pn,fr).call(this,{hasSelectedEditor:!0})},or(Qn,"TRANSLATE_SMALL",1),or(Qn,"TRANSLATE_BIG",10);let _e=Qn;s.AnnotationEditorUIManager=_e},(i,s,o)=>{var en,Nt,At,wt,rn,kt,ot,bt,Pt,Mt,jt,Bt,Dr,jr,Fs,as,ls,Jr,Zr;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=mt,s.getColorValues=St,s.getCurrentTransform=Rt,s.getCurrentTransformInverse=nn,s.getFilenameFromUrl=nt,s.getPdfFilenameFromUrl=rt,s.getRGB=vt,s.getXfaPageViewport=Et,s.isDataScheme=st,s.isPdfFile=lt,s.isValidFetchUrl=gt,s.loadScript=dt,s.noContextMenu=ht,s.setLayerDimensions=zt;var a=o(7),c=o(1);const d="http://www.w3.org/2000/svg",sn=class sn{};or(sn,"CSS",96),or(sn,"PDF",72),or(sn,"PDF_TO_CSS_UNITS",sn.CSS/sn.PDF);let h=sn;s.PixelsPerInch=h;class g extends a.BaseFilterFactory{constructor({docId:Tt,ownerDocument:Yt=globalThis.document}={}){super();fn(this,Bt);fn(this,en);fn(this,Nt);fn(this,At);fn(this,wt);fn(this,rn);fn(this,kt);fn(this,ot);fn(this,bt);fn(this,Pt);fn(this,Mt);fn(this,jt,0);dn(this,At,Tt),dn(this,wt,Yt)}addFilter(Tt){if(!Tt)return"none";let Yt=at(this,Bt,Dr).get(Tt);if(Yt)return Yt;let hn,_n,Pn,Fn;if(Tt.length===1){const vn=Tt[0],$n=new Array(256);for(let jn=0;jn<256;jn++)$n[jn]=vn[jn]/255;Fn=hn=_n=Pn=$n.join(",")}else{const[vn,$n,jn]=Tt,Xn=new Array(256),zn=new Array(256),Hn=new Array(256);for(let er=0;er<256;er++)Xn[er]=vn[er]/255,zn[er]=$n[er]/255,Hn[er]=jn[er]/255;hn=Xn.join(","),_n=zn.join(","),Pn=Hn.join(","),Fn=`${hn}${_n}${Pn}`}if(Yt=at(this,Bt,Dr).get(Fn),Yt)return at(this,Bt,Dr).set(Tt,Yt),Yt;const Mn=`g_${at(this,At)}_transfer_map_${Er(this,jt)._++}`,pn=`url(#${Mn})`;at(this,Bt,Dr).set(Tt,pn),at(this,Bt,Dr).set(Fn,pn);const un=an(this,Bt,as).call(this,Mn);return an(this,Bt,Jr).call(this,hn,_n,Pn,un),pn}addHCMFilter(Tt,Yt){var $n;const hn=`${Tt}-${Yt}`;if(at(this,kt)===hn)return at(this,ot);if(dn(this,kt,hn),dn(this,ot,"none"),($n=at(this,rn))==null||$n.remove(),!Tt||!Yt)return at(this,ot);const _n=an(this,Bt,Zr).call(this,Tt);Tt=c.Util.makeHexColor(..._n);const Pn=an(this,Bt,Zr).call(this,Yt);if(Yt=c.Util.makeHexColor(...Pn),at(this,Bt,jr).style.color="",Tt==="#000000"&&Yt==="#ffffff"||Tt===Yt)return at(this,ot);const Fn=new Array(256);for(let jn=0;jn<=255;jn++){const Xn=jn/255;Fn[jn]=Xn<=.03928?Xn/12.92:((Xn+.055)/1.055)**2.4}const Mn=Fn.join(","),pn=`g_${at(this,At)}_hcm_filter`,un=dn(this,bt,an(this,Bt,as).call(this,pn));an(this,Bt,Jr).call(this,Mn,Mn,Mn,un),an(this,Bt,Fs).call(this,un);const vn=(jn,Xn)=>{const zn=_n[jn]/255,Hn=Pn[jn]/255,er=new Array(Xn+1);for(let rr=0;rr<=Xn;rr++)er[rr]=zn+rr/Xn*(Hn-zn);return er.join(",")};return an(this,Bt,Jr).call(this,vn(0,5),vn(1,5),vn(2,5),un),dn(this,ot,`url(#${pn})`),at(this,ot)}addHighlightHCMFilter(Tt,Yt,hn,_n){var Hn;const Pn=`${Tt}-${Yt}-${hn}-${_n}`;if(at(this,Pt)===Pn)return at(this,Mt);if(dn(this,Pt,Pn),dn(this,Mt,"none"),(Hn=at(this,bt))==null||Hn.remove(),!Tt||!Yt)return at(this,Mt);const[Fn,Mn]=[Tt,Yt].map(an(this,Bt,Zr).bind(this));let pn=Math.round(.2126*Fn[0]+.7152*Fn[1]+.0722*Fn[2]),un=Math.round(.2126*Mn[0]+.7152*Mn[1]+.0722*Mn[2]),[vn,$n]=[hn,_n].map(an(this,Bt,Zr).bind(this));un<pn&&([pn,un,vn,$n]=[un,pn,$n,vn]),at(this,Bt,jr).style.color="";const jn=(er,rr,Rn)=>{const mn=new Array(256),bn=(un-pn)/Rn,Ln=er/255,Qn=(rr-er)/(255*Rn);let Yn=0;for(let tn=0;tn<=Rn;tn++){const An=Math.round(pn+tn*bn),Dn=Ln+tn*Qn;for(let Vn=Yn;Vn<=An;Vn++)mn[Vn]=Dn;Yn=An+1}for(let tn=Yn;tn<256;tn++)mn[tn]=mn[Yn-1];return mn.join(",")},Xn=`g_${at(this,At)}_hcm_highlight_filter`,zn=dn(this,bt,an(this,Bt,as).call(this,Xn));return an(this,Bt,Fs).call(this,zn),an(this,Bt,Jr).call(this,jn(vn[0],$n[0],5),jn(vn[1],$n[1],5),jn(vn[2],$n[2],5),zn),dn(this,Mt,`url(#${Xn})`),at(this,Mt)}destroy(Tt=!1){Tt&&(at(this,ot)||at(this,Mt))||(at(this,Nt)&&(at(this,Nt).parentNode.parentNode.remove(),dn(this,Nt,null)),at(this,en)&&(at(this,en).clear(),dn(this,en,null)),dn(this,jt,0))}}en=new WeakMap,Nt=new WeakMap,At=new WeakMap,wt=new WeakMap,rn=new WeakMap,kt=new WeakMap,ot=new WeakMap,bt=new WeakMap,Pt=new WeakMap,Mt=new WeakMap,jt=new WeakMap,Bt=new WeakSet,Dr=function(){return at(this,en)||dn(this,en,new Map)},jr=function(){if(!at(this,Nt)){const Tt=at(this,wt).createElement("div"),{style:Yt}=Tt;Yt.visibility="hidden",Yt.contain="strict",Yt.width=Yt.height=0,Yt.position="absolute",Yt.top=Yt.left=0,Yt.zIndex=-1;const hn=at(this,wt).createElementNS(d,"svg");hn.setAttribute("width",0),hn.setAttribute("height",0),dn(this,Nt,at(this,wt).createElementNS(d,"defs")),Tt.append(hn),hn.append(at(this,Nt)),at(this,wt).body.append(Tt)}return at(this,Nt)},Fs=function(Tt){const Yt=at(this,wt).createElementNS(d,"feColorMatrix");Yt.setAttribute("type","matrix"),Yt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Tt.append(Yt)},as=function(Tt){const Yt=at(this,wt).createElementNS(d,"filter");return Yt.setAttribute("color-interpolation-filters","sRGB"),Yt.setAttribute("id",Tt),at(this,Bt,jr).append(Yt),Yt},ls=function(Tt,Yt,hn){const _n=at(this,wt).createElementNS(d,Yt);_n.setAttribute("type","discrete"),_n.setAttribute("tableValues",hn),Tt.append(_n)},Jr=function(Tt,Yt,hn,_n){const Pn=at(this,wt).createElementNS(d,"feComponentTransfer");_n.append(Pn),an(this,Bt,ls).call(this,Pn,"feFuncR",Tt),an(this,Bt,ls).call(this,Pn,"feFuncG",Yt),an(this,Bt,ls).call(this,Pn,"feFuncB",hn)},Zr=function(Tt){return at(this,Bt,jr).style.color=Tt,vt(getComputedStyle(at(this,Bt,jr)).getPropertyValue("color"))},s.DOMFilterFactory=g;class _ extends a.BaseCanvasFactory{constructor({ownerDocument:xn=globalThis.document}={}){super(),this._document=xn}_createCanvas(xn,Tt){const Yt=this._document.createElement("canvas");return Yt.width=xn,Yt.height=Tt,Yt}}s.DOMCanvasFactory=_;async function b(gn,xn=!1){if(gt(gn,document.baseURI)){const Tt=await fetch(gn);if(!Tt.ok)throw new Error(Tt.statusText);return xn?new Uint8Array(await Tt.arrayBuffer()):(0,c.stringToBytes)(await Tt.text())}return new Promise((Tt,Yt)=>{const hn=new XMLHttpRequest;hn.open("GET",gn,!0),xn&&(hn.responseType="arraybuffer"),hn.onreadystatechange=()=>{if(hn.readyState===XMLHttpRequest.DONE){if(hn.status===200||hn.status===0){let _n;if(xn&&hn.response?_n=new Uint8Array(hn.response):!xn&&hn.responseText&&(_n=(0,c.stringToBytes)(hn.responseText)),_n){Tt(_n);return}}Yt(new Error(hn.statusText))}},hn.send(null)})}class $ extends a.BaseCMapReaderFactory{_fetchData(xn,Tt){return b(xn,this.isCompressed).then(Yt=>({cMapData:Yt,compressionType:Tt}))}}s.DOMCMapReaderFactory=$;class et extends a.BaseStandardFontDataFactory{_fetchData(xn){return b(xn,!0)}}s.DOMStandardFontDataFactory=et;class _e extends a.BaseSVGFactory{_createSVG(xn){return document.createElementNS(d,xn)}}s.DOMSVGFactory=_e;class tt{constructor({viewBox:xn,scale:Tt,rotation:Yt,offsetX:hn=0,offsetY:_n=0,dontFlip:Pn=!1}){this.viewBox=xn,this.scale=Tt,this.rotation=Yt,this.offsetX=hn,this.offsetY=_n;const Fn=(xn[2]+xn[0])/2,Mn=(xn[3]+xn[1])/2;let pn,un,vn,$n;switch(Yt%=360,Yt<0&&(Yt+=360),Yt){case 180:pn=-1,un=0,vn=0,$n=1;break;case 90:pn=0,un=1,vn=1,$n=0;break;case 270:pn=0,un=-1,vn=-1,$n=0;break;case 0:pn=1,un=0,vn=0,$n=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Pn&&(vn=-vn,$n=-$n);let jn,Xn,zn,Hn;pn===0?(jn=Math.abs(Mn-xn[1])*Tt+hn,Xn=Math.abs(Fn-xn[0])*Tt+_n,zn=(xn[3]-xn[1])*Tt,Hn=(xn[2]-xn[0])*Tt):(jn=Math.abs(Fn-xn[0])*Tt+hn,Xn=Math.abs(Mn-xn[1])*Tt+_n,zn=(xn[2]-xn[0])*Tt,Hn=(xn[3]-xn[1])*Tt),this.transform=[pn*Tt,un*Tt,vn*Tt,$n*Tt,jn-pn*Tt*Fn-vn*Tt*Mn,Xn-un*Tt*Fn-$n*Tt*Mn],this.width=zn,this.height=Hn}get rawDims(){const{viewBox:xn}=this;return(0,c.shadow)(this,"rawDims",{pageWidth:xn[2]-xn[0],pageHeight:xn[3]-xn[1],pageX:xn[0],pageY:xn[1]})}clone({scale:xn=this.scale,rotation:Tt=this.rotation,offsetX:Yt=this.offsetX,offsetY:hn=this.offsetY,dontFlip:_n=!1}={}){return new tt({viewBox:this.viewBox.slice(),scale:xn,rotation:Tt,offsetX:Yt,offsetY:hn,dontFlip:_n})}convertToViewportPoint(xn,Tt){return c.Util.applyTransform([xn,Tt],this.transform)}convertToViewportRectangle(xn){const Tt=c.Util.applyTransform([xn[0],xn[1]],this.transform),Yt=c.Util.applyTransform([xn[2],xn[3]],this.transform);return[Tt[0],Tt[1],Yt[0],Yt[1]]}convertToPdfPoint(xn,Tt){return c.Util.applyInverseTransform([xn,Tt],this.transform)}}s.PageViewport=tt;class it extends c.BaseException{constructor(xn,Tt=0){super(xn,"RenderingCancelledException"),this.extraDelay=Tt}}s.RenderingCancelledException=it;function st(gn){const xn=gn.length;let Tt=0;for(;Tt<xn&&gn[Tt].trim()==="";)Tt++;return gn.substring(Tt,Tt+5).toLowerCase()==="data:"}function lt(gn){return typeof gn=="string"&&/\.pdf$/i.test(gn)}function nt(gn,xn=!1){return xn||([gn]=gn.split(/[#?]/,1)),gn.substring(gn.lastIndexOf("/")+1)}function rt(gn,xn="document.pdf"){if(typeof gn!="string")return xn;if(st(gn))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),xn;const Tt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Yt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,hn=Tt.exec(gn);let _n=Yt.exec(hn[1])||Yt.exec(hn[2])||Yt.exec(hn[3]);if(_n&&(_n=_n[0],_n.includes("%")))try{_n=Yt.exec(decodeURIComponent(_n))[0]}catch{}return _n||xn}class pt{constructor(){or(this,"started",Object.create(null));or(this,"times",[])}time(xn){xn in this.started&&(0,c.warn)(`Timer is already running for ${xn}`),this.started[xn]=Date.now()}timeEnd(xn){xn in this.started||(0,c.warn)(`Timer has not been started for ${xn}`),this.times.push({name:xn,start:this.started[xn],end:Date.now()}),delete this.started[xn]}toString(){const xn=[];let Tt=0;for(const{name:Yt}of this.times)Tt=Math.max(Yt.length,Tt);for(const{name:Yt,start:hn,end:_n}of this.times)xn.push(`${Yt.padEnd(Tt)} ${_n-hn}ms
`);return xn.join("")}}s.StatTimer=pt;function gt(gn,xn){try{const{protocol:Tt}=xn?new URL(gn,xn):new URL(gn);return Tt==="http:"||Tt==="https:"}catch{return!1}}function ht(gn){gn.preventDefault()}function dt(gn,xn=!1){return new Promise((Tt,Yt)=>{const hn=document.createElement("script");hn.src=gn,hn.onload=function(_n){xn&&hn.remove(),Tt(_n)},hn.onerror=function(){Yt(new Error(`Cannot load script at: ${hn.src}`))},(document.head||document.documentElement).append(hn)})}function mt(gn){console.log("Deprecated API usage: "+gn)}let yt;class xt{static toDateObject(xn){if(!xn||typeof xn!="string")return null;yt||(yt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Tt=yt.exec(xn);if(!Tt)return null;const Yt=parseInt(Tt[1],10);let hn=parseInt(Tt[2],10);hn=hn>=1&&hn<=12?hn-1:0;let _n=parseInt(Tt[3],10);_n=_n>=1&&_n<=31?_n:1;let Pn=parseInt(Tt[4],10);Pn=Pn>=0&&Pn<=23?Pn:0;let Fn=parseInt(Tt[5],10);Fn=Fn>=0&&Fn<=59?Fn:0;let Mn=parseInt(Tt[6],10);Mn=Mn>=0&&Mn<=59?Mn:0;const pn=Tt[7]||"Z";let un=parseInt(Tt[8],10);un=un>=0&&un<=23?un:0;let vn=parseInt(Tt[9],10)||0;return vn=vn>=0&&vn<=59?vn:0,pn==="-"?(Pn+=un,Fn+=vn):pn==="+"&&(Pn-=un,Fn-=vn),new Date(Date.UTC(Yt,hn,_n,Pn,Fn,Mn))}}s.PDFDateString=xt;function Et(gn,{scale:xn=1,rotation:Tt=0}){const{width:Yt,height:hn}=gn.attributes.style,_n=[0,0,parseInt(Yt),parseInt(hn)];return new tt({viewBox:_n,scale:xn,rotation:Tt})}function vt(gn){if(gn.startsWith("#")){const xn=parseInt(gn.slice(1),16);return[(xn&16711680)>>16,(xn&65280)>>8,xn&255]}return gn.startsWith("rgb(")?gn.slice(4,-1).split(",").map(xn=>parseInt(xn)):gn.startsWith("rgba(")?gn.slice(5,-1).split(",").map(xn=>parseInt(xn)).slice(0,3):((0,c.warn)(`Not a valid color format: "${gn}"`),[0,0,0])}function St(gn){const xn=document.createElement("span");xn.style.visibility="hidden",document.body.append(xn);for(const Tt of gn.keys()){xn.style.color=Tt;const Yt=window.getComputedStyle(xn).color;gn.set(Tt,vt(Yt))}xn.remove()}function Rt(gn){const{a:xn,b:Tt,c:Yt,d:hn,e:_n,f:Pn}=gn.getTransform();return[xn,Tt,Yt,hn,_n,Pn]}function nn(gn){const{a:xn,b:Tt,c:Yt,d:hn,e:_n,f:Pn}=gn.getTransform().invertSelf();return[xn,Tt,Yt,hn,_n,Pn]}function zt(gn,xn,Tt=!1,Yt=!0){if(xn instanceof tt){const{pageWidth:hn,pageHeight:_n}=xn.rawDims,{style:Pn}=gn,Fn=c.FeatureTest.isCSSRoundSupported,Mn=`var(--scale-factor) * ${hn}px`,pn=`var(--scale-factor) * ${_n}px`,un=Fn?`round(${Mn}, 1px)`:`calc(${Mn})`,vn=Fn?`round(${pn}, 1px)`:`calc(${pn})`;!Tt||xn.rotation%180===0?(Pn.width=un,Pn.height=vn):(Pn.width=vn,Pn.height=un)}Yt&&gn.setAttribute("data-main-rotation",xn.rotation)}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var a=o(1);class c{constructor(){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,et){return"none"}addHighlightHCMFilter($,et,_e,tt){return"none"}destroy($=!1){}}s.BaseFilterFactory=c;class d{constructor(){this.constructor===d&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create($,et){if($<=0||et<=0)throw new Error("Invalid canvas size");const _e=this._createCanvas($,et);return{canvas:_e,context:_e.getContext("2d")}}reset($,et,_e){if(!$.canvas)throw new Error("Canvas is not specified");if(et<=0||_e<=0)throw new Error("Invalid canvas size");$.canvas.width=et,$.canvas.height=_e}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,et){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=d;class h{constructor({baseUrl:$=null,isCompressed:et=!0}){this.constructor===h&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=$,this.isCompressed=et}async fetch({name:$}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!$)throw new Error("CMap name must be specified.");const et=this.baseUrl+$+(this.isCompressed?".bcmap":""),_e=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(et,_e).catch(tt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${et}`)})}_fetchData($,et){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=h;class g{constructor({baseUrl:$=null}){this.constructor===g&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=$}async fetch({filename:$}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!$)throw new Error("Font filename must be specified.");const et=`${this.baseUrl}${$}`;return this._fetchData(et).catch(_e=>{throw new Error(`Unable to load font data at: ${et}`)})}_fetchData($){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=g;class _{constructor(){this.constructor===_&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create($,et,_e=!1){if($<=0||et<=0)throw new Error("Invalid SVG dimensions");const tt=this._createSVG("svg:svg");return tt.setAttribute("version","1.1"),_e||(tt.setAttribute("width",`${$}px`),tt.setAttribute("height",`${et}px`)),tt.setAttribute("preserveAspectRatio","none"),tt.setAttribute("viewBox",`0 0 ${$} ${et}`),tt}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){(0,a.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=_},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var a=o(1);const c=3285377520,d=4294901760,h=65535;class g{constructor(b){this.h1=b?b&4294967295:c,this.h2=b?b&4294967295:c}update(b){let $,et;if(typeof b=="string"){$=new Uint8Array(b.length*2),et=0;for(let mt=0,yt=b.length;mt<yt;mt++){const xt=b.charCodeAt(mt);xt<=255?$[et++]=xt:($[et++]=xt>>>8,$[et++]=xt&255)}}else if((0,a.isArrayBuffer)(b))$=b.slice(),et=$.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const _e=et>>2,tt=et-_e*4,it=new Uint32Array($.buffer,0,_e);let st=0,lt=0,nt=this.h1,rt=this.h2;const pt=3432918353,gt=461845907,ht=pt&h,dt=gt&h;for(let mt=0;mt<_e;mt++)mt&1?(st=it[mt],st=st*pt&d|st*ht&h,st=st<<15|st>>>17,st=st*gt&d|st*dt&h,nt^=st,nt=nt<<13|nt>>>19,nt=nt*5+3864292196):(lt=it[mt],lt=lt*pt&d|lt*ht&h,lt=lt<<15|lt>>>17,lt=lt*gt&d|lt*dt&h,rt^=lt,rt=rt<<13|rt>>>19,rt=rt*5+3864292196);switch(st=0,tt){case 3:st^=$[_e*4+2]<<16;case 2:st^=$[_e*4+1]<<8;case 1:st^=$[_e*4],st=st*pt&d|st*ht&h,st=st<<15|st>>>17,st=st*gt&d|st*dt&h,_e&1?nt^=st:rt^=st}this.h1=nt,this.h2=rt}hexdigest(){let b=this.h1,$=this.h2;return b^=$>>>1,b=b*3981806797&d|b*36045&h,$=$*4283543511&d|(($<<16|b>>>16)*2950163797&d)>>>16,b^=$>>>1,b=b*444984403&d|b*60499&h,$=$*3301882366&d|(($<<16|b>>>16)*3120437893&d)>>>16,b^=$>>>1,(b>>>0).toString(16).padStart(8,"0")+($>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=g},(i,s,o)=>{var h;Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var a=o(1);class c{constructor({ownerDocument:_=globalThis.document,styleElement:b=null}){fn(this,h,new Set);this._document=_,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(_){this.nativeFontFaces.add(_),this._document.fonts.add(_)}removeNativeFontFace(_){this.nativeFontFaces.delete(_),this._document.fonts.delete(_)}insertRule(_){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const b=this.styleElement.sheet;b.insertRule(_,b.cssRules.length)}clear(){for(const _ of this.nativeFontFaces)this._document.fonts.delete(_);this.nativeFontFaces.clear(),at(this,h).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(_){if(!(!_||at(this,h).has(_.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:b,src:$,style:et}=_,_e=new FontFace(b,$,et);this.addNativeFontFace(_e);try{await _e.load(),at(this,h).add(b)}catch{(0,a.warn)(`Cannot load system font: ${_.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(_e)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(_){if(_.attached||_.missingFile&&!_.systemFontInfo)return;if(_.attached=!0,_.systemFontInfo){await this.loadSystemFont(_.systemFontInfo);return}if(this.isFontLoadingAPISupported){const $=_.createNativeFontFace();if($){this.addNativeFontFace($);try{await $.loaded}catch(et){throw(0,a.warn)(`Failed to load font '${$.family}': '${et}'.`),_.disableFontFace=!0,et}}return}const b=_.createFontFaceRule();if(b){if(this.insertRule(b),this.isSyncFontLoadingSupported)return;await new Promise($=>{const et=this._queueLoadingCallback($);this._prepareFontLoadEvent(_,et)})}}get isFontLoadingAPISupported(){var b;const _=!!((b=this._document)!=null&&b.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",_)}get isSyncFontLoadingSupported(){let _=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(_=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",_)}_queueLoadingCallback(_){function b(){for((0,a.assert)(!et.done,"completeRequest() cannot be called twice."),et.done=!0;$.length>0&&$[0].done;){const _e=$.shift();setTimeout(_e.callback,0)}}const{loadingRequests:$}=this,et={done:!1,complete:b,callback:_};return $.push(et),et}get _loadTestFont(){const _=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",_)}_prepareFontLoadEvent(_,b){function $(vt,St){return vt.charCodeAt(St)<<24|vt.charCodeAt(St+1)<<16|vt.charCodeAt(St+2)<<8|vt.charCodeAt(St+3)&255}function et(vt,St,Rt,nn){const zt=vt.substring(0,St),sn=vt.substring(St+Rt);return zt+nn+sn}let _e,tt;const it=this._document.createElement("canvas");it.width=1,it.height=1;const st=it.getContext("2d");let lt=0;function nt(vt,St){if(++lt>30){(0,a.warn)("Load test font never loaded."),St();return}if(st.font="30px "+vt,st.fillText(".",0,20),st.getImageData(0,0,1,1).data[3]>0){St();return}setTimeout(nt.bind(null,vt,St))}const rt=`lt${Date.now()}${this.loadTestFontId++}`;let pt=this._loadTestFont;pt=et(pt,976,rt.length,rt);const ht=16,dt=1482184792;let mt=$(pt,ht);for(_e=0,tt=rt.length-3;_e<tt;_e+=4)mt=mt-dt+$(rt,_e)|0;_e<rt.length&&(mt=mt-dt+$(rt+"XXX",_e)|0),pt=et(pt,ht,4,(0,a.string32)(mt));const yt=`url(data:font/opentype;base64,${btoa(pt)});`,xt=`@font-face {font-family:"${rt}";src:${yt}}`;this.insertRule(xt);const Et=this._document.createElement("div");Et.style.visibility="hidden",Et.style.width=Et.style.height="10px",Et.style.position="absolute",Et.style.top=Et.style.left="0px";for(const vt of[_.loadedName,rt]){const St=this._document.createElement("span");St.textContent="Hi",St.style.fontFamily=vt,Et.append(St)}this._document.body.append(Et),nt(rt,()=>{Et.remove(),b.complete()})}}h=new WeakMap,s.FontLoader=c;class d{constructor(_,{isEvalSupported:b=!0,disableFontFace:$=!1,ignoreErrors:et=!1,inspectFont:_e=null}){this.compiledGlyphs=Object.create(null);for(const tt in _)this[tt]=_[tt];this.isEvalSupported=b!==!1,this.disableFontFace=$===!0,this.ignoreErrors=et===!0,this._inspectFont=_e}createNativeFontFace(){var b;if(!this.data||this.disableFontFace)return null;let _;if(!this.cssFontInfo)_=new FontFace(this.loadedName,this.data,{});else{const $={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&($.style=`oblique ${this.cssFontInfo.italicAngle}deg`),_=new FontFace(this.cssFontInfo.fontFamily,this.data,$)}return(b=this._inspectFont)==null||b.call(this,this),_}createFontFaceRule(){var et;if(!this.data||this.disableFontFace)return null;const _=(0,a.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(_)});`;let $;if(!this.cssFontInfo)$=`@font-face {font-family:"${this.loadedName}";src:${b}}`;else{let _e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(_e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),$=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${_e}src:${b}}`}return(et=this._inspectFont)==null||et.call(this,this,b),$}getPathGenerator(_,b){if(this.compiledGlyphs[b]!==void 0)return this.compiledGlyphs[b];let $;try{$=_.get(this.loadedName+"_path_"+b)}catch(et){if(!this.ignoreErrors)throw et;return(0,a.warn)(`getPathGenerator - ignoring character: "${et}".`),this.compiledGlyphs[b]=function(_e,tt){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const et=[];for(const _e of $){const tt=_e.args!==void 0?_e.args.join(","):"";et.push("c.",_e.cmd,"(",tt,`);
`)}return this.compiledGlyphs[b]=new Function("c","size",et.join(""))}return this.compiledGlyphs[b]=function(et,_e){for(const tt of $)tt.cmd==="scale"&&(tt.args=[_e,-_e]),et[tt.cmd].apply(et,tt.args)}}}s.FontFaceObject=d},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var a=o(7);o(1);const c=function(b){return new Promise(($,et)=>{require$$5.readFile(b,(tt,it)=>{if(tt||!it){et(new Error(tt));return}$(new Uint8Array(it))})})};class d extends a.BaseFilterFactory{}s.NodeFilterFactory=d;class h extends a.BaseCanvasFactory{_createCanvas($,et){return require$$5.createCanvas($,et)}}s.NodeCanvasFactory=h;class g extends a.BaseCMapReaderFactory{_fetchData($,et){return c($).then(_e=>({cMapData:_e,compressionType:et}))}}s.NodeCMapReaderFactory=g;class _ extends a.BaseStandardFontDataFactory{_fetchData($){return c($)}}s.NodeStandardFontDataFactory=_},(i,s,o)=>{var Nt,Ms,Os;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var a=o(1),c=o(6),d=o(12),h=o(13);const g=16,_=100,b=4096,$=15,et=10,_e=1e3,tt=16;function it(kt,ot){if(kt._removeMirroring)throw new Error("Context is already forwarding operations.");kt.__originalSave=kt.save,kt.__originalRestore=kt.restore,kt.__originalRotate=kt.rotate,kt.__originalScale=kt.scale,kt.__originalTranslate=kt.translate,kt.__originalTransform=kt.transform,kt.__originalSetTransform=kt.setTransform,kt.__originalResetTransform=kt.resetTransform,kt.__originalClip=kt.clip,kt.__originalMoveTo=kt.moveTo,kt.__originalLineTo=kt.lineTo,kt.__originalBezierCurveTo=kt.bezierCurveTo,kt.__originalRect=kt.rect,kt.__originalClosePath=kt.closePath,kt.__originalBeginPath=kt.beginPath,kt._removeMirroring=()=>{kt.save=kt.__originalSave,kt.restore=kt.__originalRestore,kt.rotate=kt.__originalRotate,kt.scale=kt.__originalScale,kt.translate=kt.__originalTranslate,kt.transform=kt.__originalTransform,kt.setTransform=kt.__originalSetTransform,kt.resetTransform=kt.__originalResetTransform,kt.clip=kt.__originalClip,kt.moveTo=kt.__originalMoveTo,kt.lineTo=kt.__originalLineTo,kt.bezierCurveTo=kt.__originalBezierCurveTo,kt.rect=kt.__originalRect,kt.closePath=kt.__originalClosePath,kt.beginPath=kt.__originalBeginPath,delete kt._removeMirroring},kt.save=function(){ot.save(),this.__originalSave()},kt.restore=function(){ot.restore(),this.__originalRestore()},kt.translate=function(Pt,Mt){ot.translate(Pt,Mt),this.__originalTranslate(Pt,Mt)},kt.scale=function(Pt,Mt){ot.scale(Pt,Mt),this.__originalScale(Pt,Mt)},kt.transform=function(Pt,Mt,jt,Bt,on,yn){ot.transform(Pt,Mt,jt,Bt,on,yn),this.__originalTransform(Pt,Mt,jt,Bt,on,yn)},kt.setTransform=function(Pt,Mt,jt,Bt,on,yn){ot.setTransform(Pt,Mt,jt,Bt,on,yn),this.__originalSetTransform(Pt,Mt,jt,Bt,on,yn)},kt.resetTransform=function(){ot.resetTransform(),this.__originalResetTransform()},kt.rotate=function(Pt){ot.rotate(Pt),this.__originalRotate(Pt)},kt.clip=function(Pt){ot.clip(Pt),this.__originalClip(Pt)},kt.moveTo=function(bt,Pt){ot.moveTo(bt,Pt),this.__originalMoveTo(bt,Pt)},kt.lineTo=function(bt,Pt){ot.lineTo(bt,Pt),this.__originalLineTo(bt,Pt)},kt.bezierCurveTo=function(bt,Pt,Mt,jt,Bt,on){ot.bezierCurveTo(bt,Pt,Mt,jt,Bt,on),this.__originalBezierCurveTo(bt,Pt,Mt,jt,Bt,on)},kt.rect=function(bt,Pt,Mt,jt){ot.rect(bt,Pt,Mt,jt),this.__originalRect(bt,Pt,Mt,jt)},kt.closePath=function(){ot.closePath(),this.__originalClosePath()},kt.beginPath=function(){ot.beginPath(),this.__originalBeginPath()}}class st{constructor(ot){this.canvasFactory=ot,this.cache=Object.create(null)}getCanvas(ot,bt,Pt){let Mt;return this.cache[ot]!==void 0?(Mt=this.cache[ot],this.canvasFactory.reset(Mt,bt,Pt)):(Mt=this.canvasFactory.create(bt,Pt),this.cache[ot]=Mt),Mt}delete(ot){delete this.cache[ot]}clear(){for(const ot in this.cache){const bt=this.cache[ot];this.canvasFactory.destroy(bt),delete this.cache[ot]}}}function lt(kt,ot,bt,Pt,Mt,jt,Bt,on,yn,Sn){const[En,kn,Tn,In,gn,xn]=(0,c.getCurrentTransform)(kt);if(kn===0&&Tn===0){const hn=Bt*En+gn,_n=Math.round(hn),Pn=on*In+xn,Fn=Math.round(Pn),Mn=(Bt+yn)*En+gn,pn=Math.abs(Math.round(Mn)-_n)||1,un=(on+Sn)*In+xn,vn=Math.abs(Math.round(un)-Fn)||1;return kt.setTransform(Math.sign(En),0,0,Math.sign(In),_n,Fn),kt.drawImage(ot,bt,Pt,Mt,jt,0,0,pn,vn),kt.setTransform(En,kn,Tn,In,gn,xn),[pn,vn]}if(En===0&&In===0){const hn=on*Tn+gn,_n=Math.round(hn),Pn=Bt*kn+xn,Fn=Math.round(Pn),Mn=(on+Sn)*Tn+gn,pn=Math.abs(Math.round(Mn)-_n)||1,un=(Bt+yn)*kn+xn,vn=Math.abs(Math.round(un)-Fn)||1;return kt.setTransform(0,Math.sign(kn),Math.sign(Tn),0,_n,Fn),kt.drawImage(ot,bt,Pt,Mt,jt,0,0,vn,pn),kt.setTransform(En,kn,Tn,In,gn,xn),[vn,pn]}kt.drawImage(ot,bt,Pt,Mt,jt,Bt,on,yn,Sn);const Tt=Math.hypot(En,kn),Yt=Math.hypot(Tn,In);return[Tt*yn,Yt*Sn]}function nt(kt){const{width:ot,height:bt}=kt;if(ot>_e||bt>_e)return null;const Pt=1e3,Mt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),jt=ot+1;let Bt=new Uint8Array(jt*(bt+1)),on,yn,Sn;const En=ot+7&-8;let kn=new Uint8Array(En*bt),Tn=0;for(const Yt of kt.data){let hn=128;for(;hn>0;)kn[Tn++]=Yt&hn?0:255,hn>>=1}let In=0;for(Tn=0,kn[Tn]!==0&&(Bt[0]=1,++In),yn=1;yn<ot;yn++)kn[Tn]!==kn[Tn+1]&&(Bt[yn]=kn[Tn]?2:1,++In),Tn++;for(kn[Tn]!==0&&(Bt[yn]=2,++In),on=1;on<bt;on++){Tn=on*En,Sn=on*jt,kn[Tn-En]!==kn[Tn]&&(Bt[Sn]=kn[Tn]?1:8,++In);let Yt=(kn[Tn]?4:0)+(kn[Tn-En]?8:0);for(yn=1;yn<ot;yn++)Yt=(Yt>>2)+(kn[Tn+1]?4:0)+(kn[Tn-En+1]?8:0),Mt[Yt]&&(Bt[Sn+yn]=Mt[Yt],++In),Tn++;if(kn[Tn-En]!==kn[Tn]&&(Bt[Sn+yn]=kn[Tn]?2:4,++In),In>Pt)return null}for(Tn=En*(bt-1),Sn=on*jt,kn[Tn]!==0&&(Bt[Sn]=8,++In),yn=1;yn<ot;yn++)kn[Tn]!==kn[Tn+1]&&(Bt[Sn+yn]=kn[Tn]?4:8,++In),Tn++;if(kn[Tn]!==0&&(Bt[Sn+yn]=4,++In),In>Pt)return null;const gn=new Int32Array([0,jt,-1,0,-jt,0,0,0,1]),xn=new Path2D;for(on=0;In&&on<=bt;on++){let Yt=on*jt;const hn=Yt+ot;for(;Yt<hn&&!Bt[Yt];)Yt++;if(Yt===hn)continue;xn.moveTo(Yt%jt,on);const _n=Yt;let Pn=Bt[Yt];do{const Fn=gn[Pn];do Yt+=Fn;while(!Bt[Yt]);const Mn=Bt[Yt];Mn!==5&&Mn!==10?(Pn=Mn,Bt[Yt]=0):(Pn=Mn&51*Pn>>4,Bt[Yt]&=Pn>>2|Pn<<2),xn.lineTo(Yt%jt,Yt/jt|0),Bt[Yt]||--In}while(_n!==Yt);--on}return kn=null,Bt=null,function(Yt){Yt.save(),Yt.scale(1/ot,-1/bt),Yt.translate(0,-bt),Yt.fill(xn),Yt.beginPath(),Yt.restore()}}class rt{constructor(ot,bt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ot,bt])}clone(){const ot=Object.create(this);return ot.clipBox=this.clipBox.slice(),ot}setCurrentPoint(ot,bt){this.x=ot,this.y=bt}updatePathMinMax(ot,bt,Pt){[bt,Pt]=a.Util.applyTransform([bt,Pt],ot),this.minX=Math.min(this.minX,bt),this.minY=Math.min(this.minY,Pt),this.maxX=Math.max(this.maxX,bt),this.maxY=Math.max(this.maxY,Pt)}updateRectMinMax(ot,bt){const Pt=a.Util.applyTransform(bt,ot),Mt=a.Util.applyTransform(bt.slice(2),ot);this.minX=Math.min(this.minX,Pt[0],Mt[0]),this.minY=Math.min(this.minY,Pt[1],Mt[1]),this.maxX=Math.max(this.maxX,Pt[0],Mt[0]),this.maxY=Math.max(this.maxY,Pt[1],Mt[1])}updateScalingPathMinMax(ot,bt){a.Util.scaleMinMax(ot,bt),this.minX=Math.min(this.minX,bt[0]),this.maxX=Math.max(this.maxX,bt[1]),this.minY=Math.min(this.minY,bt[2]),this.maxY=Math.max(this.maxY,bt[3])}updateCurvePathMinMax(ot,bt,Pt,Mt,jt,Bt,on,yn,Sn,En){const kn=a.Util.bezierBoundingBox(bt,Pt,Mt,jt,Bt,on,yn,Sn);if(En){En[0]=Math.min(En[0],kn[0],kn[2]),En[1]=Math.max(En[1],kn[0],kn[2]),En[2]=Math.min(En[2],kn[1],kn[3]),En[3]=Math.max(En[3],kn[1],kn[3]);return}this.updateRectMinMax(ot,kn)}getPathBoundingBox(ot=d.PathType.FILL,bt=null){const Pt=[this.minX,this.minY,this.maxX,this.maxY];if(ot===d.PathType.STROKE){bt||(0,a.unreachable)("Stroke bounding box must include transform.");const Mt=a.Util.singularValueDecompose2dScale(bt),jt=Mt[0]*this.lineWidth/2,Bt=Mt[1]*this.lineWidth/2;Pt[0]-=jt,Pt[1]-=Bt,Pt[2]+=jt,Pt[3]+=Bt}return Pt}updateClipFromPath(){const ot=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ot||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ot){this.clipBox=ot,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ot=d.PathType.FILL,bt=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(ot,bt))}}function pt(kt,ot){if(typeof ImageData<"u"&&ot instanceof ImageData){kt.putImageData(ot,0,0);return}const bt=ot.height,Pt=ot.width,Mt=bt%tt,jt=(bt-Mt)/tt,Bt=Mt===0?jt:jt+1,on=kt.createImageData(Pt,tt);let yn=0,Sn;const En=ot.data,kn=on.data;let Tn,In,gn,xn;if(ot.kind===a.ImageKind.GRAYSCALE_1BPP){const Tt=En.byteLength,Yt=new Uint32Array(kn.buffer,0,kn.byteLength>>2),hn=Yt.length,_n=Pt+7>>3,Pn=4294967295,Fn=a.FeatureTest.isLittleEndian?4278190080:255;for(Tn=0;Tn<Bt;Tn++){for(gn=Tn<jt?tt:Mt,Sn=0,In=0;In<gn;In++){const Mn=Tt-yn;let pn=0;const un=Mn>_n?Pt:Mn*8-7,vn=un&-8;let $n=0,jn=0;for(;pn<vn;pn+=8)jn=En[yn++],Yt[Sn++]=jn&128?Pn:Fn,Yt[Sn++]=jn&64?Pn:Fn,Yt[Sn++]=jn&32?Pn:Fn,Yt[Sn++]=jn&16?Pn:Fn,Yt[Sn++]=jn&8?Pn:Fn,Yt[Sn++]=jn&4?Pn:Fn,Yt[Sn++]=jn&2?Pn:Fn,Yt[Sn++]=jn&1?Pn:Fn;for(;pn<un;pn++)$n===0&&(jn=En[yn++],$n=128),Yt[Sn++]=jn&$n?Pn:Fn,$n>>=1}for(;Sn<hn;)Yt[Sn++]=0;kt.putImageData(on,0,Tn*tt)}}else if(ot.kind===a.ImageKind.RGBA_32BPP){for(In=0,xn=Pt*tt*4,Tn=0;Tn<jt;Tn++)kn.set(En.subarray(yn,yn+xn)),yn+=xn,kt.putImageData(on,0,In),In+=tt;Tn<Bt&&(xn=Pt*Mt*4,kn.set(En.subarray(yn,yn+xn)),kt.putImageData(on,0,In))}else if(ot.kind===a.ImageKind.RGB_24BPP)for(gn=tt,xn=Pt*gn,Tn=0;Tn<Bt;Tn++){for(Tn>=jt&&(gn=Mt,xn=Pt*gn),Sn=0,In=xn;In--;)kn[Sn++]=En[yn++],kn[Sn++]=En[yn++],kn[Sn++]=En[yn++],kn[Sn++]=255;kt.putImageData(on,0,Tn*tt)}else throw new Error(`bad image kind: ${ot.kind}`)}function gt(kt,ot){if(ot.bitmap){kt.drawImage(ot.bitmap,0,0);return}const bt=ot.height,Pt=ot.width,Mt=bt%tt,jt=(bt-Mt)/tt,Bt=Mt===0?jt:jt+1,on=kt.createImageData(Pt,tt);let yn=0;const Sn=ot.data,En=on.data;for(let kn=0;kn<Bt;kn++){const Tn=kn<jt?tt:Mt;({srcPos:yn}=(0,h.convertBlackAndWhiteToRGBA)({src:Sn,srcPos:yn,dest:En,width:Pt,height:Tn,nonBlackColor:0})),kt.putImageData(on,0,kn*tt)}}function ht(kt,ot){const bt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Pt of bt)kt[Pt]!==void 0&&(ot[Pt]=kt[Pt]);kt.setLineDash!==void 0&&(ot.setLineDash(kt.getLineDash()),ot.lineDashOffset=kt.lineDashOffset)}function dt(kt){if(kt.strokeStyle=kt.fillStyle="#000000",kt.fillRule="nonzero",kt.globalAlpha=1,kt.lineWidth=1,kt.lineCap="butt",kt.lineJoin="miter",kt.miterLimit=10,kt.globalCompositeOperation="source-over",kt.font="10px sans-serif",kt.setLineDash!==void 0&&(kt.setLineDash([]),kt.lineDashOffset=0),!a.isNodeJS){const{filter:ot}=kt;ot!=="none"&&ot!==""&&(kt.filter="none")}}function mt(kt,ot,bt,Pt){const Mt=kt.length;for(let jt=3;jt<Mt;jt+=4){const Bt=kt[jt];if(Bt===0)kt[jt-3]=ot,kt[jt-2]=bt,kt[jt-1]=Pt;else if(Bt<255){const on=255-Bt;kt[jt-3]=kt[jt-3]*Bt+ot*on>>8,kt[jt-2]=kt[jt-2]*Bt+bt*on>>8,kt[jt-1]=kt[jt-1]*Bt+Pt*on>>8}}}function yt(kt,ot,bt){const Pt=kt.length,Mt=1/255;for(let jt=3;jt<Pt;jt+=4){const Bt=bt?bt[kt[jt]]:kt[jt];ot[jt]=ot[jt]*Bt*Mt|0}}function xt(kt,ot,bt){const Pt=kt.length;for(let Mt=3;Mt<Pt;Mt+=4){const jt=kt[Mt-3]*77+kt[Mt-2]*152+kt[Mt-1]*28;ot[Mt]=bt?ot[Mt]*bt[jt>>8]>>8:ot[Mt]*jt>>16}}function Et(kt,ot,bt,Pt,Mt,jt,Bt,on,yn,Sn,En){const kn=!!jt,Tn=kn?jt[0]:0,In=kn?jt[1]:0,gn=kn?jt[2]:0,xn=Mt==="Luminosity"?xt:yt,Yt=Math.min(Pt,Math.ceil(1048576/bt));for(let hn=0;hn<Pt;hn+=Yt){const _n=Math.min(Yt,Pt-hn),Pn=kt.getImageData(on-Sn,hn+(yn-En),bt,_n),Fn=ot.getImageData(on,hn+yn,bt,_n);kn&&mt(Pn.data,Tn,In,gn),xn(Pn.data,Fn.data,Bt),ot.putImageData(Fn,on,hn+yn)}}function vt(kt,ot,bt,Pt){const Mt=Pt[0],jt=Pt[1],Bt=Pt[2]-Mt,on=Pt[3]-jt;Bt===0||on===0||(Et(ot.context,bt,Bt,on,ot.subtype,ot.backdrop,ot.transferMap,Mt,jt,ot.offsetX,ot.offsetY),kt.save(),kt.globalAlpha=1,kt.globalCompositeOperation="source-over",kt.setTransform(1,0,0,1,0,0),kt.drawImage(bt.canvas,0,0),kt.restore())}function St(kt,ot){const bt=a.Util.singularValueDecompose2dScale(kt);bt[0]=Math.fround(bt[0]),bt[1]=Math.fround(bt[1]);const Pt=Math.fround((globalThis.devicePixelRatio||1)*c.PixelsPerInch.PDF_TO_CSS_UNITS);return ot!==void 0?ot:bt[0]<=Pt||bt[1]<=Pt}const Rt=["butt","round","square"],nn=["miter","round","bevel"],zt={},sn={},rn=class rn{constructor(ot,bt,Pt,Mt,jt,{optionalContentConfig:Bt,markedContentStack:on=null},yn,Sn){fn(this,Nt);this.ctx=ot,this.current=new rt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=bt,this.objs=Pt,this.canvasFactory=Mt,this.filterFactory=jt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=on||[],this.optionalContentConfig=Bt,this.cachedCanvases=new st(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=yn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Sn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ot,bt=null){return typeof ot=="string"?ot.startsWith("g_")?this.commonObjs.get(ot):this.objs.get(ot):bt}beginDrawing({transform:ot,viewport:bt,transparency:Pt=!1,background:Mt=null}){const jt=this.ctx.canvas.width,Bt=this.ctx.canvas.height,on=this.ctx.fillStyle;if(this.ctx.fillStyle=Mt||"#ffffff",this.ctx.fillRect(0,0,jt,Bt),this.ctx.fillStyle=on,Pt){const yn=this.cachedCanvases.getCanvas("transparent",jt,Bt);this.compositeCtx=this.ctx,this.transparentCanvas=yn.canvas,this.ctx=yn.context,this.ctx.save(),this.ctx.transform(...(0,c.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),dt(this.ctx),ot&&(this.ctx.transform(...ot),this.outputScaleX=ot[0],this.outputScaleY=ot[0]),this.ctx.transform(...bt.transform),this.viewportScale=bt.scale,this.baseTransform=(0,c.getCurrentTransform)(this.ctx)}executeOperatorList(ot,bt,Pt,Mt){const jt=ot.argsArray,Bt=ot.fnArray;let on=bt||0;const yn=jt.length;if(yn===on)return on;const Sn=yn-on>et&&typeof Pt=="function",En=Sn?Date.now()+$:0;let kn=0;const Tn=this.commonObjs,In=this.objs;let gn;for(;;){if(Mt!==void 0&&on===Mt.nextBreakPoint)return Mt.breakIt(on,Pt),on;if(gn=Bt[on],gn!==a.OPS.dependency)this[gn].apply(this,jt[on]);else for(const xn of jt[on]){const Tt=xn.startsWith("g_")?Tn:In;if(!Tt.has(xn))return Tt.get(xn,Pt),on}if(on++,on===yn)return on;if(Sn&&++kn>et){if(Date.now()>En)return Pt(),on;kn=0}}}endDrawing(){an(this,Nt,Ms).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ot of this._cachedBitmapsMap.values()){for(const bt of ot.values())typeof HTMLCanvasElement<"u"&&bt instanceof HTMLCanvasElement&&(bt.width=bt.height=0);ot.clear()}this._cachedBitmapsMap.clear(),an(this,Nt,Os).call(this)}_scaleImage(ot,bt){const Pt=ot.width,Mt=ot.height;let jt=Math.max(Math.hypot(bt[0],bt[1]),1),Bt=Math.max(Math.hypot(bt[2],bt[3]),1),on=Pt,yn=Mt,Sn="prescale1",En,kn;for(;jt>2&&on>1||Bt>2&&yn>1;){let Tn=on,In=yn;jt>2&&on>1&&(Tn=on>=16384?Math.floor(on/2)-1||1:Math.ceil(on/2),jt/=on/Tn),Bt>2&&yn>1&&(In=yn>=16384?Math.floor(yn/2)-1||1:Math.ceil(yn)/2,Bt/=yn/In),En=this.cachedCanvases.getCanvas(Sn,Tn,In),kn=En.context,kn.clearRect(0,0,Tn,In),kn.drawImage(ot,0,0,on,yn,0,0,Tn,In),ot=En.canvas,on=Tn,yn=In,Sn=Sn==="prescale1"?"prescale2":"prescale1"}return{img:ot,paintWidth:on,paintHeight:yn}}_createMaskCanvas(ot){const bt=this.ctx,{width:Pt,height:Mt}=ot,jt=this.current.fillColor,Bt=this.current.patternFill,on=(0,c.getCurrentTransform)(bt);let yn,Sn,En,kn;if((ot.bitmap||ot.data)&&ot.count>1){const pn=ot.bitmap||ot.data.buffer;Sn=JSON.stringify(Bt?on:[on.slice(0,4),jt]),yn=this._cachedBitmapsMap.get(pn),yn||(yn=new Map,this._cachedBitmapsMap.set(pn,yn));const un=yn.get(Sn);if(un&&!Bt){const vn=Math.round(Math.min(on[0],on[2])+on[4]),$n=Math.round(Math.min(on[1],on[3])+on[5]);return{canvas:un,offsetX:vn,offsetY:$n}}En=un}En||(kn=this.cachedCanvases.getCanvas("maskCanvas",Pt,Mt),gt(kn.context,ot));let Tn=a.Util.transform(on,[1/Pt,0,0,-1/Mt,0,0]);Tn=a.Util.transform(Tn,[1,0,0,1,0,-Mt]);const In=a.Util.applyTransform([0,0],Tn),gn=a.Util.applyTransform([Pt,Mt],Tn),xn=a.Util.normalizeRect([In[0],In[1],gn[0],gn[1]]),Tt=Math.round(xn[2]-xn[0])||1,Yt=Math.round(xn[3]-xn[1])||1,hn=this.cachedCanvases.getCanvas("fillCanvas",Tt,Yt),_n=hn.context,Pn=Math.min(In[0],gn[0]),Fn=Math.min(In[1],gn[1]);_n.translate(-Pn,-Fn),_n.transform(...Tn),En||(En=this._scaleImage(kn.canvas,(0,c.getCurrentTransformInverse)(_n)),En=En.img,yn&&Bt&&yn.set(Sn,En)),_n.imageSmoothingEnabled=St((0,c.getCurrentTransform)(_n),ot.interpolate),lt(_n,En,0,0,En.width,En.height,0,0,Pt,Mt),_n.globalCompositeOperation="source-in";const Mn=a.Util.transform((0,c.getCurrentTransformInverse)(_n),[1,0,0,1,-Pn,-Fn]);return _n.fillStyle=Bt?jt.getPattern(bt,this,Mn,d.PathType.FILL):jt,_n.fillRect(0,0,Pt,Mt),yn&&!Bt&&(this.cachedCanvases.delete("fillCanvas"),yn.set(Sn,hn.canvas)),{canvas:hn.canvas,offsetX:Math.round(Pn),offsetY:Math.round(Fn)}}setLineWidth(ot){ot!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ot,this.ctx.lineWidth=ot}setLineCap(ot){this.ctx.lineCap=Rt[ot]}setLineJoin(ot){this.ctx.lineJoin=nn[ot]}setMiterLimit(ot){this.ctx.miterLimit=ot}setDash(ot,bt){const Pt=this.ctx;Pt.setLineDash!==void 0&&(Pt.setLineDash(ot),Pt.lineDashOffset=bt)}setRenderingIntent(ot){}setFlatness(ot){}setGState(ot){for(const[bt,Pt]of ot)switch(bt){case"LW":this.setLineWidth(Pt);break;case"LC":this.setLineCap(Pt);break;case"LJ":this.setLineJoin(Pt);break;case"ML":this.setMiterLimit(Pt);break;case"D":this.setDash(Pt[0],Pt[1]);break;case"RI":this.setRenderingIntent(Pt);break;case"FL":this.setFlatness(Pt);break;case"Font":this.setFont(Pt[0],Pt[1]);break;case"CA":this.current.strokeAlpha=Pt;break;case"ca":this.current.fillAlpha=Pt,this.ctx.globalAlpha=Pt;break;case"BM":this.ctx.globalCompositeOperation=Pt;break;case"SMask":this.current.activeSMask=Pt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Pt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ot=this.inSMaskMode;this.current.activeSMask&&!ot?this.beginSMaskMode():!this.current.activeSMask&&ot&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ot=this.ctx.canvas.width,bt=this.ctx.canvas.height,Pt="smaskGroupAt"+this.groupLevel,Mt=this.cachedCanvases.getCanvas(Pt,ot,bt);this.suspendedCtx=this.ctx,this.ctx=Mt.context;const jt=this.ctx;jt.setTransform(...(0,c.getCurrentTransform)(this.suspendedCtx)),ht(this.suspendedCtx,jt),it(jt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ht(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ot){if(!this.current.activeSMask)return;ot?(ot[0]=Math.floor(ot[0]),ot[1]=Math.floor(ot[1]),ot[2]=Math.ceil(ot[2]),ot[3]=Math.ceil(ot[3])):ot=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const bt=this.current.activeSMask,Pt=this.suspendedCtx;vt(Pt,bt,this.ctx,ot),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ht(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ot=this.current;this.stateStack.push(ot),this.current=ot.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ht(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ot,bt,Pt,Mt,jt,Bt){this.ctx.transform(ot,bt,Pt,Mt,jt,Bt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ot,bt,Pt){const Mt=this.ctx,jt=this.current;let Bt=jt.x,on=jt.y,yn,Sn;const En=(0,c.getCurrentTransform)(Mt),kn=En[0]===0&&En[3]===0||En[1]===0&&En[2]===0,Tn=kn?Pt.slice(0):null;for(let In=0,gn=0,xn=ot.length;In<xn;In++)switch(ot[In]|0){case a.OPS.rectangle:Bt=bt[gn++],on=bt[gn++];const Tt=bt[gn++],Yt=bt[gn++],hn=Bt+Tt,_n=on+Yt;Mt.moveTo(Bt,on),Tt===0||Yt===0?Mt.lineTo(hn,_n):(Mt.lineTo(hn,on),Mt.lineTo(hn,_n),Mt.lineTo(Bt,_n)),kn||jt.updateRectMinMax(En,[Bt,on,hn,_n]),Mt.closePath();break;case a.OPS.moveTo:Bt=bt[gn++],on=bt[gn++],Mt.moveTo(Bt,on),kn||jt.updatePathMinMax(En,Bt,on);break;case a.OPS.lineTo:Bt=bt[gn++],on=bt[gn++],Mt.lineTo(Bt,on),kn||jt.updatePathMinMax(En,Bt,on);break;case a.OPS.curveTo:yn=Bt,Sn=on,Bt=bt[gn+4],on=bt[gn+5],Mt.bezierCurveTo(bt[gn],bt[gn+1],bt[gn+2],bt[gn+3],Bt,on),jt.updateCurvePathMinMax(En,yn,Sn,bt[gn],bt[gn+1],bt[gn+2],bt[gn+3],Bt,on,Tn),gn+=6;break;case a.OPS.curveTo2:yn=Bt,Sn=on,Mt.bezierCurveTo(Bt,on,bt[gn],bt[gn+1],bt[gn+2],bt[gn+3]),jt.updateCurvePathMinMax(En,yn,Sn,Bt,on,bt[gn],bt[gn+1],bt[gn+2],bt[gn+3],Tn),Bt=bt[gn+2],on=bt[gn+3],gn+=4;break;case a.OPS.curveTo3:yn=Bt,Sn=on,Bt=bt[gn+2],on=bt[gn+3],Mt.bezierCurveTo(bt[gn],bt[gn+1],Bt,on,Bt,on),jt.updateCurvePathMinMax(En,yn,Sn,bt[gn],bt[gn+1],Bt,on,Bt,on,Tn),gn+=4;break;case a.OPS.closePath:Mt.closePath();break}kn&&jt.updateScalingPathMinMax(En,Tn),jt.setCurrentPoint(Bt,on)}closePath(){this.ctx.closePath()}stroke(ot=!0){const bt=this.ctx,Pt=this.current.strokeColor;bt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Pt=="object"&&(Pt!=null&&Pt.getPattern)?(bt.save(),bt.strokeStyle=Pt.getPattern(bt,this,(0,c.getCurrentTransformInverse)(bt),d.PathType.STROKE),this.rescaleAndStroke(!1),bt.restore()):this.rescaleAndStroke(!0)),ot&&this.consumePath(this.current.getClippedPathBoundingBox()),bt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ot=!0){const bt=this.ctx,Pt=this.current.fillColor,Mt=this.current.patternFill;let jt=!1;Mt&&(bt.save(),bt.fillStyle=Pt.getPattern(bt,this,(0,c.getCurrentTransformInverse)(bt),d.PathType.FILL),jt=!0);const Bt=this.current.getClippedPathBoundingBox();this.contentVisible&&Bt!==null&&(this.pendingEOFill?(bt.fill("evenodd"),this.pendingEOFill=!1):bt.fill()),jt&&bt.restore(),ot&&this.consumePath(Bt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=zt}eoClip(){this.pendingClip=sn}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ot=this.pendingTextPaths,bt=this.ctx;if(ot===void 0){bt.beginPath();return}bt.save(),bt.beginPath();for(const Pt of ot)bt.setTransform(...Pt.transform),bt.translate(Pt.x,Pt.y),Pt.addToPath(bt,Pt.fontSize);bt.restore(),bt.clip(),bt.beginPath(),delete this.pendingTextPaths}setCharSpacing(ot){this.current.charSpacing=ot}setWordSpacing(ot){this.current.wordSpacing=ot}setHScale(ot){this.current.textHScale=ot/100}setLeading(ot){this.current.leading=-ot}setFont(ot,bt){var En;const Pt=this.commonObjs.get(ot),Mt=this.current;if(!Pt)throw new Error(`Can't find font for ${ot}`);if(Mt.fontMatrix=Pt.fontMatrix||a.FONT_IDENTITY_MATRIX,(Mt.fontMatrix[0]===0||Mt.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+ot),bt<0?(bt=-bt,Mt.fontDirection=-1):Mt.fontDirection=1,this.current.font=Pt,this.current.fontSize=bt,Pt.isType3Font)return;const jt=Pt.loadedName||"sans-serif",Bt=((En=Pt.systemFontInfo)==null?void 0:En.css)||`"${jt}", ${Pt.fallbackName}`;let on="normal";Pt.black?on="900":Pt.bold&&(on="bold");const yn=Pt.italic?"italic":"normal";let Sn=bt;bt<g?Sn=g:bt>_&&(Sn=_),this.current.fontSizeScale=bt/Sn,this.ctx.font=`${yn} ${on} ${Sn}px ${Bt}`}setTextRenderingMode(ot){this.current.textRenderingMode=ot}setTextRise(ot){this.current.textRise=ot}moveText(ot,bt){this.current.x=this.current.lineX+=ot,this.current.y=this.current.lineY+=bt}setLeadingMoveText(ot,bt){this.setLeading(-bt),this.moveText(ot,bt)}setTextMatrix(ot,bt,Pt,Mt,jt,Bt){this.current.textMatrix=[ot,bt,Pt,Mt,jt,Bt],this.current.textMatrixScale=Math.hypot(ot,bt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ot,bt,Pt,Mt){const jt=this.ctx,Bt=this.current,on=Bt.font,yn=Bt.textRenderingMode,Sn=Bt.fontSize/Bt.fontSizeScale,En=yn&a.TextRenderingMode.FILL_STROKE_MASK,kn=!!(yn&a.TextRenderingMode.ADD_TO_PATH_FLAG),Tn=Bt.patternFill&&!on.missingFile;let In;(on.disableFontFace||kn||Tn)&&(In=on.getPathGenerator(this.commonObjs,ot)),on.disableFontFace||Tn?(jt.save(),jt.translate(bt,Pt),jt.beginPath(),In(jt,Sn),Mt&&jt.setTransform(...Mt),(En===a.TextRenderingMode.FILL||En===a.TextRenderingMode.FILL_STROKE)&&jt.fill(),(En===a.TextRenderingMode.STROKE||En===a.TextRenderingMode.FILL_STROKE)&&jt.stroke(),jt.restore()):((En===a.TextRenderingMode.FILL||En===a.TextRenderingMode.FILL_STROKE)&&jt.fillText(ot,bt,Pt),(En===a.TextRenderingMode.STROKE||En===a.TextRenderingMode.FILL_STROKE)&&jt.strokeText(ot,bt,Pt)),kn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,c.getCurrentTransform)(jt),x:bt,y:Pt,fontSize:Sn,addToPath:In})}get isFontSubpixelAAEnabled(){const{context:ot}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ot.scale(1.5,1),ot.fillText("I",0,10);const bt=ot.getImageData(0,0,10,10).data;let Pt=!1;for(let Mt=3;Mt<bt.length;Mt+=4)if(bt[Mt]>0&&bt[Mt]<255){Pt=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",Pt)}showText(ot){const bt=this.current,Pt=bt.font;if(Pt.isType3Font)return this.showType3Text(ot);const Mt=bt.fontSize;if(Mt===0)return;const jt=this.ctx,Bt=bt.fontSizeScale,on=bt.charSpacing,yn=bt.wordSpacing,Sn=bt.fontDirection,En=bt.textHScale*Sn,kn=ot.length,Tn=Pt.vertical,In=Tn?1:-1,gn=Pt.defaultVMetrics,xn=Mt*bt.fontMatrix[0],Tt=bt.textRenderingMode===a.TextRenderingMode.FILL&&!Pt.disableFontFace&&!bt.patternFill;jt.save(),jt.transform(...bt.textMatrix),jt.translate(bt.x,bt.y+bt.textRise),Sn>0?jt.scale(En,-1):jt.scale(En,1);let Yt;if(bt.patternFill){jt.save();const Mn=bt.fillColor.getPattern(jt,this,(0,c.getCurrentTransformInverse)(jt),d.PathType.FILL);Yt=(0,c.getCurrentTransform)(jt),jt.restore(),jt.fillStyle=Mn}let hn=bt.lineWidth;const _n=bt.textMatrixScale;if(_n===0||hn===0){const Mn=bt.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(Mn===a.TextRenderingMode.STROKE||Mn===a.TextRenderingMode.FILL_STROKE)&&(hn=this.getSinglePixelWidth())}else hn/=_n;if(Bt!==1&&(jt.scale(Bt,Bt),hn/=Bt),jt.lineWidth=hn,Pt.isInvalidPDFjsFont){const Mn=[];let pn=0;for(const un of ot)Mn.push(un.unicode),pn+=un.width;jt.fillText(Mn.join(""),0,0),bt.x+=pn*xn*En,jt.restore(),this.compose();return}let Pn=0,Fn;for(Fn=0;Fn<kn;++Fn){const Mn=ot[Fn];if(typeof Mn=="number"){Pn+=In*Mn*Mt/1e3;continue}let pn=!1;const un=(Mn.isSpace?yn:0)+on,vn=Mn.fontChar,$n=Mn.accent;let jn,Xn,zn=Mn.width;if(Tn){const er=Mn.vmetric||gn,rr=-(Mn.vmetric?er[1]:zn*.5)*xn,Rn=er[2]*xn;zn=er?-er[0]:zn,jn=rr/Bt,Xn=(Pn+Rn)/Bt}else jn=Pn/Bt,Xn=0;if(Pt.remeasure&&zn>0){const er=jt.measureText(vn).width*1e3/Mt*Bt;if(zn<er&&this.isFontSubpixelAAEnabled){const rr=zn/er;pn=!0,jt.save(),jt.scale(rr,1),jn/=rr}else zn!==er&&(jn+=(zn-er)/2e3*Mt/Bt)}if(this.contentVisible&&(Mn.isInFont||Pt.missingFile)){if(Tt&&!$n)jt.fillText(vn,jn,Xn);else if(this.paintChar(vn,jn,Xn,Yt),$n){const er=jn+Mt*$n.offset.x/Bt,rr=Xn-Mt*$n.offset.y/Bt;this.paintChar($n.fontChar,er,rr,Yt)}}const Hn=Tn?zn*xn-un*Sn:zn*xn+un*Sn;Pn+=Hn,pn&&jt.restore()}Tn?bt.y-=Pn:bt.x+=Pn*En,jt.restore(),this.compose()}showType3Text(ot){const bt=this.ctx,Pt=this.current,Mt=Pt.font,jt=Pt.fontSize,Bt=Pt.fontDirection,on=Mt.vertical?1:-1,yn=Pt.charSpacing,Sn=Pt.wordSpacing,En=Pt.textHScale*Bt,kn=Pt.fontMatrix||a.FONT_IDENTITY_MATRIX,Tn=ot.length,In=Pt.textRenderingMode===a.TextRenderingMode.INVISIBLE;let gn,xn,Tt,Yt;if(!(In||jt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,bt.save(),bt.transform(...Pt.textMatrix),bt.translate(Pt.x,Pt.y),bt.scale(En,Bt),gn=0;gn<Tn;++gn){if(xn=ot[gn],typeof xn=="number"){Yt=on*xn*jt/1e3,this.ctx.translate(Yt,0),Pt.x+=Yt*En;continue}const hn=(xn.isSpace?Sn:0)+yn,_n=Mt.charProcOperatorList[xn.operatorListId];if(!_n){(0,a.warn)(`Type3 character "${xn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=xn,this.save(),bt.scale(jt,jt),bt.transform(...kn),this.executeOperatorList(_n),this.restore()),Tt=a.Util.applyTransform([xn.width,0],kn)[0]*jt+hn,bt.translate(Tt,0),Pt.x+=Tt*En}bt.restore(),this.processingType3=null}}setCharWidth(ot,bt){}setCharWidthAndBounds(ot,bt,Pt,Mt,jt,Bt){this.ctx.rect(Pt,Mt,jt-Pt,Bt-Mt),this.ctx.clip(),this.endPath()}getColorN_Pattern(ot){let bt;if(ot[0]==="TilingPattern"){const Pt=ot[1],Mt=this.baseTransform||(0,c.getCurrentTransform)(this.ctx),jt={createCanvasGraphics:Bt=>new rn(Bt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};bt=new d.TilingPattern(ot,Pt,this.ctx,jt,Mt)}else bt=this._getPattern(ot[1],ot[2]);return bt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ot,bt,Pt){const Mt=a.Util.makeHexColor(ot,bt,Pt);this.ctx.strokeStyle=Mt,this.current.strokeColor=Mt}setFillRGBColor(ot,bt,Pt){const Mt=a.Util.makeHexColor(ot,bt,Pt);this.ctx.fillStyle=Mt,this.current.fillColor=Mt,this.current.patternFill=!1}_getPattern(ot,bt=null){let Pt;return this.cachedPatterns.has(ot)?Pt=this.cachedPatterns.get(ot):(Pt=(0,d.getShadingPattern)(this.getObject(ot)),this.cachedPatterns.set(ot,Pt)),bt&&(Pt.matrix=bt),Pt}shadingFill(ot){if(!this.contentVisible)return;const bt=this.ctx;this.save();const Pt=this._getPattern(ot);bt.fillStyle=Pt.getPattern(bt,this,(0,c.getCurrentTransformInverse)(bt),d.PathType.SHADING);const Mt=(0,c.getCurrentTransformInverse)(bt);if(Mt){const{width:jt,height:Bt}=bt.canvas,[on,yn,Sn,En]=a.Util.getAxialAlignedBoundingBox([0,0,jt,Bt],Mt);this.ctx.fillRect(on,yn,Sn-on,En-yn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ot,bt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ot)&&ot.length===6&&this.transform(...ot),this.baseTransform=(0,c.getCurrentTransform)(this.ctx),bt)){const Pt=bt[2]-bt[0],Mt=bt[3]-bt[1];this.ctx.rect(bt[0],bt[1],Pt,Mt),this.current.updateRectMinMax((0,c.getCurrentTransform)(this.ctx),bt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ot){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const bt=this.ctx;ot.isolated||(0,a.info)("TODO: Support non-isolated groups."),ot.knockout&&(0,a.warn)("Knockout groups not supported.");const Pt=(0,c.getCurrentTransform)(bt);if(ot.matrix&&bt.transform(...ot.matrix),!ot.bbox)throw new Error("Bounding box is required.");let Mt=a.Util.getAxialAlignedBoundingBox(ot.bbox,(0,c.getCurrentTransform)(bt));const jt=[0,0,bt.canvas.width,bt.canvas.height];Mt=a.Util.intersect(Mt,jt)||[0,0,0,0];const Bt=Math.floor(Mt[0]),on=Math.floor(Mt[1]);let yn=Math.max(Math.ceil(Mt[2])-Bt,1),Sn=Math.max(Math.ceil(Mt[3])-on,1),En=1,kn=1;yn>b&&(En=yn/b,yn=b),Sn>b&&(kn=Sn/b,Sn=b),this.current.startNewPathAndClipBox([0,0,yn,Sn]);let Tn="groupAt"+this.groupLevel;ot.smask&&(Tn+="_smask_"+this.smaskCounter++%2);const In=this.cachedCanvases.getCanvas(Tn,yn,Sn),gn=In.context;gn.scale(1/En,1/kn),gn.translate(-Bt,-on),gn.transform(...Pt),ot.smask?this.smaskStack.push({canvas:In.canvas,context:gn,offsetX:Bt,offsetY:on,scaleX:En,scaleY:kn,subtype:ot.smask.subtype,backdrop:ot.smask.backdrop,transferMap:ot.smask.transferMap||null,startTransformInverse:null}):(bt.setTransform(1,0,0,1,0,0),bt.translate(Bt,on),bt.scale(En,kn),bt.save()),ht(bt,gn),this.ctx=gn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(bt),this.groupLevel++}endGroup(ot){if(!this.contentVisible)return;this.groupLevel--;const bt=this.ctx,Pt=this.groupStack.pop();if(this.ctx=Pt,this.ctx.imageSmoothingEnabled=!1,ot.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Mt=(0,c.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Mt);const jt=a.Util.getAxialAlignedBoundingBox([0,0,bt.canvas.width,bt.canvas.height],Mt);this.ctx.drawImage(bt.canvas,0,0),this.ctx.restore(),this.compose(jt)}}beginAnnotation(ot,bt,Pt,Mt,jt){if(an(this,Nt,Ms).call(this),dt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(bt)&&bt.length===4){const Bt=bt[2]-bt[0],on=bt[3]-bt[1];if(jt&&this.annotationCanvasMap){Pt=Pt.slice(),Pt[4]-=bt[0],Pt[5]-=bt[1],bt=bt.slice(),bt[0]=bt[1]=0,bt[2]=Bt,bt[3]=on;const[yn,Sn]=a.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(this.ctx)),{viewportScale:En}=this,kn=Math.ceil(Bt*this.outputScaleX*En),Tn=Math.ceil(on*this.outputScaleY*En);this.annotationCanvas=this.canvasFactory.create(kn,Tn);const{canvas:In,context:gn}=this.annotationCanvas;this.annotationCanvasMap.set(ot,In),this.annotationCanvas.savedCtx=this.ctx,this.ctx=gn,this.ctx.save(),this.ctx.setTransform(yn,0,0,-Sn,0,on*Sn),dt(this.ctx)}else dt(this.ctx),this.ctx.rect(bt[0],bt[1],Bt,on),this.ctx.clip(),this.endPath()}this.current=new rt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Pt),this.transform(...Mt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),an(this,Nt,Os).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ot){if(!this.contentVisible)return;const bt=ot.count;ot=this.getObject(ot.data,ot),ot.count=bt;const Pt=this.ctx,Mt=this.processingType3;if(Mt&&(Mt.compiled===void 0&&(Mt.compiled=nt(ot)),Mt.compiled)){Mt.compiled(Pt);return}const jt=this._createMaskCanvas(ot),Bt=jt.canvas;Pt.save(),Pt.setTransform(1,0,0,1,0,0),Pt.drawImage(Bt,jt.offsetX,jt.offsetY),Pt.restore(),this.compose()}paintImageMaskXObjectRepeat(ot,bt,Pt=0,Mt=0,jt,Bt){if(!this.contentVisible)return;ot=this.getObject(ot.data,ot);const on=this.ctx;on.save();const yn=(0,c.getCurrentTransform)(on);on.transform(bt,Pt,Mt,jt,0,0);const Sn=this._createMaskCanvas(ot);on.setTransform(1,0,0,1,Sn.offsetX-yn[4],Sn.offsetY-yn[5]);for(let En=0,kn=Bt.length;En<kn;En+=2){const Tn=a.Util.transform(yn,[bt,Pt,Mt,jt,Bt[En],Bt[En+1]]),[In,gn]=a.Util.applyTransform([0,0],Tn);on.drawImage(Sn.canvas,In,gn)}on.restore(),this.compose()}paintImageMaskXObjectGroup(ot){if(!this.contentVisible)return;const bt=this.ctx,Pt=this.current.fillColor,Mt=this.current.patternFill;for(const jt of ot){const{data:Bt,width:on,height:yn,transform:Sn}=jt,En=this.cachedCanvases.getCanvas("maskCanvas",on,yn),kn=En.context;kn.save();const Tn=this.getObject(Bt,jt);gt(kn,Tn),kn.globalCompositeOperation="source-in",kn.fillStyle=Mt?Pt.getPattern(kn,this,(0,c.getCurrentTransformInverse)(bt),d.PathType.FILL):Pt,kn.fillRect(0,0,on,yn),kn.restore(),bt.save(),bt.transform(...Sn),bt.scale(1,-1),lt(bt,En.canvas,0,0,on,yn,0,-1,1,1),bt.restore()}this.compose()}paintImageXObject(ot){if(!this.contentVisible)return;const bt=this.getObject(ot);if(!bt){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(bt)}paintImageXObjectRepeat(ot,bt,Pt,Mt){if(!this.contentVisible)return;const jt=this.getObject(ot);if(!jt){(0,a.warn)("Dependent image isn't ready yet");return}const Bt=jt.width,on=jt.height,yn=[];for(let Sn=0,En=Mt.length;Sn<En;Sn+=2)yn.push({transform:[bt,0,0,Pt,Mt[Sn],Mt[Sn+1]],x:0,y:0,w:Bt,h:on});this.paintInlineImageXObjectGroup(jt,yn)}applyTransferMapsToCanvas(ot){return this.current.transferMaps!=="none"&&(ot.filter=this.current.transferMaps,ot.drawImage(ot.canvas,0,0),ot.filter="none"),ot.canvas}applyTransferMapsToBitmap(ot){if(this.current.transferMaps==="none")return ot.bitmap;const{bitmap:bt,width:Pt,height:Mt}=ot,jt=this.cachedCanvases.getCanvas("inlineImage",Pt,Mt),Bt=jt.context;return Bt.filter=this.current.transferMaps,Bt.drawImage(bt,0,0),Bt.filter="none",jt.canvas}paintInlineImageXObject(ot){if(!this.contentVisible)return;const bt=ot.width,Pt=ot.height,Mt=this.ctx;if(this.save(),!a.isNodeJS){const{filter:on}=Mt;on!=="none"&&on!==""&&(Mt.filter="none")}Mt.scale(1/bt,-1/Pt);let jt;if(ot.bitmap)jt=this.applyTransferMapsToBitmap(ot);else if(typeof HTMLElement=="function"&&ot instanceof HTMLElement||!ot.data)jt=ot;else{const yn=this.cachedCanvases.getCanvas("inlineImage",bt,Pt).context;pt(yn,ot),jt=this.applyTransferMapsToCanvas(yn)}const Bt=this._scaleImage(jt,(0,c.getCurrentTransformInverse)(Mt));Mt.imageSmoothingEnabled=St((0,c.getCurrentTransform)(Mt),ot.interpolate),lt(Mt,Bt.img,0,0,Bt.paintWidth,Bt.paintHeight,0,-Pt,bt,Pt),this.compose(),this.restore()}paintInlineImageXObjectGroup(ot,bt){if(!this.contentVisible)return;const Pt=this.ctx;let Mt;if(ot.bitmap)Mt=ot.bitmap;else{const jt=ot.width,Bt=ot.height,yn=this.cachedCanvases.getCanvas("inlineImage",jt,Bt).context;pt(yn,ot),Mt=this.applyTransferMapsToCanvas(yn)}for(const jt of bt)Pt.save(),Pt.transform(...jt.transform),Pt.scale(1,-1),lt(Pt,Mt,jt.x,jt.y,jt.w,jt.h,0,-1,1,1),Pt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ot){}markPointProps(ot,bt){}beginMarkedContent(ot){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ot,bt){ot==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(bt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ot){const bt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ot);const Pt=this.ctx;this.pendingClip&&(bt||(this.pendingClip===sn?Pt.clip("evenodd"):Pt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Pt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ot=(0,c.getCurrentTransform)(this.ctx);if(ot[1]===0&&ot[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ot[0]),Math.abs(ot[3]));else{const bt=Math.abs(ot[0]*ot[3]-ot[2]*ot[1]),Pt=Math.hypot(ot[0],ot[2]),Mt=Math.hypot(ot[1],ot[3]);this._cachedGetSinglePixelWidth=Math.max(Pt,Mt)/bt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:ot}=this.current,{a:bt,b:Pt,c:Mt,d:jt}=this.ctx.getTransform();let Bt,on;if(Pt===0&&Mt===0){const yn=Math.abs(bt),Sn=Math.abs(jt);if(yn===Sn)if(ot===0)Bt=on=1/yn;else{const En=yn*ot;Bt=on=En<1?1/En:1}else if(ot===0)Bt=1/yn,on=1/Sn;else{const En=yn*ot,kn=Sn*ot;Bt=En<1?1/En:1,on=kn<1?1/kn:1}}else{const yn=Math.abs(bt*jt-Pt*Mt),Sn=Math.hypot(bt,Pt),En=Math.hypot(Mt,jt);if(ot===0)Bt=En/yn,on=Sn/yn;else{const kn=ot*yn;Bt=En>kn?En/kn:1,on=Sn>kn?Sn/kn:1}}this._cachedScaleForStroking[0]=Bt,this._cachedScaleForStroking[1]=on}return this._cachedScaleForStroking}rescaleAndStroke(ot){const{ctx:bt}=this,{lineWidth:Pt}=this.current,[Mt,jt]=this.getScaleForStroking();if(bt.lineWidth=Pt||1,Mt===1&&jt===1){bt.stroke();return}const Bt=bt.getLineDash();if(ot&&bt.save(),bt.scale(Mt,jt),Bt.length>0){const on=Math.max(Mt,jt);bt.setLineDash(Bt.map(yn=>yn/on)),bt.lineDashOffset/=on}bt.stroke(),ot&&bt.restore()}isContentVisible(){for(let ot=this.markedContentStack.length-1;ot>=0;ot--)if(!this.markedContentStack[ot].visible)return!1;return!0}};Nt=new WeakSet,Ms=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Os=function(){if(this.pageColors){const ot=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(ot!=="none"){const bt=this.ctx.filter;this.ctx.filter=ot,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=bt}}};let en=rn;s.CanvasGraphics=en;for(const kt in a.OPS)en.prototype[kt]!==void 0&&(en.prototype[a.OPS[kt]]=en.prototype[kt])},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=tt;var a=o(1),c=o(6);const d={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=d;function h(nt,rt){if(!rt)return;const pt=rt[2]-rt[0],gt=rt[3]-rt[1],ht=new Path2D;ht.rect(rt[0],rt[1],pt,gt),nt.clip(ht)}class g{constructor(){this.constructor===g&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class _ extends g{constructor(rt){super(),this._type=rt[1],this._bbox=rt[2],this._colorStops=rt[3],this._p0=rt[4],this._p1=rt[5],this._r0=rt[6],this._r1=rt[7],this.matrix=null}_createGradient(rt){let pt;this._type==="axial"?pt=rt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(pt=rt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const gt of this._colorStops)pt.addColorStop(gt[0],gt[1]);return pt}getPattern(rt,pt,gt,ht){let dt;if(ht===d.STROKE||ht===d.FILL){const mt=pt.current.getClippedPathBoundingBox(ht,(0,c.getCurrentTransform)(rt))||[0,0,0,0],yt=Math.ceil(mt[2]-mt[0])||1,xt=Math.ceil(mt[3]-mt[1])||1,Et=pt.cachedCanvases.getCanvas("pattern",yt,xt,!0),vt=Et.context;vt.clearRect(0,0,vt.canvas.width,vt.canvas.height),vt.beginPath(),vt.rect(0,0,vt.canvas.width,vt.canvas.height),vt.translate(-mt[0],-mt[1]),gt=a.Util.transform(gt,[1,0,0,1,mt[0],mt[1]]),vt.transform(...pt.baseTransform),this.matrix&&vt.transform(...this.matrix),h(vt,this._bbox),vt.fillStyle=this._createGradient(vt),vt.fill(),dt=rt.createPattern(Et.canvas,"no-repeat");const St=new DOMMatrix(gt);dt.setTransform(St)}else h(rt,this._bbox),dt=this._createGradient(rt);return dt}}function b(nt,rt,pt,gt,ht,dt,mt,yt){const xt=rt.coords,Et=rt.colors,vt=nt.data,St=nt.width*4;let Rt;xt[pt+1]>xt[gt+1]&&(Rt=pt,pt=gt,gt=Rt,Rt=dt,dt=mt,mt=Rt),xt[gt+1]>xt[ht+1]&&(Rt=gt,gt=ht,ht=Rt,Rt=mt,mt=yt,yt=Rt),xt[pt+1]>xt[gt+1]&&(Rt=pt,pt=gt,gt=Rt,Rt=dt,dt=mt,mt=Rt);const nn=(xt[pt]+rt.offsetX)*rt.scaleX,zt=(xt[pt+1]+rt.offsetY)*rt.scaleY,sn=(xt[gt]+rt.offsetX)*rt.scaleX,en=(xt[gt+1]+rt.offsetY)*rt.scaleY,Nt=(xt[ht]+rt.offsetX)*rt.scaleX,At=(xt[ht+1]+rt.offsetY)*rt.scaleY;if(zt>=At)return;const wt=Et[dt],rn=Et[dt+1],kt=Et[dt+2],ot=Et[mt],bt=Et[mt+1],Pt=Et[mt+2],Mt=Et[yt],jt=Et[yt+1],Bt=Et[yt+2],on=Math.round(zt),yn=Math.round(At);let Sn,En,kn,Tn,In,gn,xn,Tt;for(let Yt=on;Yt<=yn;Yt++){if(Yt<en){const Mn=Yt<zt?0:(zt-Yt)/(zt-en);Sn=nn-(nn-sn)*Mn,En=wt-(wt-ot)*Mn,kn=rn-(rn-bt)*Mn,Tn=kt-(kt-Pt)*Mn}else{let Mn;Yt>At?Mn=1:en===At?Mn=0:Mn=(en-Yt)/(en-At),Sn=sn-(sn-Nt)*Mn,En=ot-(ot-Mt)*Mn,kn=bt-(bt-jt)*Mn,Tn=Pt-(Pt-Bt)*Mn}let hn;Yt<zt?hn=0:Yt>At?hn=1:hn=(zt-Yt)/(zt-At),In=nn-(nn-Nt)*hn,gn=wt-(wt-Mt)*hn,xn=rn-(rn-jt)*hn,Tt=kt-(kt-Bt)*hn;const _n=Math.round(Math.min(Sn,In)),Pn=Math.round(Math.max(Sn,In));let Fn=St*Yt+_n*4;for(let Mn=_n;Mn<=Pn;Mn++)hn=(Sn-Mn)/(Sn-In),hn<0?hn=0:hn>1&&(hn=1),vt[Fn++]=En-(En-gn)*hn|0,vt[Fn++]=kn-(kn-xn)*hn|0,vt[Fn++]=Tn-(Tn-Tt)*hn|0,vt[Fn++]=255}}function $(nt,rt,pt){const gt=rt.coords,ht=rt.colors;let dt,mt;switch(rt.type){case"lattice":const yt=rt.verticesPerRow,xt=Math.floor(gt.length/yt)-1,Et=yt-1;for(dt=0;dt<xt;dt++){let vt=dt*yt;for(let St=0;St<Et;St++,vt++)b(nt,pt,gt[vt],gt[vt+1],gt[vt+yt],ht[vt],ht[vt+1],ht[vt+yt]),b(nt,pt,gt[vt+yt+1],gt[vt+1],gt[vt+yt],ht[vt+yt+1],ht[vt+1],ht[vt+yt])}break;case"triangles":for(dt=0,mt=gt.length;dt<mt;dt+=3)b(nt,pt,gt[dt],gt[dt+1],gt[dt+2],ht[dt],ht[dt+1],ht[dt+2]);break;default:throw new Error("illegal figure")}}class et extends g{constructor(rt){super(),this._coords=rt[2],this._colors=rt[3],this._figures=rt[4],this._bounds=rt[5],this._bbox=rt[7],this._background=rt[8],this.matrix=null}_createMeshCanvas(rt,pt,gt){const yt=Math.floor(this._bounds[0]),xt=Math.floor(this._bounds[1]),Et=Math.ceil(this._bounds[2])-yt,vt=Math.ceil(this._bounds[3])-xt,St=Math.min(Math.ceil(Math.abs(Et*rt[0]*1.1)),3e3),Rt=Math.min(Math.ceil(Math.abs(vt*rt[1]*1.1)),3e3),nn=Et/St,zt=vt/Rt,sn={coords:this._coords,colors:this._colors,offsetX:-yt,offsetY:-xt,scaleX:1/nn,scaleY:1/zt},en=St+2*2,Nt=Rt+2*2,At=gt.getCanvas("mesh",en,Nt,!1),wt=At.context,rn=wt.createImageData(St,Rt);if(pt){const ot=rn.data;for(let bt=0,Pt=ot.length;bt<Pt;bt+=4)ot[bt]=pt[0],ot[bt+1]=pt[1],ot[bt+2]=pt[2],ot[bt+3]=255}for(const ot of this._figures)$(rn,ot,sn);return wt.putImageData(rn,2,2),{canvas:At.canvas,offsetX:yt-2*nn,offsetY:xt-2*zt,scaleX:nn,scaleY:zt}}getPattern(rt,pt,gt,ht){h(rt,this._bbox);let dt;if(ht===d.SHADING)dt=a.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(rt));else if(dt=a.Util.singularValueDecompose2dScale(pt.baseTransform),this.matrix){const yt=a.Util.singularValueDecompose2dScale(this.matrix);dt=[dt[0]*yt[0],dt[1]*yt[1]]}const mt=this._createMeshCanvas(dt,ht===d.SHADING?null:this._background,pt.cachedCanvases);return ht!==d.SHADING&&(rt.setTransform(...pt.baseTransform),this.matrix&&rt.transform(...this.matrix)),rt.translate(mt.offsetX,mt.offsetY),rt.scale(mt.scaleX,mt.scaleY),rt.createPattern(mt.canvas,"no-repeat")}}class _e extends g{getPattern(){return"hotpink"}}function tt(nt){switch(nt[0]){case"RadialAxial":return new _(nt);case"Mesh":return new et(nt);case"Dummy":return new _e}throw new Error(`Unknown IR type: ${nt[0]}`)}const it={COLORED:1,UNCOLORED:2},lt=class lt{constructor(rt,pt,gt,ht,dt){this.operatorList=rt[2],this.matrix=rt[3]||[1,0,0,1,0,0],this.bbox=rt[4],this.xstep=rt[5],this.ystep=rt[6],this.paintType=rt[7],this.tilingType=rt[8],this.color=pt,this.ctx=gt,this.canvasGraphicsFactory=ht,this.baseTransform=dt}createPatternCanvas(rt){const pt=this.operatorList,gt=this.bbox,ht=this.xstep,dt=this.ystep,mt=this.paintType,yt=this.tilingType,xt=this.color,Et=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+yt);const vt=gt[0],St=gt[1],Rt=gt[2],nn=gt[3],zt=a.Util.singularValueDecompose2dScale(this.matrix),sn=a.Util.singularValueDecompose2dScale(this.baseTransform),en=[zt[0]*sn[0],zt[1]*sn[1]],Nt=this.getSizeAndScale(ht,this.ctx.canvas.width,en[0]),At=this.getSizeAndScale(dt,this.ctx.canvas.height,en[1]),wt=rt.cachedCanvases.getCanvas("pattern",Nt.size,At.size,!0),rn=wt.context,kt=Et.createCanvasGraphics(rn);kt.groupLevel=rt.groupLevel,this.setFillAndStrokeStyleToContext(kt,mt,xt);let ot=vt,bt=St,Pt=Rt,Mt=nn;return vt<0&&(ot=0,Pt+=Math.abs(vt)),St<0&&(bt=0,Mt+=Math.abs(St)),rn.translate(-(Nt.scale*ot),-(At.scale*bt)),kt.transform(Nt.scale,0,0,At.scale,0,0),rn.save(),this.clipBbox(kt,ot,bt,Pt,Mt),kt.baseTransform=(0,c.getCurrentTransform)(kt.ctx),kt.executeOperatorList(pt),kt.endDrawing(),{canvas:wt.canvas,scaleX:Nt.scale,scaleY:At.scale,offsetX:ot,offsetY:bt}}getSizeAndScale(rt,pt,gt){rt=Math.abs(rt);const ht=Math.max(lt.MAX_PATTERN_SIZE,pt);let dt=Math.ceil(rt*gt);return dt>=ht?dt=ht:gt=dt/rt,{scale:gt,size:dt}}clipBbox(rt,pt,gt,ht,dt){const mt=ht-pt,yt=dt-gt;rt.ctx.rect(pt,gt,mt,yt),rt.current.updateRectMinMax((0,c.getCurrentTransform)(rt.ctx),[pt,gt,ht,dt]),rt.clip(),rt.endPath()}setFillAndStrokeStyleToContext(rt,pt,gt){const ht=rt.ctx,dt=rt.current;switch(pt){case it.COLORED:const mt=this.ctx;ht.fillStyle=mt.fillStyle,ht.strokeStyle=mt.strokeStyle,dt.fillColor=mt.fillStyle,dt.strokeColor=mt.strokeStyle;break;case it.UNCOLORED:const yt=a.Util.makeHexColor(gt[0],gt[1],gt[2]);ht.fillStyle=yt,ht.strokeStyle=yt,dt.fillColor=yt,dt.strokeColor=yt;break;default:throw new a.FormatError(`Unsupported paint type: ${pt}`)}}getPattern(rt,pt,gt,ht){let dt=gt;ht!==d.SHADING&&(dt=a.Util.transform(dt,pt.baseTransform),this.matrix&&(dt=a.Util.transform(dt,this.matrix)));const mt=this.createPatternCanvas(pt);let yt=new DOMMatrix(dt);yt=yt.translate(mt.offsetX,mt.offsetY),yt=yt.scale(1/mt.scaleX,1/mt.scaleY);const xt=rt.createPattern(mt.canvas,"repeat");return xt.setTransform(yt),xt}};or(lt,"MAX_PATTERN_SIZE",3e3);let st=lt;s.TilingPattern=st},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=d,s.convertToRGBA=c,s.grayToRGBA=g;var a=o(1);function c(_){switch(_.kind){case a.ImageKind.GRAYSCALE_1BPP:return d(_);case a.ImageKind.RGB_24BPP:return h(_)}return null}function d({src:_,srcPos:b=0,dest:$,width:et,height:_e,nonBlackColor:tt=4294967295,inverseDecode:it=!1}){const st=a.FeatureTest.isLittleEndian?4278190080:255,[lt,nt]=it?[tt,st]:[st,tt],rt=et>>3,pt=et&7,gt=_.length;$=new Uint32Array($.buffer);let ht=0;for(let dt=0;dt<_e;dt++){for(const yt=b+rt;b<yt;b++){const xt=b<gt?_[b]:255;$[ht++]=xt&128?nt:lt,$[ht++]=xt&64?nt:lt,$[ht++]=xt&32?nt:lt,$[ht++]=xt&16?nt:lt,$[ht++]=xt&8?nt:lt,$[ht++]=xt&4?nt:lt,$[ht++]=xt&2?nt:lt,$[ht++]=xt&1?nt:lt}if(pt===0)continue;const mt=b<gt?_[b++]:255;for(let yt=0;yt<pt;yt++)$[ht++]=mt&1<<7-yt?nt:lt}return{srcPos:b,destPos:ht}}function h({src:_,srcPos:b=0,dest:$,destPos:et=0,width:_e,height:tt}){let it=0;const st=_.length>>2,lt=new Uint32Array(_.buffer,b,st);if(a.FeatureTest.isLittleEndian){for(;it<st-2;it+=3,et+=4){const nt=lt[it],rt=lt[it+1],pt=lt[it+2];$[et]=nt|4278190080,$[et+1]=nt>>>24|rt<<8|4278190080,$[et+2]=rt>>>16|pt<<16|4278190080,$[et+3]=pt>>>8|4278190080}for(let nt=it*4,rt=_.length;nt<rt;nt+=3)$[et++]=_[nt]|_[nt+1]<<8|_[nt+2]<<16|4278190080}else{for(;it<st-2;it+=3,et+=4){const nt=lt[it],rt=lt[it+1],pt=lt[it+2];$[et]=nt|255,$[et+1]=nt<<24|rt>>>8|255,$[et+2]=rt<<16|pt>>>16|255,$[et+3]=pt<<8|255}for(let nt=it*4,rt=_.length;nt<rt;nt+=3)$[et++]=_[nt]<<24|_[nt+1]<<16|_[nt+2]<<8|255}return{srcPos:b,destPos:et}}function g(_,b){if(a.FeatureTest.isLittleEndian)for(let $=0,et=_.length;$<et;$++)b[$]=_[$]*65793|4278190080;else for(let $=0,et=_.length;$<et;$++)b[$]=_[$]*16843008|255}},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const o=Object.create(null);s.GlobalWorkerOptions=o,o.workerPort=null,o.workerSrc=""},(i,s,o)=>{var _,xo,_o,cs;Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var a=o(1);const c={UNKNOWN:0,DATA:1,ERROR:2},d={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function h(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new a.AbortException(_e.message);case"MissingPDFException":return new a.MissingPDFException(_e.message);case"PasswordException":return new a.PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new a.UnknownErrorException(_e.message,_e.details);default:return new a.UnknownErrorException(_e.message,_e.toString())}}class g{constructor(tt,it,st){fn(this,_);this.sourceName=tt,this.targetName=it,this.comObj=st,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=lt=>{const nt=lt.data;if(nt.targetName!==this.sourceName)return;if(nt.stream){an(this,_,_o).call(this,nt);return}if(nt.callback){const pt=nt.callbackId,gt=this.callbackCapabilities[pt];if(!gt)throw new Error(`Cannot resolve callback ${pt}`);if(delete this.callbackCapabilities[pt],nt.callback===c.DATA)gt.resolve(nt.data);else if(nt.callback===c.ERROR)gt.reject(h(nt.reason));else throw new Error("Unexpected callback case");return}const rt=this.actionHandler[nt.action];if(!rt)throw new Error(`Unknown action from worker: ${nt.action}`);if(nt.callbackId){const pt=this.sourceName,gt=nt.sourceName;new Promise(function(ht){ht(rt(nt.data))}).then(function(ht){st.postMessage({sourceName:pt,targetName:gt,callback:c.DATA,callbackId:nt.callbackId,data:ht})},function(ht){st.postMessage({sourceName:pt,targetName:gt,callback:c.ERROR,callbackId:nt.callbackId,reason:h(ht)})});return}if(nt.streamId){an(this,_,xo).call(this,nt);return}rt(nt.data)},st.addEventListener("message",this._onComObjOnMessage)}on(tt,it){const st=this.actionHandler;if(st[tt])throw new Error(`There is already an actionName called "${tt}"`);st[tt]=it}send(tt,it,st){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:tt,data:it},st)}sendWithPromise(tt,it,st){const lt=this.callbackId++,nt=new a.PromiseCapability;this.callbackCapabilities[lt]=nt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:tt,callbackId:lt,data:it},st)}catch(rt){nt.reject(rt)}return nt.promise}sendWithStream(tt,it,st,lt){const nt=this.streamId++,rt=this.sourceName,pt=this.targetName,gt=this.comObj;return new ReadableStream({start:ht=>{const dt=new a.PromiseCapability;return this.streamControllers[nt]={controller:ht,startCall:dt,pullCall:null,cancelCall:null,isClosed:!1},gt.postMessage({sourceName:rt,targetName:pt,action:tt,streamId:nt,data:it,desiredSize:ht.desiredSize},lt),dt.promise},pull:ht=>{const dt=new a.PromiseCapability;return this.streamControllers[nt].pullCall=dt,gt.postMessage({sourceName:rt,targetName:pt,stream:d.PULL,streamId:nt,desiredSize:ht.desiredSize}),dt.promise},cancel:ht=>{(0,a.assert)(ht instanceof Error,"cancel must have a valid reason");const dt=new a.PromiseCapability;return this.streamControllers[nt].cancelCall=dt,this.streamControllers[nt].isClosed=!0,gt.postMessage({sourceName:rt,targetName:pt,stream:d.CANCEL,streamId:nt,reason:h(ht)}),dt.promise}},st)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}_=new WeakSet,xo=function(tt){const it=tt.streamId,st=this.sourceName,lt=tt.sourceName,nt=this.comObj,rt=this,pt=this.actionHandler[tt.action],gt={enqueue(ht,dt=1,mt){if(this.isCancelled)return;const yt=this.desiredSize;this.desiredSize-=dt,yt>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),nt.postMessage({sourceName:st,targetName:lt,stream:d.ENQUEUE,streamId:it,chunk:ht},mt)},close(){this.isCancelled||(this.isCancelled=!0,nt.postMessage({sourceName:st,targetName:lt,stream:d.CLOSE,streamId:it}),delete rt.streamSinks[it])},error(ht){(0,a.assert)(ht instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,nt.postMessage({sourceName:st,targetName:lt,stream:d.ERROR,streamId:it,reason:h(ht)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:tt.desiredSize,ready:null};gt.sinkCapability.resolve(),gt.ready=gt.sinkCapability.promise,this.streamSinks[it]=gt,new Promise(function(ht){ht(pt(tt.data,gt))}).then(function(){nt.postMessage({sourceName:st,targetName:lt,stream:d.START_COMPLETE,streamId:it,success:!0})},function(ht){nt.postMessage({sourceName:st,targetName:lt,stream:d.START_COMPLETE,streamId:it,reason:h(ht)})})},_o=function(tt){const it=tt.streamId,st=this.sourceName,lt=tt.sourceName,nt=this.comObj,rt=this.streamControllers[it],pt=this.streamSinks[it];switch(tt.stream){case d.START_COMPLETE:tt.success?rt.startCall.resolve():rt.startCall.reject(h(tt.reason));break;case d.PULL_COMPLETE:tt.success?rt.pullCall.resolve():rt.pullCall.reject(h(tt.reason));break;case d.PULL:if(!pt){nt.postMessage({sourceName:st,targetName:lt,stream:d.PULL_COMPLETE,streamId:it,success:!0});break}pt.desiredSize<=0&&tt.desiredSize>0&&pt.sinkCapability.resolve(),pt.desiredSize=tt.desiredSize,new Promise(function(gt){var ht;gt((ht=pt.onPull)==null?void 0:ht.call(pt))}).then(function(){nt.postMessage({sourceName:st,targetName:lt,stream:d.PULL_COMPLETE,streamId:it,success:!0})},function(gt){nt.postMessage({sourceName:st,targetName:lt,stream:d.PULL_COMPLETE,streamId:it,reason:h(gt)})});break;case d.ENQUEUE:if((0,a.assert)(rt,"enqueue should have stream controller"),rt.isClosed)break;rt.controller.enqueue(tt.chunk);break;case d.CLOSE:if((0,a.assert)(rt,"close should have stream controller"),rt.isClosed)break;rt.isClosed=!0,rt.controller.close(),an(this,_,cs).call(this,rt,it);break;case d.ERROR:(0,a.assert)(rt,"error should have stream controller"),rt.controller.error(h(tt.reason)),an(this,_,cs).call(this,rt,it);break;case d.CANCEL_COMPLETE:tt.success?rt.cancelCall.resolve():rt.cancelCall.reject(h(tt.reason)),an(this,_,cs).call(this,rt,it);break;case d.CANCEL:if(!pt)break;new Promise(function(gt){var ht;gt((ht=pt.onCancel)==null?void 0:ht.call(pt,h(tt.reason)))}).then(function(){nt.postMessage({sourceName:st,targetName:lt,stream:d.CANCEL_COMPLETE,streamId:it,success:!0})},function(gt){nt.postMessage({sourceName:st,targetName:lt,stream:d.CANCEL_COMPLETE,streamId:it,reason:h(gt)})}),pt.sinkCapability.reject(h(tt.reason)),pt.isCancelled=!0,delete this.streamSinks[it];break;default:throw new Error("Unexpected stream case")}},cs=async function(tt,it){var st,lt,nt;await Promise.allSettled([(st=tt.startCall)==null?void 0:st.promise,(lt=tt.pullCall)==null?void 0:lt.promise,(nt=tt.cancelCall)==null?void 0:nt.promise]),delete this.streamControllers[it]},s.MessageHandler=g},(i,s,o)=>{var d,h;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var a=o(1);class c{constructor({parsedData:_,rawData:b}){fn(this,d);fn(this,h);dn(this,d,_),dn(this,h,b)}getRaw(){return at(this,h)}get(_){return at(this,d).get(_)??null}getAll(){return(0,a.objectFromMap)(at(this,d))}has(_){return at(this,d).has(_)}}d=new WeakMap,h=new WeakMap,s.Metadata=c},(i,s,o)=>{var _,b,$,et,_e,tt,Ls;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var a=o(1),c=o(8);const d=Symbol("INTERNAL");class h{constructor(lt,nt){fn(this,_,!0);this.name=lt,this.intent=nt}get visible(){return at(this,_)}_setVisible(lt,nt){lt!==d&&(0,a.unreachable)("Internal method `_setVisible` called."),dn(this,_,nt)}}_=new WeakMap;class g{constructor(lt){fn(this,tt);fn(this,b,null);fn(this,$,new Map);fn(this,et,null);fn(this,_e,null);if(this.name=null,this.creator=null,lt!==null){this.name=lt.name,this.creator=lt.creator,dn(this,_e,lt.order);for(const nt of lt.groups)at(this,$).set(nt.id,new h(nt.name,nt.intent));if(lt.baseState==="OFF")for(const nt of at(this,$).values())nt._setVisible(d,!1);for(const nt of lt.on)at(this,$).get(nt)._setVisible(d,!0);for(const nt of lt.off)at(this,$).get(nt)._setVisible(d,!1);dn(this,et,this.getHash())}}isVisible(lt){if(at(this,$).size===0)return!0;if(!lt)return(0,a.warn)("Optional content group not defined."),!0;if(lt.type==="OCG")return at(this,$).has(lt.id)?at(this,$).get(lt.id).visible:((0,a.warn)(`Optional content group not found: ${lt.id}`),!0);if(lt.type==="OCMD"){if(lt.expression)return an(this,tt,Ls).call(this,lt.expression);if(!lt.policy||lt.policy==="AnyOn"){for(const nt of lt.ids){if(!at(this,$).has(nt))return(0,a.warn)(`Optional content group not found: ${nt}`),!0;if(at(this,$).get(nt).visible)return!0}return!1}else if(lt.policy==="AllOn"){for(const nt of lt.ids){if(!at(this,$).has(nt))return(0,a.warn)(`Optional content group not found: ${nt}`),!0;if(!at(this,$).get(nt).visible)return!1}return!0}else if(lt.policy==="AnyOff"){for(const nt of lt.ids){if(!at(this,$).has(nt))return(0,a.warn)(`Optional content group not found: ${nt}`),!0;if(!at(this,$).get(nt).visible)return!0}return!1}else if(lt.policy==="AllOff"){for(const nt of lt.ids){if(!at(this,$).has(nt))return(0,a.warn)(`Optional content group not found: ${nt}`),!0;if(at(this,$).get(nt).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${lt.policy}.`),!0}return(0,a.warn)(`Unknown group type ${lt.type}.`),!0}setVisibility(lt,nt=!0){if(!at(this,$).has(lt)){(0,a.warn)(`Optional content group not found: ${lt}`);return}at(this,$).get(lt)._setVisible(d,!!nt),dn(this,b,null)}get hasInitialVisibility(){return at(this,et)===null||this.getHash()===at(this,et)}getOrder(){return at(this,$).size?at(this,_e)?at(this,_e).slice():[...at(this,$).keys()]:null}getGroups(){return at(this,$).size>0?(0,a.objectFromMap)(at(this,$)):null}getGroup(lt){return at(this,$).get(lt)||null}getHash(){if(at(this,b)!==null)return at(this,b);const lt=new c.MurmurHash3_64;for(const[nt,rt]of at(this,$))lt.update(`${nt}:${rt.visible}`);return dn(this,b,lt.hexdigest())}}b=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,tt=new WeakSet,Ls=function(lt){const nt=lt.length;if(nt<2)return!0;const rt=lt[0];for(let pt=1;pt<nt;pt++){const gt=lt[pt];let ht;if(Array.isArray(gt))ht=an(this,tt,Ls).call(this,gt);else if(at(this,$).has(gt))ht=at(this,$).get(gt).visible;else return(0,a.warn)(`Optional content group not found: ${gt}`),!0;switch(rt){case"And":if(!ht)return!1;break;case"Or":if(ht)return!0;break;case"Not":return!ht;default:return!0}}return rt==="And"},s.OptionalContentConfig=g},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var a=o(1),c=o(6);class d{constructor({length:b,initialData:$,progressiveDone:et=!1,contentDispositionFilename:_e=null,disableRange:tt=!1,disableStream:it=!1},st){if((0,a.assert)(st,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=et,this._contentDispositionFilename=_e,($==null?void 0:$.length)>0){const lt=$ instanceof Uint8Array&&$.byteLength===$.buffer.byteLength?$.buffer:new Uint8Array($).buffer;this._queuedChunks.push(lt)}this._pdfDataRangeTransport=st,this._isStreamingSupported=!it,this._isRangeSupported=!tt,this._contentLength=b,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((lt,nt)=>{this._onReceiveData({begin:lt,chunk:nt})}),this._pdfDataRangeTransport.addProgressListener((lt,nt)=>{this._onProgress({loaded:lt,total:nt})}),this._pdfDataRangeTransport.addProgressiveReadListener(lt=>{this._onReceiveData({chunk:lt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:b,chunk:$}){const et=$ instanceof Uint8Array&&$.byteLength===$.buffer.byteLength?$.buffer:new Uint8Array($).buffer;if(b===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(et):this._queuedChunks.push(et);else{const _e=this._rangeReaders.some(function(tt){return tt._begin!==b?!1:(tt._enqueue(et),!0)});(0,a.assert)(_e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var b;return((b=this._fullRequestReader)==null?void 0:b._loaded)??0}_onProgress(b){var $,et,_e,tt;b.total===void 0?(et=($=this._rangeReaders[0])==null?void 0:$.onProgress)==null||et.call($,{loaded:b.loaded}):(tt=(_e=this._fullRequestReader)==null?void 0:_e.onProgress)==null||tt.call(_e,{loaded:b.loaded,total:b.total})}_onProgressiveDone(){var b;(b=this._fullRequestReader)==null||b.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){const $=this._rangeReaders.indexOf(b);$>=0&&this._rangeReaders.splice($,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const b=this._queuedChunks;return this._queuedChunks=null,new h(this,b,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(b,$){if($<=this._progressiveDataLength)return null;const et=new g(this,b,$);return this._pdfDataRangeTransport.requestDataRange(b,$),this._rangeReaders.push(et),et}cancelAllRequests(b){var $;($=this._fullRequestReader)==null||$.cancel(b);for(const et of this._rangeReaders.slice(0))et.cancel(b);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=d;class h{constructor(b,$,et=!1,_e=null){this._stream=b,this._done=et||!1,this._filename=(0,c.isPdfFile)(_e)?_e:null,this._queuedChunks=$||[],this._loaded=0;for(const tt of this._queuedChunks)this._loaded+=tt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=new a.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class g{constructor(b,$,et){this._stream=b,this._begin=$,this._end=et,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){if(!this._done){if(this._requests.length===0)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});for(const et of this._requests)et.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const $=this._queuedChunk;return this._queuedChunk=null,{value:$,done:!1}}if(this._done)return{value:void 0,done:!0};const b=new a.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var a=o(1),c=o(20);function d(et,_e,tt){return{method:"GET",headers:et,signal:tt.signal,mode:"cors",credentials:_e?"include":"same-origin",redirect:"follow"}}function h(et){const _e=new Headers;for(const tt in et){const it=et[tt];it!==void 0&&_e.append(tt,it)}return _e}function g(et){return et instanceof Uint8Array?et.buffer:et instanceof ArrayBuffer?et:((0,a.warn)(`getArrayBuffer - unexpected data format: ${et}`),new Uint8Array(et).buffer)}class _{constructor(_e){this.source=_e,this.isHttp=/^https?:/i.test(_e.url),this.httpHeaders=this.isHttp&&_e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var _e;return((_e=this._fullRequestReader)==null?void 0:_e._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new b(this),this._fullRequestReader}getRangeReader(_e,tt){if(tt<=this._progressiveDataLength)return null;const it=new $(this,_e,tt);return this._rangeRequestReaders.push(it),it}cancelAllRequests(_e){var tt;(tt=this._fullRequestReader)==null||tt.cancel(_e);for(const it of this._rangeRequestReaders.slice(0))it.cancel(_e)}}s.PDFFetchStream=_;class b{constructor(_e){this._stream=_e,this._reader=null,this._loaded=0,this._filename=null;const tt=_e.source;this._withCredentials=tt.withCredentials||!1,this._contentLength=tt.length,this._headersCapability=new a.PromiseCapability,this._disableRange=tt.disableRange||!1,this._rangeChunkSize=tt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!tt.disableStream,this._isRangeSupported=!tt.disableRange,this._headers=h(this._stream.httpHeaders);const it=tt.url;fetch(it,d(this._headers,this._withCredentials,this._abortController)).then(st=>{if(!(0,c.validateResponseStatus)(st.status))throw(0,c.createResponseStatusError)(st.status,it);this._reader=st.body.getReader(),this._headersCapability.resolve();const lt=pt=>st.headers.get(pt),{allowRangeRequests:nt,suggestedLength:rt}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:lt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=nt,this._contentLength=rt||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(lt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var it;await this._headersCapability.promise;const{value:_e,done:tt}=await this._reader.read();return tt?{value:_e,done:tt}:(this._loaded+=_e.byteLength,(it=this.onProgress)==null||it.call(this,{loaded:this._loaded,total:this._contentLength}),{value:g(_e),done:!1})}cancel(_e){var tt;(tt=this._reader)==null||tt.cancel(_e),this._abortController.abort()}}class ${constructor(_e,tt,it){this._stream=_e,this._reader=null,this._loaded=0;const st=_e.source;this._withCredentials=st.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!st.disableStream,this._abortController=new AbortController,this._headers=h(this._stream.httpHeaders),this._headers.append("Range",`bytes=${tt}-${it-1}`);const lt=st.url;fetch(lt,d(this._headers,this._withCredentials,this._abortController)).then(nt=>{if(!(0,c.validateResponseStatus)(nt.status))throw(0,c.createResponseStatusError)(nt.status,lt);this._readCapability.resolve(),this._reader=nt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var it;await this._readCapability.promise;const{value:_e,done:tt}=await this._reader.read();return tt?{value:_e,done:tt}:(this._loaded+=_e.byteLength,(it=this.onProgress)==null||it.call(this,{loaded:this._loaded}),{value:g(_e),done:!1})}cancel(_e){var tt;(tt=this._reader)==null||tt.cancel(_e),this._abortController.abort()}}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=_,s.extractFilenameFromHeader=g,s.validateRangeRequestCapabilities=h,s.validateResponseStatus=b;var a=o(1),c=o(21),d=o(6);function h({getResponseHeader:$,isHttp:et,rangeChunkSize:_e,disableRange:tt}){const it={allowRangeRequests:!1,suggestedLength:void 0},st=parseInt($("Content-Length"),10);return!Number.isInteger(st)||(it.suggestedLength=st,st<=2*_e)||tt||!et||$("Accept-Ranges")!=="bytes"||($("Content-Encoding")||"identity")!=="identity"||(it.allowRangeRequests=!0),it}function g($){const et=$("Content-Disposition");if(et){let _e=(0,c.getFilenameFromContentDispositionHeader)(et);if(_e.includes("%"))try{_e=decodeURIComponent(_e)}catch{}if((0,d.isPdfFile)(_e))return _e}return null}function _($,et){return $===404||$===0&&et.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+et+'".'):new a.UnexpectedResponseException(`Unexpected server response (${$}) while retrieving PDF "${et}".`,$)}function b($){return $===200||$===206}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=c;var a=o(1);function c(d){let h=!0,g=_("filename\\*","i").exec(d);if(g){g=g[1];let st=_e(g);return st=unescape(st),st=tt(st),st=it(st),$(st)}if(g=et(d),g){const st=it(g);return $(st)}if(g=_("filename","i").exec(d),g){g=g[1];let st=_e(g);return st=it(st),$(st)}function _(st,lt){return new RegExp("(?:^|;)\\s*"+st+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',lt)}function b(st,lt){if(st){if(!/^[\x00-\xFF]+$/.test(lt))return lt;try{const nt=new TextDecoder(st,{fatal:!0}),rt=(0,a.stringToBytes)(lt);lt=nt.decode(rt),h=!1}catch{}}return lt}function $(st){return h&&/[\x80-\xff]/.test(st)&&(st=b("utf-8",st),h&&(st=b("iso-8859-1",st))),st}function et(st){const lt=[];let nt;const rt=_("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(nt=rt.exec(st))!==null;){let[,gt,ht,dt]=nt;if(gt=parseInt(gt,10),gt in lt){if(gt===0)break;continue}lt[gt]=[ht,dt]}const pt=[];for(let gt=0;gt<lt.length&&gt in lt;++gt){let[ht,dt]=lt[gt];dt=_e(dt),ht&&(dt=unescape(dt),gt===0&&(dt=tt(dt))),pt.push(dt)}return pt.join("")}function _e(st){if(st.startsWith('"')){const lt=st.slice(1).split('\\"');for(let nt=0;nt<lt.length;++nt){const rt=lt[nt].indexOf('"');rt!==-1&&(lt[nt]=lt[nt].slice(0,rt),lt.length=nt+1),lt[nt]=lt[nt].replaceAll(/\\(.)/g,"$1")}st=lt.join('"')}return st}function tt(st){const lt=st.indexOf("'");if(lt===-1)return st;const nt=st.slice(0,lt),pt=st.slice(lt+1).replace(/^[^']*'/,"");return b(nt,pt)}function it(st){return!st.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(st)?st:st.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(lt,nt,rt,pt){if(rt==="q"||rt==="Q")return pt=pt.replaceAll("_"," "),pt=pt.replaceAll(/=([0-9a-fA-F]{2})/g,function(gt,ht){return String.fromCharCode(parseInt(ht,16))}),b(nt,pt);try{pt=atob(pt)}catch{}return b(nt,pt)})}return""}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var a=o(1),c=o(20);const d=200,h=206;function g(_e){const tt=_e.response;return typeof tt!="string"?tt:(0,a.stringToBytes)(tt).buffer}class _{constructor(tt,it={}){this.url=tt,this.isHttp=/^https?:/i.test(tt),this.httpHeaders=this.isHttp&&it.httpHeaders||Object.create(null),this.withCredentials=it.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(tt,it,st){const lt={begin:tt,end:it};for(const nt in st)lt[nt]=st[nt];return this.request(lt)}requestFull(tt){return this.request(tt)}request(tt){const it=new XMLHttpRequest,st=this.currXhrId++,lt=this.pendingRequests[st]={xhr:it};it.open("GET",this.url),it.withCredentials=this.withCredentials;for(const nt in this.httpHeaders){const rt=this.httpHeaders[nt];rt!==void 0&&it.setRequestHeader(nt,rt)}return this.isHttp&&"begin"in tt&&"end"in tt?(it.setRequestHeader("Range",`bytes=${tt.begin}-${tt.end-1}`),lt.expectedStatus=h):lt.expectedStatus=d,it.responseType="arraybuffer",tt.onError&&(it.onerror=function(nt){tt.onError(it.status)}),it.onreadystatechange=this.onStateChange.bind(this,st),it.onprogress=this.onProgress.bind(this,st),lt.onHeadersReceived=tt.onHeadersReceived,lt.onDone=tt.onDone,lt.onError=tt.onError,lt.onProgress=tt.onProgress,it.send(null),st}onProgress(tt,it){var lt;const st=this.pendingRequests[tt];st&&((lt=st.onProgress)==null||lt.call(st,it))}onStateChange(tt,it){var gt,ht,dt;const st=this.pendingRequests[tt];if(!st)return;const lt=st.xhr;if(lt.readyState>=2&&st.onHeadersReceived&&(st.onHeadersReceived(),delete st.onHeadersReceived),lt.readyState!==4||!(tt in this.pendingRequests))return;if(delete this.pendingRequests[tt],lt.status===0&&this.isHttp){(gt=st.onError)==null||gt.call(st,lt.status);return}const nt=lt.status||d;if(!(nt===d&&st.expectedStatus===h)&&nt!==st.expectedStatus){(ht=st.onError)==null||ht.call(st,lt.status);return}const pt=g(lt);if(nt===h){const mt=lt.getResponseHeader("Content-Range"),yt=/bytes (\d+)-(\d+)\/(\d+)/.exec(mt);st.onDone({begin:parseInt(yt[1],10),chunk:pt})}else pt?st.onDone({begin:0,chunk:pt}):(dt=st.onError)==null||dt.call(st,lt.status)}getRequestXhr(tt){return this.pendingRequests[tt].xhr}isPendingRequest(tt){return tt in this.pendingRequests}abortRequest(tt){const it=this.pendingRequests[tt].xhr;delete this.pendingRequests[tt],it.abort()}}class b{constructor(tt){this._source=tt,this._manager=new _(tt.url,{httpHeaders:tt.httpHeaders,withCredentials:tt.withCredentials}),this._rangeChunkSize=tt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(tt){const it=this._rangeRequestReaders.indexOf(tt);it>=0&&this._rangeRequestReaders.splice(it,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $(this._manager,this._source),this._fullRequestReader}getRangeReader(tt,it){const st=new et(this._manager,tt,it);return st.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(st),st}cancelAllRequests(tt){var it;(it=this._fullRequestReader)==null||it.cancel(tt);for(const st of this._rangeRequestReaders.slice(0))st.cancel(tt)}}s.PDFNetworkStream=b;class ${constructor(tt,it){this._manager=tt;const st={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=it.url,this._fullRequestId=tt.requestFull(st),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=it.disableRange||!1,this._contentLength=it.length,this._rangeChunkSize=it.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const tt=this._fullRequestId,it=this._manager.getRequestXhr(tt),st=rt=>it.getResponseHeader(rt),{allowRangeRequests:lt,suggestedLength:nt}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:st,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});lt&&(this._isRangeSupported=!0),this._contentLength=nt||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(st),this._isRangeSupported&&this._manager.abortRequest(tt),this._headersReceivedCapability.resolve()}_onDone(tt){if(tt&&(this._requests.length>0?this._requests.shift().resolve({value:tt.chunk,done:!1}):this._cachedChunks.push(tt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(tt){this._storedError=(0,c.createResponseStatusError)(tt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const it of this._requests)it.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(tt){var it;(it=this.onProgress)==null||it.call(this,{loaded:tt.loaded,total:tt.lengthComputable?tt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const tt=new a.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0,this._headersReceivedCapability.reject(tt);for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class et{constructor(tt,it,st){this._manager=tt;const lt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=tt.url,this._requestId=tt.requestRange(it,st,lt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var tt;(tt=this.onClosed)==null||tt.call(this,this)}_onDone(tt){const it=tt.chunk;this._requests.length>0?this._requests.shift().resolve({value:it,done:!1}):this._queuedChunk=it,this._done=!0;for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(tt){this._storedError=(0,c.createResponseStatusError)(tt,this._url);for(const it of this._requests)it.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(tt){var it;this.isStreamingSupported||(it=this.onProgress)==null||it.call(this,{loaded:tt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const it=this._queuedChunk;return this._queuedChunk=null,{value:it,done:!1}}if(this._done)return{value:void 0,done:!0};const tt=new a.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var a=o(1),c=o(20);const d=/^file:\/\/\/[a-zA-Z]:\//;function h(st){const lt=require$$5,nt=lt.parse(st);return nt.protocol==="file:"||nt.host?nt:/^[a-z]:[/\\]/i.test(st)?lt.parse(`file:///${st}`):(nt.host||(nt.protocol="file:"),nt)}class g{constructor(lt){this.source=lt,this.url=h(lt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&lt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var lt;return((lt=this._fullRequestReader)==null?void 0:lt._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new tt(this):new et(this),this._fullRequestReader}getRangeReader(lt,nt){if(nt<=this._progressiveDataLength)return null;const rt=this.isFsUrl?new it(this,lt,nt):new _e(this,lt,nt);return this._rangeRequestReaders.push(rt),rt}cancelAllRequests(lt){var nt;(nt=this._fullRequestReader)==null||nt.cancel(lt);for(const rt of this._rangeRequestReaders.slice(0))rt.cancel(lt)}}s.PDFNodeStream=g;class _{constructor(lt){this._url=lt.url,this._done=!1,this._storedError=null,this.onProgress=null;const nt=lt.source;this._contentLength=nt.length,this._loaded=0,this._filename=null,this._disableRange=nt.disableRange||!1,this._rangeChunkSize=nt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!nt.disableStream,this._isRangeSupported=!nt.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const lt=this._readableStream.read();return lt===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=lt.length,(rt=this.onProgress)==null||rt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(lt).buffer,done:!1})}cancel(lt){if(!this._readableStream){this._error(lt);return}this._readableStream.destroy(lt)}_error(lt){this._storedError=lt,this._readCapability.resolve()}_setReadableStream(lt){this._readableStream=lt,lt.on("readable",()=>{this._readCapability.resolve()}),lt.on("end",()=>{lt.destroy(),this._done=!0,this._readCapability.resolve()}),lt.on("error",nt=>{this._error(nt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class b{constructor(lt){this._url=lt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const nt=lt.source;this._isStreamingSupported=!nt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const lt=this._readableStream.read();return lt===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=lt.length,(rt=this.onProgress)==null||rt.call(this,{loaded:this._loaded}),{value:new Uint8Array(lt).buffer,done:!1})}cancel(lt){if(!this._readableStream){this._error(lt);return}this._readableStream.destroy(lt)}_error(lt){this._storedError=lt,this._readCapability.resolve()}_setReadableStream(lt){this._readableStream=lt,lt.on("readable",()=>{this._readCapability.resolve()}),lt.on("end",()=>{lt.destroy(),this._done=!0,this._readCapability.resolve()}),lt.on("error",nt=>{this._error(nt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function $(st,lt){return{protocol:st.protocol,auth:st.auth,host:st.hostname,port:st.port,path:st.path,method:"GET",headers:lt}}class et extends _{constructor(lt){super(lt);const nt=rt=>{if(rt.statusCode===404){const dt=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=dt,this._headersCapability.reject(dt);return}this._headersCapability.resolve(),this._setReadableStream(rt);const pt=dt=>this._readableStream.headers[dt.toLowerCase()],{allowRangeRequests:gt,suggestedLength:ht}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:pt,isHttp:lt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=gt,this._contentLength=ht||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(pt)};if(this._request=null,this._url.protocol==="http:"){const rt=require$$5;this._request=rt.request($(this._url,lt.httpHeaders),nt)}else{const rt=require$$5;this._request=rt.request($(this._url,lt.httpHeaders),nt)}this._request.on("error",rt=>{this._storedError=rt,this._headersCapability.reject(rt)}),this._request.end()}}class _e extends b{constructor(lt,nt,rt){super(lt),this._httpHeaders={};for(const gt in lt.httpHeaders){const ht=lt.httpHeaders[gt];ht!==void 0&&(this._httpHeaders[gt]=ht)}this._httpHeaders.Range=`bytes=${nt}-${rt-1}`;const pt=gt=>{if(gt.statusCode===404){const ht=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ht;return}this._setReadableStream(gt)};if(this._request=null,this._url.protocol==="http:"){const gt=require$$5;this._request=gt.request($(this._url,this._httpHeaders),pt)}else{const gt=require$$5;this._request=gt.request($(this._url,this._httpHeaders),pt)}this._request.on("error",gt=>{this._storedError=gt}),this._request.end()}}class tt extends _{constructor(lt){super(lt);let nt=decodeURIComponent(this._url.path);d.test(this._url.href)&&(nt=nt.replace(/^\//,""));const rt=require$$5;rt.lstat(nt,(pt,gt)=>{if(pt){pt.code==="ENOENT"&&(pt=new a.MissingPDFException(`Missing PDF "${nt}".`)),this._storedError=pt,this._headersCapability.reject(pt);return}this._contentLength=gt.size,this._setReadableStream(rt.createReadStream(nt)),this._headersCapability.resolve()})}}class it extends b{constructor(lt,nt,rt){super(lt);let pt=decodeURIComponent(this._url.path);d.test(this._url.href)&&(pt=pt.replace(/^\//,""));const gt=require$$5;this._setReadableStream(gt.createReadStream(pt,{start:nt,end:rt-1}))}}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var a=o(6),c=o(1);const d={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},h="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/1999/xlink",_=["butt","round","square"],b=["miter","round","bevel"],$=function(gt,ht="",dt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!dt)return URL.createObjectURL(new Blob([gt],{type:ht}));const mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let yt=`data:${ht};base64,`;for(let xt=0,Et=gt.length;xt<Et;xt+=3){const vt=gt[xt]&255,St=gt[xt+1]&255,Rt=gt[xt+2]&255,nn=vt>>2,zt=(vt&3)<<4|St>>4,sn=xt+1<Et?(St&15)<<2|Rt>>6:64,en=xt+2<Et?Rt&63:64;yt+=mt[nn]+mt[zt]+mt[sn]+mt[en]}return yt},et=function(){const gt=new Uint8Array([137,80,78,71,13,10,26,10]),ht=12,dt=new Int32Array(256);for(let Rt=0;Rt<256;Rt++){let nn=Rt;for(let zt=0;zt<8;zt++)nn=nn&1?3988292384^nn>>1&2147483647:nn>>1&2147483647;dt[Rt]=nn}function mt(Rt,nn,zt){let sn=-1;for(let en=nn;en<zt;en++){const Nt=(sn^Rt[en])&255,At=dt[Nt];sn=sn>>>8^At}return sn^-1}function yt(Rt,nn,zt,sn){let en=sn;const Nt=nn.length;zt[en]=Nt>>24&255,zt[en+1]=Nt>>16&255,zt[en+2]=Nt>>8&255,zt[en+3]=Nt&255,en+=4,zt[en]=Rt.charCodeAt(0)&255,zt[en+1]=Rt.charCodeAt(1)&255,zt[en+2]=Rt.charCodeAt(2)&255,zt[en+3]=Rt.charCodeAt(3)&255,en+=4,zt.set(nn,en),en+=nn.length;const At=mt(zt,sn+4,en);zt[en]=At>>24&255,zt[en+1]=At>>16&255,zt[en+2]=At>>8&255,zt[en+3]=At&255}function xt(Rt,nn,zt){let sn=1,en=0;for(let Nt=nn;Nt<zt;++Nt)sn=(sn+(Rt[Nt]&255))%65521,en=(en+sn)%65521;return en<<16|sn}function Et(Rt){if(!c.isNodeJS)return vt(Rt);try{const nn=parseInt(process.versions.node)>=8?Rt:Buffer.from(Rt),zt=require$$5.deflateSync(nn,{level:9});return zt instanceof Uint8Array?zt:new Uint8Array(zt)}catch(nn){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+nn)}return vt(Rt)}function vt(Rt){let nn=Rt.length;const zt=65535,sn=Math.ceil(nn/zt),en=new Uint8Array(2+nn+sn*5+4);let Nt=0;en[Nt++]=120,en[Nt++]=156;let At=0;for(;nn>zt;)en[Nt++]=0,en[Nt++]=255,en[Nt++]=255,en[Nt++]=0,en[Nt++]=0,en.set(Rt.subarray(At,At+zt),Nt),Nt+=zt,At+=zt,nn-=zt;en[Nt++]=1,en[Nt++]=nn&255,en[Nt++]=nn>>8&255,en[Nt++]=~nn&65535&255,en[Nt++]=(~nn&65535)>>8&255,en.set(Rt.subarray(At),Nt),Nt+=Rt.length-At;const wt=xt(Rt,0,Rt.length);return en[Nt++]=wt>>24&255,en[Nt++]=wt>>16&255,en[Nt++]=wt>>8&255,en[Nt++]=wt&255,en}function St(Rt,nn,zt,sn){const en=Rt.width,Nt=Rt.height;let At,wt,rn;const kt=Rt.data;switch(nn){case c.ImageKind.GRAYSCALE_1BPP:wt=0,At=1,rn=en+7>>3;break;case c.ImageKind.RGB_24BPP:wt=2,At=8,rn=en*3;break;case c.ImageKind.RGBA_32BPP:wt=6,At=8,rn=en*4;break;default:throw new Error("invalid format")}const ot=new Uint8Array((1+rn)*Nt);let bt=0,Pt=0;for(let Sn=0;Sn<Nt;++Sn)ot[bt++]=0,ot.set(kt.subarray(Pt,Pt+rn),bt),Pt+=rn,bt+=rn;if(nn===c.ImageKind.GRAYSCALE_1BPP&&sn){bt=0;for(let Sn=0;Sn<Nt;Sn++){bt++;for(let En=0;En<rn;En++)ot[bt++]^=255}}const Mt=new Uint8Array([en>>24&255,en>>16&255,en>>8&255,en&255,Nt>>24&255,Nt>>16&255,Nt>>8&255,Nt&255,At,wt,0,0,0]),jt=Et(ot),Bt=gt.length+ht*3+Mt.length+jt.length,on=new Uint8Array(Bt);let yn=0;return on.set(gt,yn),yn+=gt.length,yt("IHDR",Mt,on,yn),yn+=ht+Mt.length,yt("IDATA",jt,on,yn),yn+=ht+jt.length,yt("IEND",new Uint8Array(0),on,yn),$(on,"image/png",zt)}return function(nn,zt,sn){const en=nn.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:nn.kind;return St(nn,en,zt,sn)}}();class _e{constructor(){this.fontSizeScale=1,this.fontWeight=d.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=d.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ht,dt){this.x=ht,this.y=dt}}function tt(gt){let ht=[];const dt=[];for(const mt of gt){if(mt.fn==="save"){ht.push({fnId:92,fn:"group",items:[]}),dt.push(ht),ht=ht.at(-1).items;continue}mt.fn==="restore"?ht=dt.pop():ht.push(mt)}return ht}function it(gt){if(Number.isInteger(gt))return gt.toString();const ht=gt.toFixed(10);let dt=ht.length-1;if(ht[dt]!=="0")return ht;do dt--;while(ht[dt]==="0");return ht.substring(0,ht[dt]==="."?dt:dt+1)}function st(gt){if(gt[4]===0&&gt[5]===0){if(gt[1]===0&&gt[2]===0)return gt[0]===1&&gt[3]===1?"":`scale(${it(gt[0])} ${it(gt[3])})`;if(gt[0]===gt[3]&&gt[1]===-gt[2]){const ht=Math.acos(gt[0])*180/Math.PI;return`rotate(${it(ht)})`}}else if(gt[0]===1&&gt[1]===0&&gt[2]===0&&gt[3]===1)return`translate(${it(gt[4])} ${it(gt[5])})`;return`matrix(${it(gt[0])} ${it(gt[1])} ${it(gt[2])} ${it(gt[3])} ${it(gt[4])} ${it(gt[5])})`}let lt=0,nt=0,rt=0;class pt{constructor(ht,dt,mt=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new _e,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ht,this.objs=dt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!mt,this._operatorIdMapping=[];for(const yt in c.OPS)this._operatorIdMapping[c.OPS[yt]]=yt}getObject(ht,dt=null){return typeof ht=="string"?ht.startsWith("g_")?this.commonObjs.get(ht):this.objs.get(ht):dt}save(){this.transformStack.push(this.transformMatrix);const ht=this.current;this.extraStack.push(ht),this.current=ht.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ht){this.save(),this.executeOpTree(ht),this.restore()}loadDependencies(ht){const dt=ht.fnArray,mt=ht.argsArray;for(let yt=0,xt=dt.length;yt<xt;yt++)if(dt[yt]===c.OPS.dependency)for(const Et of mt[yt]){const vt=Et.startsWith("g_")?this.commonObjs:this.objs,St=new Promise(Rt=>{vt.get(Et,Rt)});this.current.dependencies.push(St)}return Promise.all(this.current.dependencies)}transform(ht,dt,mt,yt,xt,Et){const vt=[ht,dt,mt,yt,xt,Et];this.transformMatrix=c.Util.transform(this.transformMatrix,vt),this.tgrp=null}getSVG(ht,dt){this.viewport=dt;const mt=this._initialize(dt);return this.loadDependencies(ht).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ht)),mt))}convertOpList(ht){const dt=this._operatorIdMapping,mt=ht.argsArray,yt=ht.fnArray,xt=[];for(let Et=0,vt=yt.length;Et<vt;Et++){const St=yt[Et];xt.push({fnId:St,fn:dt[St],args:mt[Et]})}return tt(xt)}executeOpTree(ht){for(const dt of ht){const mt=dt.fn,yt=dt.fnId,xt=dt.args;switch(yt|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(xt);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(xt[0],xt[1]);break;case c.OPS.setFont:this.setFont(xt);break;case c.OPS.showText:this.showText(xt[0]);break;case c.OPS.showSpacedText:this.showText(xt[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(xt[0],xt[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(xt[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(xt[0]);break;case c.OPS.setHScale:this.setHScale(xt[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5]);break;case c.OPS.setTextRise:this.setTextRise(xt[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(xt[0]);break;case c.OPS.setLineWidth:this.setLineWidth(xt[0]);break;case c.OPS.setLineJoin:this.setLineJoin(xt[0]);break;case c.OPS.setLineCap:this.setLineCap(xt[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(xt[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(xt[0],xt[1],xt[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(xt[0],xt[1],xt[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(xt);break;case c.OPS.setFillColorN:this.setFillColorN(xt);break;case c.OPS.shadingFill:this.shadingFill(xt[0]);break;case c.OPS.setDash:this.setDash(xt[0],xt[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(xt[0]);break;case c.OPS.setFlatness:this.setFlatness(xt[0]);break;case c.OPS.setGState:this.setGState(xt[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(xt[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(xt[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(xt[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(xt[0],xt[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5]);break;case c.OPS.constructPath:this.constructPath(xt[0],xt[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(dt.items);break;default:(0,c.warn)(`Unimplemented operator ${mt}`);break}}}setWordSpacing(ht){this.current.wordSpacing=ht}setCharSpacing(ht){this.current.charSpacing=ht}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ht,dt,mt,yt,xt,Et){const vt=this.current;vt.textMatrix=vt.lineMatrix=[ht,dt,mt,yt,xt,Et],vt.textMatrixScale=Math.hypot(ht,dt),vt.x=vt.lineX=0,vt.y=vt.lineY=0,vt.xcoords=[],vt.ycoords=[],vt.tspan=this.svgFactory.createElement("svg:tspan"),vt.tspan.setAttributeNS(null,"font-family",vt.fontFamily),vt.tspan.setAttributeNS(null,"font-size",`${it(vt.fontSize)}px`),vt.tspan.setAttributeNS(null,"y",it(-vt.y)),vt.txtElement=this.svgFactory.createElement("svg:text"),vt.txtElement.append(vt.tspan)}beginText(){const ht=this.current;ht.x=ht.lineX=0,ht.y=ht.lineY=0,ht.textMatrix=c.IDENTITY_MATRIX,ht.lineMatrix=c.IDENTITY_MATRIX,ht.textMatrixScale=1,ht.tspan=this.svgFactory.createElement("svg:tspan"),ht.txtElement=this.svgFactory.createElement("svg:text"),ht.txtgrp=this.svgFactory.createElement("svg:g"),ht.xcoords=[],ht.ycoords=[]}moveText(ht,dt){const mt=this.current;mt.x=mt.lineX+=ht,mt.y=mt.lineY+=dt,mt.xcoords=[],mt.ycoords=[],mt.tspan=this.svgFactory.createElement("svg:tspan"),mt.tspan.setAttributeNS(null,"font-family",mt.fontFamily),mt.tspan.setAttributeNS(null,"font-size",`${it(mt.fontSize)}px`),mt.tspan.setAttributeNS(null,"y",it(-mt.y))}showText(ht){const dt=this.current,mt=dt.font,yt=dt.fontSize;if(yt===0)return;const xt=dt.fontSizeScale,Et=dt.charSpacing,vt=dt.wordSpacing,St=dt.fontDirection,Rt=dt.textHScale*St,nn=mt.vertical,zt=nn?1:-1,sn=mt.defaultVMetrics,en=yt*dt.fontMatrix[0];let Nt=0;for(const rn of ht){if(rn===null){Nt+=St*vt;continue}else if(typeof rn=="number"){Nt+=zt*rn*yt/1e3;continue}const kt=(rn.isSpace?vt:0)+Et,ot=rn.fontChar;let bt,Pt,Mt=rn.width;if(nn){let Bt;const on=rn.vmetric||sn;Bt=rn.vmetric?on[1]:Mt*.5,Bt=-Bt*en;const yn=on[2]*en;Mt=on?-on[0]:Mt,bt=Bt/xt,Pt=(Nt+yn)/xt}else bt=Nt/xt,Pt=0;(rn.isInFont||mt.missingFile)&&(dt.xcoords.push(dt.x+bt),nn&&dt.ycoords.push(-dt.y+Pt),dt.tspan.textContent+=ot);const jt=nn?Mt*en-kt*St:Mt*en+kt*St;Nt+=jt}dt.tspan.setAttributeNS(null,"x",dt.xcoords.map(it).join(" ")),nn?dt.tspan.setAttributeNS(null,"y",dt.ycoords.map(it).join(" ")):dt.tspan.setAttributeNS(null,"y",it(-dt.y)),nn?dt.y-=Nt:dt.x+=Nt*Rt,dt.tspan.setAttributeNS(null,"font-family",dt.fontFamily),dt.tspan.setAttributeNS(null,"font-size",`${it(dt.fontSize)}px`),dt.fontStyle!==d.fontStyle&&dt.tspan.setAttributeNS(null,"font-style",dt.fontStyle),dt.fontWeight!==d.fontWeight&&dt.tspan.setAttributeNS(null,"font-weight",dt.fontWeight);const At=dt.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(At===c.TextRenderingMode.FILL||At===c.TextRenderingMode.FILL_STROKE?(dt.fillColor!==d.fillColor&&dt.tspan.setAttributeNS(null,"fill",dt.fillColor),dt.fillAlpha<1&&dt.tspan.setAttributeNS(null,"fill-opacity",dt.fillAlpha)):dt.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?dt.tspan.setAttributeNS(null,"fill","transparent"):dt.tspan.setAttributeNS(null,"fill","none"),At===c.TextRenderingMode.STROKE||At===c.TextRenderingMode.FILL_STROKE){const rn=1/(dt.textMatrixScale||1);this._setStrokeAttributes(dt.tspan,rn)}let wt=dt.textMatrix;dt.textRise!==0&&(wt=wt.slice(),wt[5]+=dt.textRise),dt.txtElement.setAttributeNS(null,"transform",`${st(wt)} scale(${it(Rt)}, -1)`),dt.txtElement.setAttributeNS(h,"xml:space","preserve"),dt.txtElement.append(dt.tspan),dt.txtgrp.append(dt.txtElement),this._ensureTransformGroup().append(dt.txtElement)}setLeadingMoveText(ht,dt){this.setLeading(-dt),this.moveText(ht,dt)}addFontStyle(ht){if(!ht.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const dt=$(ht.data,ht.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ht.loadedName}"; src: url(${dt}); }
`}setFont(ht){const dt=this.current,mt=this.commonObjs.get(ht[0]);let yt=ht[1];dt.font=mt,this.embedFonts&&!mt.missingFile&&!this.embeddedFonts[mt.loadedName]&&(this.addFontStyle(mt),this.embeddedFonts[mt.loadedName]=mt),dt.fontMatrix=mt.fontMatrix||c.FONT_IDENTITY_MATRIX;let xt="normal";mt.black?xt="900":mt.bold&&(xt="bold");const Et=mt.italic?"italic":"normal";yt<0?(yt=-yt,dt.fontDirection=-1):dt.fontDirection=1,dt.fontSize=yt,dt.fontFamily=mt.loadedName,dt.fontWeight=xt,dt.fontStyle=Et,dt.tspan=this.svgFactory.createElement("svg:tspan"),dt.tspan.setAttributeNS(null,"y",it(-dt.y)),dt.xcoords=[],dt.ycoords=[]}endText(){var dt;const ht=this.current;ht.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&((dt=ht.txtElement)!=null&&dt.hasChildNodes())&&(ht.element=ht.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ht){ht>0&&(this.current.lineWidth=ht)}setLineCap(ht){this.current.lineCap=_[ht]}setLineJoin(ht){this.current.lineJoin=b[ht]}setMiterLimit(ht){this.current.miterLimit=ht}setStrokeAlpha(ht){this.current.strokeAlpha=ht}setStrokeRGBColor(ht,dt,mt){this.current.strokeColor=c.Util.makeHexColor(ht,dt,mt)}setFillAlpha(ht){this.current.fillAlpha=ht}setFillRGBColor(ht,dt,mt){this.current.fillColor=c.Util.makeHexColor(ht,dt,mt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ht){this.current.strokeColor=this._makeColorN_Pattern(ht)}setFillColorN(ht){this.current.fillColor=this._makeColorN_Pattern(ht)}shadingFill(ht){const{width:dt,height:mt}=this.viewport,yt=c.Util.inverseTransform(this.transformMatrix),[xt,Et,vt,St]=c.Util.getAxialAlignedBoundingBox([0,0,dt,mt],yt),Rt=this.svgFactory.createElement("svg:rect");Rt.setAttributeNS(null,"x",xt),Rt.setAttributeNS(null,"y",Et),Rt.setAttributeNS(null,"width",vt-xt),Rt.setAttributeNS(null,"height",St-Et),Rt.setAttributeNS(null,"fill",this._makeShadingPattern(ht)),this.current.fillAlpha<1&&Rt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Rt)}_makeColorN_Pattern(ht){return ht[0]==="TilingPattern"?this._makeTilingPattern(ht):this._makeShadingPattern(ht)}_makeTilingPattern(ht){const dt=ht[1],mt=ht[2],yt=ht[3]||c.IDENTITY_MATRIX,[xt,Et,vt,St]=ht[4],Rt=ht[5],nn=ht[6],zt=ht[7],sn=`shading${rt++}`,[en,Nt,At,wt]=c.Util.normalizeRect([...c.Util.applyTransform([xt,Et],yt),...c.Util.applyTransform([vt,St],yt)]),[rn,kt]=c.Util.singularValueDecompose2dScale(yt),ot=Rt*rn,bt=nn*kt,Pt=this.svgFactory.createElement("svg:pattern");Pt.setAttributeNS(null,"id",sn),Pt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Pt.setAttributeNS(null,"width",ot),Pt.setAttributeNS(null,"height",bt),Pt.setAttributeNS(null,"x",`${en}`),Pt.setAttributeNS(null,"y",`${Nt}`);const Mt=this.svg,jt=this.transformMatrix,Bt=this.current.fillColor,on=this.current.strokeColor,yn=this.svgFactory.create(At-en,wt-Nt);if(this.svg=yn,this.transformMatrix=yt,zt===2){const Sn=c.Util.makeHexColor(...dt);this.current.fillColor=Sn,this.current.strokeColor=Sn}return this.executeOpTree(this.convertOpList(mt)),this.svg=Mt,this.transformMatrix=jt,this.current.fillColor=Bt,this.current.strokeColor=on,Pt.append(yn.childNodes[0]),this.defs.append(Pt),`url(#${sn})`}_makeShadingPattern(ht){switch(typeof ht=="string"&&(ht=this.objs.get(ht)),ht[0]){case"RadialAxial":const dt=`shading${rt++}`,mt=ht[3];let yt;switch(ht[1]){case"axial":const xt=ht[4],Et=ht[5];yt=this.svgFactory.createElement("svg:linearGradient"),yt.setAttributeNS(null,"id",dt),yt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),yt.setAttributeNS(null,"x1",xt[0]),yt.setAttributeNS(null,"y1",xt[1]),yt.setAttributeNS(null,"x2",Et[0]),yt.setAttributeNS(null,"y2",Et[1]);break;case"radial":const vt=ht[4],St=ht[5],Rt=ht[6],nn=ht[7];yt=this.svgFactory.createElement("svg:radialGradient"),yt.setAttributeNS(null,"id",dt),yt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),yt.setAttributeNS(null,"cx",St[0]),yt.setAttributeNS(null,"cy",St[1]),yt.setAttributeNS(null,"r",nn),yt.setAttributeNS(null,"fx",vt[0]),yt.setAttributeNS(null,"fy",vt[1]),yt.setAttributeNS(null,"fr",Rt);break;default:throw new Error(`Unknown RadialAxial type: ${ht[1]}`)}for(const xt of mt){const Et=this.svgFactory.createElement("svg:stop");Et.setAttributeNS(null,"offset",xt[0]),Et.setAttributeNS(null,"stop-color",xt[1]),yt.append(Et)}return this.defs.append(yt),`url(#${dt})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ht[0]}`)}}setDash(ht,dt){this.current.dashArray=ht,this.current.dashPhase=dt}constructPath(ht,dt){const mt=this.current;let yt=mt.x,xt=mt.y,Et=[],vt=0;for(const St of ht)switch(St|0){case c.OPS.rectangle:yt=dt[vt++],xt=dt[vt++];const Rt=dt[vt++],nn=dt[vt++],zt=yt+Rt,sn=xt+nn;Et.push("M",it(yt),it(xt),"L",it(zt),it(xt),"L",it(zt),it(sn),"L",it(yt),it(sn),"Z");break;case c.OPS.moveTo:yt=dt[vt++],xt=dt[vt++],Et.push("M",it(yt),it(xt));break;case c.OPS.lineTo:yt=dt[vt++],xt=dt[vt++],Et.push("L",it(yt),it(xt));break;case c.OPS.curveTo:yt=dt[vt+4],xt=dt[vt+5],Et.push("C",it(dt[vt]),it(dt[vt+1]),it(dt[vt+2]),it(dt[vt+3]),it(yt),it(xt)),vt+=6;break;case c.OPS.curveTo2:Et.push("C",it(yt),it(xt),it(dt[vt]),it(dt[vt+1]),it(dt[vt+2]),it(dt[vt+3])),yt=dt[vt+2],xt=dt[vt+3],vt+=4;break;case c.OPS.curveTo3:yt=dt[vt+2],xt=dt[vt+3],Et.push("C",it(dt[vt]),it(dt[vt+1]),it(yt),it(xt),it(yt),it(xt)),vt+=4;break;case c.OPS.closePath:Et.push("Z");break}Et=Et.join(" "),mt.path&&ht.length>0&&ht[0]!==c.OPS.rectangle&&ht[0]!==c.OPS.moveTo?Et=mt.path.getAttributeNS(null,"d")+Et:(mt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(mt.path)),mt.path.setAttributeNS(null,"d",Et),mt.path.setAttributeNS(null,"fill","none"),mt.element=mt.path,mt.setCurrentPoint(yt,xt)}endPath(){const ht=this.current;if(ht.path=null,!this.pendingClip)return;if(!ht.element){this.pendingClip=null;return}const dt=`clippath${lt++}`,mt=this.svgFactory.createElement("svg:clipPath");mt.setAttributeNS(null,"id",dt),mt.setAttributeNS(null,"transform",st(this.transformMatrix));const yt=ht.element.cloneNode(!0);if(this.pendingClip==="evenodd"?yt.setAttributeNS(null,"clip-rule","evenodd"):yt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,mt.append(yt),this.defs.append(mt),ht.activeClipUrl){ht.clipGroup=null;for(const xt of this.extraStack)xt.clipGroup=null;mt.setAttributeNS(null,"clip-path",ht.activeClipUrl)}ht.activeClipUrl=`url(#${dt})`,this.tgrp=null}clip(ht){this.pendingClip=ht}closePath(){const ht=this.current;if(ht.path){const dt=`${ht.path.getAttributeNS(null,"d")}Z`;ht.path.setAttributeNS(null,"d",dt)}}setLeading(ht){this.current.leading=-ht}setTextRise(ht){this.current.textRise=ht}setTextRenderingMode(ht){this.current.textRenderingMode=ht}setHScale(ht){this.current.textHScale=ht/100}setRenderingIntent(ht){}setFlatness(ht){}setGState(ht){for(const[dt,mt]of ht)switch(dt){case"LW":this.setLineWidth(mt);break;case"LC":this.setLineCap(mt);break;case"LJ":this.setLineJoin(mt);break;case"ML":this.setMiterLimit(mt);break;case"D":this.setDash(mt[0],mt[1]);break;case"RI":this.setRenderingIntent(mt);break;case"FL":this.setFlatness(mt);break;case"Font":this.setFont(mt);break;case"CA":this.setStrokeAlpha(mt);break;case"ca":this.setFillAlpha(mt);break;default:(0,c.warn)(`Unimplemented graphic state operator ${dt}`);break}}fill(){const ht=this.current;ht.element&&(ht.element.setAttributeNS(null,"fill",ht.fillColor),ht.element.setAttributeNS(null,"fill-opacity",ht.fillAlpha),this.endPath())}stroke(){const ht=this.current;ht.element&&(this._setStrokeAttributes(ht.element),ht.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ht,dt=1){const mt=this.current;let yt=mt.dashArray;dt!==1&&yt.length>0&&(yt=yt.map(function(xt){return dt*xt})),ht.setAttributeNS(null,"stroke",mt.strokeColor),ht.setAttributeNS(null,"stroke-opacity",mt.strokeAlpha),ht.setAttributeNS(null,"stroke-miterlimit",it(mt.miterLimit)),ht.setAttributeNS(null,"stroke-linecap",mt.lineCap),ht.setAttributeNS(null,"stroke-linejoin",mt.lineJoin),ht.setAttributeNS(null,"stroke-width",it(dt*mt.lineWidth)+"px"),ht.setAttributeNS(null,"stroke-dasharray",yt.map(it).join(" ")),ht.setAttributeNS(null,"stroke-dashoffset",it(dt*mt.dashPhase)+"px")}eoFill(){var ht;(ht=this.current.element)==null||ht.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ht;(ht=this.current.element)==null||ht.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ht=this.svgFactory.createElement("svg:rect");ht.setAttributeNS(null,"x","0"),ht.setAttributeNS(null,"y","0"),ht.setAttributeNS(null,"width","1px"),ht.setAttributeNS(null,"height","1px"),ht.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ht)}paintImageXObject(ht){const dt=this.getObject(ht);if(!dt){(0,c.warn)(`Dependent image with object ID ${ht} is not ready yet`);return}this.paintInlineImageXObject(dt)}paintInlineImageXObject(ht,dt){const mt=ht.width,yt=ht.height,xt=et(ht,this.forceDataSchema,!!dt),Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y","0"),Et.setAttributeNS(null,"width",it(mt)),Et.setAttributeNS(null,"height",it(yt)),this.current.element=Et,this.clip("nonzero");const vt=this.svgFactory.createElement("svg:image");vt.setAttributeNS(g,"xlink:href",xt),vt.setAttributeNS(null,"x","0"),vt.setAttributeNS(null,"y",it(-yt)),vt.setAttributeNS(null,"width",it(mt)+"px"),vt.setAttributeNS(null,"height",it(yt)+"px"),vt.setAttributeNS(null,"transform",`scale(${it(1/mt)} ${it(-1/yt)})`),dt?dt.append(vt):this._ensureTransformGroup().append(vt)}paintImageMaskXObject(ht){const dt=this.getObject(ht.data,ht);if(dt.bitmap){(0,c.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const mt=this.current,yt=dt.width,xt=dt.height,Et=mt.fillColor;mt.maskId=`mask${nt++}`;const vt=this.svgFactory.createElement("svg:mask");vt.setAttributeNS(null,"id",mt.maskId);const St=this.svgFactory.createElement("svg:rect");St.setAttributeNS(null,"x","0"),St.setAttributeNS(null,"y","0"),St.setAttributeNS(null,"width",it(yt)),St.setAttributeNS(null,"height",it(xt)),St.setAttributeNS(null,"fill",Et),St.setAttributeNS(null,"mask",`url(#${mt.maskId})`),this.defs.append(vt),this._ensureTransformGroup().append(St),this.paintInlineImageXObject(dt,vt)}paintFormXObjectBegin(ht,dt){if(Array.isArray(ht)&&ht.length===6&&this.transform(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5]),dt){const mt=dt[2]-dt[0],yt=dt[3]-dt[1],xt=this.svgFactory.createElement("svg:rect");xt.setAttributeNS(null,"x",dt[0]),xt.setAttributeNS(null,"y",dt[1]),xt.setAttributeNS(null,"width",it(mt)),xt.setAttributeNS(null,"height",it(yt)),this.current.element=xt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ht){const dt=this.svgFactory.create(ht.width,ht.height),mt=this.svgFactory.createElement("svg:defs");dt.append(mt),this.defs=mt;const yt=this.svgFactory.createElement("svg:g");return yt.setAttributeNS(null,"transform",st(ht.transform)),dt.append(yt),this.svg=yt,dt}_ensureClipGroup(){if(!this.current.clipGroup){const ht=this.svgFactory.createElement("svg:g");ht.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ht),this.current.clipGroup=ht}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",st(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=pt},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class o{static textContent(c){const d=[],h={items:d,styles:Object.create(null)};function g(_){var et;if(!_)return;let b=null;const $=_.name;if($==="#text")b=_.value;else if(o.shouldBuildText($))(et=_==null?void 0:_.attributes)!=null&&et.textContent?b=_.attributes.textContent:_.value&&(b=_.value);else return;if(b!==null&&d.push({str:b}),!!_.children)for(const _e of _.children)g(_e)}return g(c),h}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}s.XfaText=o},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=st,s.updateTextLayer=lt;var a=o(1),c=o(6);const d=1e5,h=30,g=.8,_=new Map;function b(nt,rt){let pt;if(rt&&a.FeatureTest.isOffscreenCanvasSupported)pt=new OffscreenCanvas(nt,nt).getContext("2d",{alpha:!1});else{const gt=document.createElement("canvas");gt.width=gt.height=nt,pt=gt.getContext("2d",{alpha:!1})}return pt}function $(nt,rt){const pt=_.get(nt);if(pt)return pt;const gt=b(h,rt);gt.font=`${h}px ${nt}`;const ht=gt.measureText("");let dt=ht.fontBoundingBoxAscent,mt=Math.abs(ht.fontBoundingBoxDescent);if(dt){const xt=dt/(dt+mt);return _.set(nt,xt),gt.canvas.width=gt.canvas.height=0,xt}gt.strokeStyle="red",gt.clearRect(0,0,h,h),gt.strokeText("g",0,0);let yt=gt.getImageData(0,0,h,h).data;mt=0;for(let xt=yt.length-1-3;xt>=0;xt-=4)if(yt[xt]>0){mt=Math.ceil(xt/4/h);break}gt.clearRect(0,0,h,h),gt.strokeText("A",0,h),yt=gt.getImageData(0,0,h,h).data,dt=0;for(let xt=0,Et=yt.length;xt<Et;xt+=4)if(yt[xt]>0){dt=h-Math.floor(xt/4/h);break}if(gt.canvas.width=gt.canvas.height=0,dt){const xt=dt/(dt+mt);return _.set(nt,xt),xt}return _.set(nt,g),g}function et(nt,rt,pt){const gt=document.createElement("span"),ht={angle:0,canvasWidth:0,hasText:rt.str!=="",hasEOL:rt.hasEOL,fontSize:0};nt._textDivs.push(gt);const dt=a.Util.transform(nt._transform,rt.transform);let mt=Math.atan2(dt[1],dt[0]);const yt=pt[rt.fontName];yt.vertical&&(mt+=Math.PI/2);const xt=Math.hypot(dt[2],dt[3]),Et=xt*$(yt.fontFamily,nt._isOffscreenCanvasSupported);let vt,St;mt===0?(vt=dt[4],St=dt[5]-Et):(vt=dt[4]+Et*Math.sin(mt),St=dt[5]-Et*Math.cos(mt));const Rt="calc(var(--scale-factor)*",nn=gt.style;nt._container===nt._rootContainer?(nn.left=`${(100*vt/nt._pageWidth).toFixed(2)}%`,nn.top=`${(100*St/nt._pageHeight).toFixed(2)}%`):(nn.left=`${Rt}${vt.toFixed(2)}px)`,nn.top=`${Rt}${St.toFixed(2)}px)`),nn.fontSize=`${Rt}${xt.toFixed(2)}px)`,nn.fontFamily=yt.fontFamily,ht.fontSize=xt,gt.setAttribute("role","presentation"),gt.textContent=rt.str,gt.dir=rt.dir,nt._fontInspectorEnabled&&(gt.dataset.fontName=rt.fontName),mt!==0&&(ht.angle=mt*(180/Math.PI));let zt=!1;if(rt.str.length>1)zt=!0;else if(rt.str!==" "&&rt.transform[0]!==rt.transform[3]){const sn=Math.abs(rt.transform[0]),en=Math.abs(rt.transform[3]);sn!==en&&Math.max(sn,en)/Math.min(sn,en)>1.5&&(zt=!0)}zt&&(ht.canvasWidth=yt.vertical?rt.height:rt.width),nt._textDivProperties.set(gt,ht),nt._isReadableStream&&nt._layoutText(gt)}function _e(nt){const{div:rt,scale:pt,properties:gt,ctx:ht,prevFontSize:dt,prevFontFamily:mt}=nt,{style:yt}=rt;let xt="";if(gt.canvasWidth!==0&&gt.hasText){const{fontFamily:Et}=yt,{canvasWidth:vt,fontSize:St}=gt;(dt!==St||mt!==Et)&&(ht.font=`${St*pt}px ${Et}`,nt.prevFontSize=St,nt.prevFontFamily=Et);const{width:Rt}=ht.measureText(rt.textContent);Rt>0&&(xt=`scaleX(${vt*pt/Rt})`)}gt.angle!==0&&(xt=`rotate(${gt.angle}deg) ${xt}`),xt.length>0&&(yt.transform=xt)}function tt(nt){if(nt._canceled)return;const rt=nt._textDivs,pt=nt._capability;if(rt.length>d){pt.resolve();return}if(!nt._isReadableStream)for(const ht of rt)nt._layoutText(ht);pt.resolve()}class it{constructor({textContentSource:rt,container:pt,viewport:gt,textDivs:ht,textDivProperties:dt,textContentItemsStr:mt,isOffscreenCanvasSupported:yt}){var Rt;this._textContentSource=rt,this._isReadableStream=rt instanceof ReadableStream,this._container=this._rootContainer=pt,this._textDivs=ht||[],this._textContentItemsStr=mt||[],this._isOffscreenCanvasSupported=yt,this._fontInspectorEnabled=!!((Rt=globalThis.FontInspector)!=null&&Rt.enabled),this._reader=null,this._textDivProperties=dt||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:gt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:b(0,yt)};const{pageWidth:xt,pageHeight:Et,pageX:vt,pageY:St}=gt.rawDims;this._transform=[1,0,0,-1,-vt,St+Et],this._pageWidth=xt,this._pageHeight=Et,(0,c.setLayerDimensions)(pt,gt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(rt,pt){for(const gt of rt){if(gt.str===void 0){if(gt.type==="beginMarkedContentProps"||gt.type==="beginMarkedContent"){const ht=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),gt.id!==null&&this._container.setAttribute("id",`${gt.id}`),ht.append(this._container)}else gt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(gt.str),et(this,gt,pt)}}_layoutText(rt){const pt=this._layoutTextParams.properties=this._textDivProperties.get(rt);if(this._layoutTextParams.div=rt,_e(this._layoutTextParams),pt.hasText&&this._container.append(rt),pt.hasEOL){const gt=document.createElement("br");gt.setAttribute("role","presentation"),this._container.append(gt)}}_render(){const rt=new a.PromiseCapability;let pt=Object.create(null);if(this._isReadableStream){const gt=()=>{this._reader.read().then(({value:ht,done:dt})=>{if(dt){rt.resolve();return}Object.assign(pt,ht.styles),this._processItems(ht.items,pt),gt()},rt.reject)};this._reader=this._textContentSource.getReader(),gt()}else if(this._textContentSource){const{items:gt,styles:ht}=this._textContentSource;this._processItems(gt,ht),rt.resolve()}else throw new Error('No "textContentSource" parameter specified.');rt.promise.then(()=>{pt=null,tt(this)},this._capability.reject)}}s.TextLayerRenderTask=it;function st(nt){!nt.textContentSource&&(nt.textContent||nt.textContentStream)&&((0,c.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),nt.textContentSource=nt.textContent||nt.textContentStream);const{container:rt,viewport:pt}=nt,gt=getComputedStyle(rt),ht=gt.getPropertyValue("visibility"),dt=parseFloat(gt.getPropertyValue("--scale-factor"));ht==="visible"&&(!dt||Math.abs(dt-pt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const mt=new it(nt);return mt._render(),mt}function lt({container:nt,viewport:rt,textDivs:pt,textDivProperties:gt,isOffscreenCanvasSupported:ht,mustRotate:dt=!0,mustRescale:mt=!0}){if(dt&&(0,c.setLayerDimensions)(nt,{rotation:rt.rotation}),mt){const yt=b(0,ht),Et={prevFontSize:null,prevFontFamily:null,div:null,scale:rt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:yt};for(const vt of pt)Et.properties=gt.get(vt),Et.div=vt,_e(Et)}}},(i,s,o)=>{var $,et,_e,tt,it,st,lt,nt,rt,pt,gt,Ns,us,Ds,js;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var a=o(1),c=o(4),d=o(28),h=o(33),g=o(6),_=o(34);const xt=class xt{constructor({uiManager:vt,pageIndex:St,div:Rt,accessibilityManager:nn,annotationLayer:zt,viewport:sn,l10n:en}){fn(this,gt);fn(this,$);fn(this,et,!1);fn(this,_e,null);fn(this,tt,this.pointerup.bind(this));fn(this,it,this.pointerdown.bind(this));fn(this,st,new Map);fn(this,lt,!1);fn(this,nt,!1);fn(this,rt,!1);fn(this,pt);const Nt=[d.FreeTextEditor,h.InkEditor,_.StampEditor];if(!xt._initialized){xt._initialized=!0;for(const At of Nt)At.initialize(en)}vt.registerEditorTypes(Nt),dn(this,pt,vt),this.pageIndex=St,this.div=Rt,dn(this,$,nn),dn(this,_e,zt),this.viewport=sn,at(this,pt).addLayer(this)}get isEmpty(){return at(this,st).size===0}updateToolbar(vt){at(this,pt).updateToolbar(vt)}updateMode(vt=at(this,pt).getMode()){an(this,gt,js).call(this),vt===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),vt!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",vt===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",vt===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",vt===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(vt){if(!vt&&at(this,pt).getMode()!==a.AnnotationEditorType.INK)return;if(!vt){for(const Rt of at(this,st).values())if(Rt.isEmpty()){Rt.setInBackground();return}}an(this,gt,us).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(vt){at(this,pt).setEditingState(vt)}addCommands(vt){at(this,pt).addCommands(vt)}enable(){this.div.style.pointerEvents="auto";const vt=new Set;for(const Rt of at(this,st).values())Rt.enableEditing(),Rt.annotationElementId&&vt.add(Rt.annotationElementId);if(!at(this,_e))return;const St=at(this,_e).getEditableAnnotations();for(const Rt of St){if(Rt.hide(),at(this,pt).isDeletedAnnotationElement(Rt.data.id)||vt.has(Rt.data.id))continue;const nn=this.deserialize(Rt);nn&&(this.addOrRebuild(nn),nn.enableEditing())}}disable(){var St;dn(this,rt,!0),this.div.style.pointerEvents="none";const vt=new Set;for(const Rt of at(this,st).values()){if(Rt.disableEditing(),!Rt.annotationElementId||Rt.serialize()!==null){vt.add(Rt.annotationElementId);continue}(St=this.getEditableAnnotation(Rt.annotationElementId))==null||St.show(),Rt.remove()}if(at(this,_e)){const Rt=at(this,_e).getEditableAnnotations();for(const nn of Rt){const{id:zt}=nn.data;vt.has(zt)||at(this,pt).isDeletedAnnotationElement(zt)||nn.show()}}an(this,gt,js).call(this),this.isEmpty&&(this.div.hidden=!0),dn(this,rt,!1)}getEditableAnnotation(vt){var St;return((St=at(this,_e))==null?void 0:St.getEditableAnnotation(vt))||null}setActiveEditor(vt){at(this,pt).getActive()!==vt&&at(this,pt).setActiveEditor(vt)}enableClick(){this.div.addEventListener("pointerdown",at(this,it)),this.div.addEventListener("pointerup",at(this,tt))}disableClick(){this.div.removeEventListener("pointerdown",at(this,it)),this.div.removeEventListener("pointerup",at(this,tt))}attach(vt){at(this,st).set(vt.id,vt);const{annotationElementId:St}=vt;St&&at(this,pt).isDeletedAnnotationElement(St)&&at(this,pt).removeDeletedAnnotationElement(vt)}detach(vt){var St;at(this,st).delete(vt.id),(St=at(this,$))==null||St.removePointerInTextLayer(vt.contentDiv),!at(this,rt)&&vt.annotationElementId&&at(this,pt).addDeletedAnnotationElement(vt)}remove(vt){this.detach(vt),at(this,pt).removeEditor(vt),vt.div.contains(document.activeElement)&&setTimeout(()=>{at(this,pt).focusMainContainer()},0),vt.div.remove(),vt.isAttachedToDOM=!1,at(this,nt)||this.addInkEditorIfNeeded(!1)}changeParent(vt){var St;vt.parent!==this&&(vt.annotationElementId&&(at(this,pt).addDeletedAnnotationElement(vt.annotationElementId),c.AnnotationEditor.deleteAnnotationElement(vt),vt.annotationElementId=null),this.attach(vt),(St=vt.parent)==null||St.detach(vt),vt.setParent(this),vt.div&&vt.isAttachedToDOM&&(vt.div.remove(),this.div.append(vt.div)))}add(vt){if(this.changeParent(vt),at(this,pt).addEditor(vt),this.attach(vt),!vt.isAttachedToDOM){const St=vt.render();this.div.append(St),vt.isAttachedToDOM=!0}vt.fixAndSetPosition(),vt.onceAdded(),at(this,pt).addToAnnotationStorage(vt)}moveEditorInDOM(vt){var Rt;if(!vt.isAttachedToDOM)return;const{activeElement:St}=document;vt.div.contains(St)&&(vt._focusEventsAllowed=!1,setTimeout(()=>{vt.div.contains(document.activeElement)?vt._focusEventsAllowed=!0:(vt.div.addEventListener("focusin",()=>{vt._focusEventsAllowed=!0},{once:!0}),St.focus())},0)),vt._structTreeParentId=(Rt=at(this,$))==null?void 0:Rt.moveElementInDOM(this.div,vt.div,vt.contentDiv,!0)}addOrRebuild(vt){vt.needsToBeRebuilt()?vt.rebuild():this.add(vt)}addUndoableEditor(vt){const St=()=>vt._uiManager.rebuild(vt),Rt=()=>{vt.remove()};this.addCommands({cmd:St,undo:Rt,mustExec:!1})}getNextId(){return at(this,pt).getId()}pasteEditor(vt,St){at(this,pt).updateToolbar(vt),at(this,pt).updateMode(vt);const{offsetX:Rt,offsetY:nn}=an(this,gt,Ds).call(this),zt=this.getNextId(),sn=an(this,gt,Ns).call(this,{parent:this,id:zt,x:Rt,y:nn,uiManager:at(this,pt),isCentered:!0,...St});sn&&this.add(sn)}deserialize(vt){switch(vt.annotationType??vt.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return d.FreeTextEditor.deserialize(vt,this,at(this,pt));case a.AnnotationEditorType.INK:return h.InkEditor.deserialize(vt,this,at(this,pt));case a.AnnotationEditorType.STAMP:return _.StampEditor.deserialize(vt,this,at(this,pt))}return null}addNewEditor(){an(this,gt,us).call(this,an(this,gt,Ds).call(this),!0)}setSelected(vt){at(this,pt).setSelected(vt)}toggleSelected(vt){at(this,pt).toggleSelected(vt)}isSelected(vt){return at(this,pt).isSelected(vt)}unselect(vt){at(this,pt).unselect(vt)}pointerup(vt){const{isMac:St}=a.FeatureTest.platform;if(!(vt.button!==0||vt.ctrlKey&&St)&&vt.target===this.div&&at(this,lt)){if(dn(this,lt,!1),!at(this,et)){dn(this,et,!0);return}if(at(this,pt).getMode()===a.AnnotationEditorType.STAMP){at(this,pt).unselectAll();return}an(this,gt,us).call(this,vt,!1)}}pointerdown(vt){if(at(this,lt)){dn(this,lt,!1);return}const{isMac:St}=a.FeatureTest.platform;if(vt.button!==0||vt.ctrlKey&&St||vt.target!==this.div)return;dn(this,lt,!0);const Rt=at(this,pt).getActive();dn(this,et,!Rt||Rt.isEmpty())}findNewParent(vt,St,Rt){const nn=at(this,pt).findParent(St,Rt);return nn===null||nn===this?!1:(nn.changeParent(vt),!0)}destroy(){var vt,St;((vt=at(this,pt).getActive())==null?void 0:vt.parent)===this&&(at(this,pt).commitOrRemove(),at(this,pt).setActiveEditor(null));for(const Rt of at(this,st).values())(St=at(this,$))==null||St.removePointerInTextLayer(Rt.contentDiv),Rt.setParent(null),Rt.isAttachedToDOM=!1,Rt.div.remove();this.div=null,at(this,st).clear(),at(this,pt).removeLayer(this)}render({viewport:vt}){this.viewport=vt,(0,g.setLayerDimensions)(this.div,vt);for(const St of at(this,pt).getEditors(this.pageIndex))this.add(St);this.updateMode()}update({viewport:vt}){at(this,pt).commitOrRemove(),this.viewport=vt,(0,g.setLayerDimensions)(this.div,{rotation:vt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:vt,pageHeight:St}=this.viewport.rawDims;return[vt,St]}};$=new WeakMap,et=new WeakMap,_e=new WeakMap,tt=new WeakMap,it=new WeakMap,st=new WeakMap,lt=new WeakMap,nt=new WeakMap,rt=new WeakMap,pt=new WeakMap,gt=new WeakSet,Ns=function(vt){switch(at(this,pt).getMode()){case a.AnnotationEditorType.FREETEXT:return new d.FreeTextEditor(vt);case a.AnnotationEditorType.INK:return new h.InkEditor(vt);case a.AnnotationEditorType.STAMP:return new _.StampEditor(vt)}return null},us=function(vt,St){const Rt=this.getNextId(),nn=an(this,gt,Ns).call(this,{parent:this,id:Rt,x:vt.offsetX,y:vt.offsetY,uiManager:at(this,pt),isCentered:St});return nn&&this.add(nn),nn},Ds=function(){const{x:vt,y:St,width:Rt,height:nn}=this.div.getBoundingClientRect(),zt=Math.max(0,vt),sn=Math.max(0,St),en=Math.min(window.innerWidth,vt+Rt),Nt=Math.min(window.innerHeight,St+nn),At=(zt+en)/2-vt,wt=(sn+Nt)/2-St,[rn,kt]=this.viewport.rotation%180===0?[At,wt]:[wt,At];return{offsetX:rn,offsetY:kt}},js=function(){dn(this,nt,!0);for(const vt of at(this,st).values())vt.isEmpty()&&vt.remove();dn(this,nt,!1)},or(xt,"_initialized",!1);let b=xt;s.AnnotationEditorLayer=b},(i,s,o)=>{var _,b,$,et,_e,tt,it,st,lt,nt,bo,wo,So,_i,$s,Eo,Bs;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var a=o(1),c=o(5),d=o(4),h=o(29);const xt=class xt extends d.AnnotationEditor{constructor(St){super({...St,name:"freeTextEditor"});fn(this,nt);fn(this,_,this.editorDivBlur.bind(this));fn(this,b,this.editorDivFocus.bind(this));fn(this,$,this.editorDivInput.bind(this));fn(this,et,this.editorDivKeydown.bind(this));fn(this,_e);fn(this,tt,"");fn(this,it,`${this.id}-editor`);fn(this,st);fn(this,lt,null);dn(this,_e,St.color||xt._defaultColor||d.AnnotationEditor._defaultLineColor),dn(this,st,St.fontSize||xt._defaultFontSize)}static get _keyboardManager(){const St=xt.prototype,Rt=sn=>sn.isEmpty(),nn=c.AnnotationEditorUIManager.TRANSLATE_SMALL,zt=c.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new c.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],St.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],St.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],St._translateEmpty,{args:[-nn,0],checker:Rt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],St._translateEmpty,{args:[-zt,0],checker:Rt}],[["ArrowRight","mac+ArrowRight"],St._translateEmpty,{args:[nn,0],checker:Rt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],St._translateEmpty,{args:[zt,0],checker:Rt}],[["ArrowUp","mac+ArrowUp"],St._translateEmpty,{args:[0,-nn],checker:Rt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],St._translateEmpty,{args:[0,-zt],checker:Rt}],[["ArrowDown","mac+ArrowDown"],St._translateEmpty,{args:[0,nn],checker:Rt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],St._translateEmpty,{args:[0,zt],checker:Rt}]]))}static initialize(St){d.AnnotationEditor.initialize(St,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Rt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Rt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(St,Rt){switch(St){case a.AnnotationEditorParamsType.FREETEXT_SIZE:xt._defaultFontSize=Rt;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:xt._defaultColor=Rt;break}}updateParams(St,Rt){switch(St){case a.AnnotationEditorParamsType.FREETEXT_SIZE:an(this,nt,bo).call(this,Rt);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:an(this,nt,wo).call(this,Rt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,xt._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,xt._defaultColor||d.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,at(this,st)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,at(this,_e)]]}_translateEmpty(St,Rt){this._uiManager.translateSelectedEditors(St,Rt,!0)}getInitialTranslation(){const St=this.parentScale;return[-xt._internalPadding*St,-(xt._internalPadding+at(this,st))*St]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",at(this,et)),this.editorDiv.addEventListener("focus",at(this,b)),this.editorDiv.addEventListener("blur",at(this,_)),this.editorDiv.addEventListener("input",at(this,$)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",at(this,it)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",at(this,et)),this.editorDiv.removeEventListener("focus",at(this,b)),this.editorDiv.removeEventListener("blur",at(this,_)),this.editorDiv.removeEventListener("input",at(this,$)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(St){this._focusEventsAllowed&&(super.focusin(St),St.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var St;if(this.width){an(this,nt,Bs).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(St=this._initialOptions)!=null&&St.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const St=at(this,tt),Rt=dn(this,tt,an(this,nt,So).call(this).trimEnd());if(St===Rt)return;const nn=zt=>{if(dn(this,tt,zt),!zt){this.remove();return}an(this,nt,$s).call(this),this._uiManager.rebuild(this),an(this,nt,_i).call(this)};this.addCommands({cmd:()=>{nn(Rt)},undo:()=>{nn(St)},mustExec:!1}),an(this,nt,_i).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(St){this.enterInEditMode()}keydown(St){St.target===this.div&&St.key==="Enter"&&(this.enterInEditMode(),St.preventDefault())}editorDivKeydown(St){xt._keyboardManager.exec(this,St)}editorDivFocus(St){this.isEditing=!0}editorDivBlur(St){this.isEditing=!1}editorDivInput(St){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let St,Rt;this.width&&(St=this.x,Rt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",at(this,it)),this.enableEditing(),d.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(zt=>{var sn;return(sn=this.editorDiv)==null?void 0:sn.setAttribute("aria-label",zt)}),d.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(zt=>{var sn;return(sn=this.editorDiv)==null?void 0:sn.setAttribute("default-content",zt)}),this.editorDiv.contentEditable=!0;const{style:nn}=this.editorDiv;if(nn.fontSize=`calc(${at(this,st)}px * var(--scale-factor))`,nn.color=at(this,_e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[zt,sn]=this.parentDimensions;if(this.annotationElementId){const{position:en}=at(this,lt);let[Nt,At]=this.getInitialTranslation();[Nt,At]=this.pageTranslationToScreen(Nt,At);const[wt,rn]=this.pageDimensions,[kt,ot]=this.pageTranslation;let bt,Pt;switch(this.rotation){case 0:bt=St+(en[0]-kt)/wt,Pt=Rt+this.height-(en[1]-ot)/rn;break;case 90:bt=St+(en[0]-kt)/wt,Pt=Rt-(en[1]-ot)/rn,[Nt,At]=[At,-Nt];break;case 180:bt=St-this.width+(en[0]-kt)/wt,Pt=Rt-(en[1]-ot)/rn,[Nt,At]=[-Nt,-At];break;case 270:bt=St+(en[0]-kt-this.height*rn)/wt,Pt=Rt+(en[1]-ot-this.width*wt)/rn,[Nt,At]=[-At,Nt];break}this.setAt(bt*zt,Pt*sn,Nt,At)}else this.setAt(St*zt,Rt*sn,this.width*zt,this.height*sn);an(this,nt,$s).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(St,Rt,nn){let zt=null;if(St instanceof h.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:en,fontColor:Nt},rect:At,rotation:wt,id:rn},textContent:kt,textPosition:ot,parent:{page:{pageNumber:bt}}}=St;if(!kt||kt.length===0)return null;zt=St={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(Nt),fontSize:en,value:kt.join(`
`),position:ot,pageIndex:bt-1,rect:At,rotation:wt,id:rn,deleted:!1}}const sn=super.deserialize(St,Rt,nn);return dn(sn,st,St.fontSize),dn(sn,_e,a.Util.makeHexColor(...St.color)),dn(sn,tt,St.value),sn.annotationElementId=St.id||null,dn(sn,lt,zt),sn}serialize(St=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Rt=xt._internalPadding*this.parentScale,nn=this.getRect(Rt,Rt),zt=d.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:at(this,_e)),sn={annotationType:a.AnnotationEditorType.FREETEXT,color:zt,fontSize:at(this,st),value:at(this,tt),pageIndex:this.pageIndex,rect:nn,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return St?sn:this.annotationElementId&&!an(this,nt,Eo).call(this,sn)?null:(sn.id=this.annotationElementId,sn)}};_=new WeakMap,b=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,tt=new WeakMap,it=new WeakMap,st=new WeakMap,lt=new WeakMap,nt=new WeakSet,bo=function(St){const Rt=zt=>{this.editorDiv.style.fontSize=`calc(${zt}px * var(--scale-factor))`,this.translate(0,-(zt-at(this,st))*this.parentScale),dn(this,st,zt),an(this,nt,_i).call(this)},nn=at(this,st);this.addCommands({cmd:()=>{Rt(St)},undo:()=>{Rt(nn)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},wo=function(St){const Rt=at(this,_e);this.addCommands({cmd:()=>{dn(this,_e,this.editorDiv.style.color=St)},undo:()=>{dn(this,_e,this.editorDiv.style.color=Rt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},So=function(){const St=this.editorDiv.getElementsByTagName("div");if(St.length===0)return this.editorDiv.innerText;const Rt=[];for(const nn of St)Rt.push(nn.innerText.replace(/\r\n?|\n/,""));return Rt.join(`
`)},_i=function(){const[St,Rt]=this.parentDimensions;let nn;if(this.isAttachedToDOM)nn=this.div.getBoundingClientRect();else{const{currentLayer:zt,div:sn}=this,en=sn.style.display;sn.style.display="hidden",zt.div.append(this.div),nn=sn.getBoundingClientRect(),sn.remove(),sn.style.display=en}this.rotation%180===this.parentRotation%180?(this.width=nn.width/St,this.height=nn.height/Rt):(this.width=nn.height/St,this.height=nn.width/Rt),this.fixAndSetPosition()},$s=function(){if(this.editorDiv.replaceChildren(),!!at(this,tt))for(const St of at(this,tt).split(`
`)){const Rt=document.createElement("div");Rt.append(St?document.createTextNode(St):document.createElement("br")),this.editorDiv.append(Rt)}},Eo=function(St){const{value:Rt,fontSize:nn,color:zt,rect:sn,pageIndex:en}=at(this,lt);return St.value!==Rt||St.fontSize!==nn||St.rect.some((Nt,At)=>Math.abs(Nt-sn[At])>=1)||St.color.some((Nt,At)=>Nt!==zt[At])||St.pageIndex!==en},Bs=function(St=!1){if(!this.annotationElementId)return;if(an(this,nt,_i).call(this),!St&&(this.width===0||this.height===0)){setTimeout(()=>an(this,nt,Bs).call(this,!0),0);return}const Rt=xt._internalPadding*this.parentScale;at(this,lt).rect=this.getRect(Rt,Rt)},or(xt,"_freeTextDefaultContent",""),or(xt,"_internalPadding",0),or(xt,"_defaultColor",null),or(xt,"_defaultFontSize",10),or(xt,"_type","freetext");let g=xt;s.FreeTextEditor=g},(i,s,o)=>{var Pt,jt,Ir,Ao,yn,Sn,En,kn,Tn,In,gn,xn,Tt,Yt,hn,_n,Pn,Fn,Mn,pn,un,vn,Co,ds,zs,Us,Hn,er,rr,Rn,mn,bn,Ln,Hs,Yn,tn,An,Dn,Po,Vs;Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var a=o(1),c=o(6),d=o(3),h=o(30),g=o(31),_=o(32);const b=1e3,$=9,et=new WeakSet;function _e(Un){return{width:Un[2]-Un[0],height:Un[3]-Un[1]}}class tt{static create(Jt){switch(Jt.data.annotationType){case a.AnnotationType.LINK:return new st(Jt);case a.AnnotationType.TEXT:return new lt(Jt);case a.AnnotationType.WIDGET:switch(Jt.data.fieldType){case"Tx":return new rt(Jt);case"Btn":return Jt.data.radioButton?new ht(Jt):Jt.data.checkBox?new gt(Jt):new dt(Jt);case"Ch":return new mt(Jt);case"Sig":return new pt(Jt)}return new nt(Jt);case a.AnnotationType.POPUP:return new yt(Jt);case a.AnnotationType.FREETEXT:return new Et(Jt);case a.AnnotationType.LINE:return new vt(Jt);case a.AnnotationType.SQUARE:return new St(Jt);case a.AnnotationType.CIRCLE:return new Rt(Jt);case a.AnnotationType.POLYLINE:return new nn(Jt);case a.AnnotationType.CARET:return new sn(Jt);case a.AnnotationType.INK:return new en(Jt);case a.AnnotationType.POLYGON:return new zt(Jt);case a.AnnotationType.HIGHLIGHT:return new Nt(Jt);case a.AnnotationType.UNDERLINE:return new At(Jt);case a.AnnotationType.SQUIGGLY:return new wt(Jt);case a.AnnotationType.STRIKEOUT:return new rn(Jt);case a.AnnotationType.STAMP:return new kt(Jt);case a.AnnotationType.FILEATTACHMENT:return new ot(Jt);default:return new it(Jt)}}}const Mt=class Mt{constructor(Jt,{isRenderable:Lt=!1,ignoreBorder:ln=!1,createQuadrilaterals:wn=!1}={}){fn(this,Pt,!1);this.isRenderable=Lt,this.data=Jt.data,this.layer=Jt.layer,this.linkService=Jt.linkService,this.downloadManager=Jt.downloadManager,this.imageResourcesPath=Jt.imageResourcesPath,this.renderForms=Jt.renderForms,this.svgFactory=Jt.svgFactory,this.annotationStorage=Jt.annotationStorage,this.enableScripting=Jt.enableScripting,this.hasJSActions=Jt.hasJSActions,this._fieldObjects=Jt.fieldObjects,this.parent=Jt.parent,Lt&&(this.container=this._createContainer(ln)),wn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Jt,contentsObj:Lt,richText:ln}){return!!(Jt!=null&&Jt.str||Lt!=null&&Lt.str||ln!=null&&ln.str)}get hasPopupData(){return Mt._hasPopupData(this.data)}_createContainer(Jt){const{data:Lt,parent:{page:ln,viewport:wn}}=this,Cn=document.createElement("section");Cn.setAttribute("data-annotation-id",Lt.id),this instanceof nt||(Cn.tabIndex=b),Cn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Cn.setAttribute("aria-haspopup","dialog"),Lt.noRotate&&Cn.classList.add("norotate");const{pageWidth:On,pageHeight:Nn,pageX:qn,pageY:Wn}=wn.rawDims;if(!Lt.rect||this instanceof yt){const{rotation:Zn}=Lt;return!Lt.hasOwnCanvas&&Zn!==0&&this.setRotation(Zn,Cn),Cn}const{width:Bn,height:tr}=_e(Lt.rect),Gn=a.Util.normalizeRect([Lt.rect[0],ln.view[3]-Lt.rect[1]+ln.view[1],Lt.rect[2],ln.view[3]-Lt.rect[3]+ln.view[1]]);if(!Jt&&Lt.borderStyle.width>0){Cn.style.borderWidth=`${Lt.borderStyle.width}px`;const Zn=Lt.borderStyle.horizontalCornerRadius,nr=Lt.borderStyle.verticalCornerRadius;if(Zn>0||nr>0){const sr=`calc(${Zn}px * var(--scale-factor)) / calc(${nr}px * var(--scale-factor))`;Cn.style.borderRadius=sr}else if(this instanceof ht){const sr=`calc(${Bn}px * var(--scale-factor)) / calc(${tr}px * var(--scale-factor))`;Cn.style.borderRadius=sr}switch(Lt.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:Cn.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:Cn.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:Cn.style.borderBottomStyle="solid";break}const ir=Lt.borderColor||null;ir?(dn(this,Pt,!0),Cn.style.borderColor=a.Util.makeHexColor(ir[0]|0,ir[1]|0,ir[2]|0)):Cn.style.borderWidth=0}Cn.style.left=`${100*(Gn[0]-qn)/On}%`,Cn.style.top=`${100*(Gn[1]-Wn)/Nn}%`;const{rotation:Kn}=Lt;return Lt.hasOwnCanvas||Kn===0?(Cn.style.width=`${100*Bn/On}%`,Cn.style.height=`${100*tr/Nn}%`):this.setRotation(Kn,Cn),Cn}setRotation(Jt,Lt=this.container){if(!this.data.rect)return;const{pageWidth:ln,pageHeight:wn}=this.parent.viewport.rawDims,{width:Cn,height:On}=_e(this.data.rect);let Nn,qn;Jt%180===0?(Nn=100*Cn/ln,qn=100*On/wn):(Nn=100*On/ln,qn=100*Cn/wn),Lt.style.width=`${Nn}%`,Lt.style.height=`${qn}%`,Lt.setAttribute("data-main-rotation",(360-Jt)%360)}get _commonActions(){const Jt=(Lt,ln,wn)=>{const Cn=wn.detail[Lt],On=Cn[0],Nn=Cn.slice(1);wn.target.style[ln]=h.ColorConverters[`${On}_HTML`](Nn),this.annotationStorage.setValue(this.data.id,{[ln]:h.ColorConverters[`${On}_rgb`](Nn)})};return(0,a.shadow)(this,"_commonActions",{display:Lt=>{const{display:ln}=Lt.detail,wn=ln%2===1;this.container.style.visibility=wn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:wn,noPrint:ln===1||ln===2})},print:Lt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Lt.detail.print})},hidden:Lt=>{const{hidden:ln}=Lt.detail;this.container.style.visibility=ln?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:ln,noView:ln})},focus:Lt=>{setTimeout(()=>Lt.target.focus({preventScroll:!1}),0)},userName:Lt=>{Lt.target.title=Lt.detail.userName},readonly:Lt=>{Lt.target.disabled=Lt.detail.readonly},required:Lt=>{this._setRequired(Lt.target,Lt.detail.required)},bgColor:Lt=>{Jt("bgColor","backgroundColor",Lt)},fillColor:Lt=>{Jt("fillColor","backgroundColor",Lt)},fgColor:Lt=>{Jt("fgColor","color",Lt)},textColor:Lt=>{Jt("textColor","color",Lt)},borderColor:Lt=>{Jt("borderColor","borderColor",Lt)},strokeColor:Lt=>{Jt("strokeColor","borderColor",Lt)},rotation:Lt=>{const ln=Lt.detail.rotation;this.setRotation(ln),this.annotationStorage.setValue(this.data.id,{rotation:ln})}})}_dispatchEventFromSandbox(Jt,Lt){const ln=this._commonActions;for(const wn of Object.keys(Lt.detail)){const Cn=Jt[wn]||ln[wn];Cn==null||Cn(Lt)}}_setDefaultPropertiesFromJS(Jt){if(!this.enableScripting)return;const Lt=this.annotationStorage.getRawValue(this.data.id);if(!Lt)return;const ln=this._commonActions;for(const[wn,Cn]of Object.entries(Lt)){const On=ln[wn];if(On){const Nn={detail:{[wn]:Cn},target:Jt};On(Nn),delete Lt[wn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Jt}=this.data;if(!Jt)return;const[Lt,ln,wn,Cn]=this.data.rect;if(Jt.length===1){const[,{x:nr,y:ir},{x:sr,y:cr}]=Jt[0];if(wn===nr&&Cn===ir&&Lt===sr&&ln===cr)return}const{style:On}=this.container;let Nn;if(at(this,Pt)){const{borderColor:nr,borderWidth:ir}=On;On.borderWidth=0,Nn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${nr}" stroke-width="${ir}">`],this.container.classList.add("hasBorder")}const qn=wn-Lt,Wn=Cn-ln,{svgFactory:Bn}=this,tr=Bn.createElement("svg");tr.classList.add("quadrilateralsContainer"),tr.setAttribute("width",0),tr.setAttribute("height",0);const Gn=Bn.createElement("defs");tr.append(Gn);const Kn=Bn.createElement("clipPath"),Zn=`clippath_${this.data.id}`;Kn.setAttribute("id",Zn),Kn.setAttribute("clipPathUnits","objectBoundingBox"),Gn.append(Kn);for(const[,{x:nr,y:ir},{x:sr,y:cr}]of Jt){const ar=Bn.createElement("rect"),xr=(sr-Lt)/qn,wr=(Cn-ir)/Wn,Sr=(nr-sr)/qn,Zs=(ir-cr)/Wn;ar.setAttribute("x",xr),ar.setAttribute("y",wr),ar.setAttribute("width",Sr),ar.setAttribute("height",Zs),Kn.append(ar),Nn==null||Nn.push(`<rect vector-effect="non-scaling-stroke" x="${xr}" y="${wr}" width="${Sr}" height="${Zs}"/>`)}at(this,Pt)&&(Nn.push("</g></svg>')"),On.backgroundImage=Nn.join("")),this.container.append(tr),this.container.style.clipPath=`url(#${Zn})`}_createPopup(){const{container:Jt,data:Lt}=this;Jt.setAttribute("aria-haspopup","dialog");const ln=new yt({data:{color:Lt.color,titleObj:Lt.titleObj,modificationDate:Lt.modificationDate,contentsObj:Lt.contentsObj,richText:Lt.richText,parentRect:Lt.rect,borderStyle:0,id:`popup_${Lt.id}`,rotation:Lt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(ln.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Jt,Lt=null){const ln=[];if(this._fieldObjects){const wn=this._fieldObjects[Jt];if(wn)for(const{page:Cn,id:On,exportValues:Nn}of wn){if(Cn===-1||On===Lt)continue;const qn=typeof Nn=="string"?Nn:null,Wn=document.querySelector(`[data-element-id="${On}"]`);if(Wn&&!et.has(Wn)){(0,a.warn)(`_getElementsByName - element not allowed: ${On}`);continue}ln.push({id:On,exportValue:qn,domElement:Wn})}return ln}for(const wn of document.getElementsByName(Jt)){const{exportValue:Cn}=wn,On=wn.getAttribute("data-element-id");On!==Lt&&et.has(wn)&&ln.push({id:On,exportValue:Cn,domElement:wn})}return ln}show(){var Jt;this.container&&(this.container.hidden=!1),(Jt=this.popup)==null||Jt.maybeShow()}hide(){var Jt;this.container&&(this.container.hidden=!0),(Jt=this.popup)==null||Jt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Jt=this.getElementsToTriggerPopup();if(Array.isArray(Jt))for(const Lt of Jt)Lt.classList.add("highlightArea");else Jt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Jt,data:{id:Lt}}=this;this.container.addEventListener("dblclick",()=>{var ln;(ln=this.linkService.eventBus)==null||ln.dispatch("switchannotationeditormode",{source:this,mode:Jt,editId:Lt})})}};Pt=new WeakMap;let it=Mt;class st extends it{constructor(Lt,ln=null){super(Lt,{isRenderable:!0,ignoreBorder:!!(ln!=null&&ln.ignoreBorder),createQuadrilaterals:!0});fn(this,jt);this.isTooltipOnly=Lt.data.isTooltipOnly}render(){const{data:Lt,linkService:ln}=this,wn=document.createElement("a");wn.setAttribute("data-element-id",Lt.id);let Cn=!1;return Lt.url?(ln.addLinkAttributes(wn,Lt.url,Lt.newWindow),Cn=!0):Lt.action?(this._bindNamedAction(wn,Lt.action),Cn=!0):Lt.attachment?(this._bindAttachment(wn,Lt.attachment),Cn=!0):Lt.setOCGState?(an(this,jt,Ao).call(this,wn,Lt.setOCGState),Cn=!0):Lt.dest?(this._bindLink(wn,Lt.dest),Cn=!0):(Lt.actions&&(Lt.actions.Action||Lt.actions["Mouse Up"]||Lt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(wn,Lt),Cn=!0),Lt.resetForm?(this._bindResetFormAction(wn,Lt.resetForm),Cn=!0):this.isTooltipOnly&&!Cn&&(this._bindLink(wn,""),Cn=!0)),this.container.classList.add("linkAnnotation"),Cn&&this.container.append(wn),this.container}_bindLink(Lt,ln){Lt.href=this.linkService.getDestinationHash(ln),Lt.onclick=()=>(ln&&this.linkService.goToDestination(ln),!1),(ln||ln==="")&&an(this,jt,Ir).call(this)}_bindNamedAction(Lt,ln){Lt.href=this.linkService.getAnchorUrl(""),Lt.onclick=()=>(this.linkService.executeNamedAction(ln),!1),an(this,jt,Ir).call(this)}_bindAttachment(Lt,ln){Lt.href=this.linkService.getAnchorUrl(""),Lt.onclick=()=>{var wn;return(wn=this.downloadManager)==null||wn.openOrDownloadData(this.container,ln.content,ln.filename),!1},an(this,jt,Ir).call(this)}_bindJSAction(Lt,ln){Lt.href=this.linkService.getAnchorUrl("");const wn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Cn of Object.keys(ln.actions)){const On=wn.get(Cn);On&&(Lt[On]=()=>{var Nn;return(Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ln.id,name:Cn}}),!1})}Lt.onclick||(Lt.onclick=()=>!1),an(this,jt,Ir).call(this)}_bindResetFormAction(Lt,ln){const wn=Lt.onclick;if(wn||(Lt.href=this.linkService.getAnchorUrl("")),an(this,jt,Ir).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),wn||(Lt.onclick=()=>!1);return}Lt.onclick=()=>{var tr;wn==null||wn();const{fields:Cn,refs:On,include:Nn}=ln,qn=[];if(Cn.length!==0||On.length!==0){const Gn=new Set(On);for(const Kn of Cn){const Zn=this._fieldObjects[Kn]||[];for(const{id:nr}of Zn)Gn.add(nr)}for(const Kn of Object.values(this._fieldObjects))for(const Zn of Kn)Gn.has(Zn.id)===Nn&&qn.push(Zn)}else for(const Gn of Object.values(this._fieldObjects))qn.push(...Gn);const Wn=this.annotationStorage,Bn=[];for(const Gn of qn){const{id:Kn}=Gn;switch(Bn.push(Kn),Gn.type){case"text":{const nr=Gn.defaultValue||"";Wn.setValue(Kn,{value:nr});break}case"checkbox":case"radiobutton":{const nr=Gn.defaultValue===Gn.exportValues;Wn.setValue(Kn,{value:nr});break}case"combobox":case"listbox":{const nr=Gn.defaultValue||"";Wn.setValue(Kn,{value:nr});break}default:continue}const Zn=document.querySelector(`[data-element-id="${Kn}"]`);if(Zn){if(!et.has(Zn)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${Kn}`);continue}}else continue;Zn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((tr=this.linkService.eventBus)==null||tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Bn,name:"ResetForm"}})),!1}}}jt=new WeakSet,Ir=function(){this.container.setAttribute("data-internal-link","")},Ao=function(Lt,ln){Lt.href=this.linkService.getAnchorUrl(""),Lt.onclick=()=>(this.linkService.executeSetOCGState(ln),!1),an(this,jt,Ir).call(this)};class lt extends it{constructor(Jt){super(Jt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Jt=document.createElement("img");return Jt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Jt.alt="[{{type}} Annotation]",Jt.dataset.l10nId="text_annotation_type",Jt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Jt),this.container}}class nt extends it{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Jt){var Lt;this.data.hasOwnCanvas&&(((Lt=Jt.previousSibling)==null?void 0:Lt.nodeName)==="CANVAS"&&(Jt.previousSibling.hidden=!0),Jt.hidden=!1)}_getKeyModifier(Jt){const{isWin:Lt,isMac:ln}=a.FeatureTest.platform;return Lt&&Jt.ctrlKey||ln&&Jt.metaKey}_setEventListener(Jt,Lt,ln,wn,Cn){ln.includes("mouse")?Jt.addEventListener(ln,On=>{var Nn;(Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:wn,value:Cn(On),shift:On.shiftKey,modifier:this._getKeyModifier(On)}})}):Jt.addEventListener(ln,On=>{var Nn;if(ln==="blur"){if(!Lt.focused||!On.relatedTarget)return;Lt.focused=!1}else if(ln==="focus"){if(Lt.focused)return;Lt.focused=!0}Cn&&((Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:wn,value:Cn(On)}}))})}_setEventListeners(Jt,Lt,ln,wn){var Cn,On,Nn;for(const[qn,Wn]of ln)(Wn==="Action"||(Cn=this.data.actions)!=null&&Cn[Wn])&&((Wn==="Focus"||Wn==="Blur")&&(Lt||(Lt={focused:!1})),this._setEventListener(Jt,Lt,qn,Wn,wn),Wn==="Focus"&&!((On=this.data.actions)!=null&&On.Blur)?this._setEventListener(Jt,Lt,"blur","Blur",null):Wn==="Blur"&&!((Nn=this.data.actions)!=null&&Nn.Focus)&&this._setEventListener(Jt,Lt,"focus","Focus",null))}_setBackgroundColor(Jt){const Lt=this.data.backgroundColor||null;Jt.style.backgroundColor=Lt===null?"transparent":a.Util.makeHexColor(Lt[0],Lt[1],Lt[2])}_setTextStyle(Jt){const Lt=["left","center","right"],{fontColor:ln}=this.data.defaultAppearanceData,wn=this.data.defaultAppearanceData.fontSize||$,Cn=Jt.style;let On;const Nn=2,qn=Wn=>Math.round(10*Wn)/10;if(this.data.multiLine){const Wn=Math.abs(this.data.rect[3]-this.data.rect[1]-Nn),Bn=Math.round(Wn/(a.LINE_FACTOR*wn))||1,tr=Wn/Bn;On=Math.min(wn,qn(tr/a.LINE_FACTOR))}else{const Wn=Math.abs(this.data.rect[3]-this.data.rect[1]-Nn);On=Math.min(wn,qn(Wn/a.LINE_FACTOR))}Cn.fontSize=`calc(${On}px * var(--scale-factor))`,Cn.color=a.Util.makeHexColor(ln[0],ln[1],ln[2]),this.data.textAlignment!==null&&(Cn.textAlign=Lt[this.data.textAlignment])}_setRequired(Jt,Lt){Lt?Jt.setAttribute("required",!0):Jt.removeAttribute("required"),Jt.setAttribute("aria-required",Lt)}}class rt extends nt{constructor(Jt){const Lt=Jt.renderForms||!Jt.data.hasAppearance&&!!Jt.data.fieldValue;super(Jt,{isRenderable:Lt})}setPropertyOnSiblings(Jt,Lt,ln,wn){const Cn=this.annotationStorage;for(const On of this._getElementsByName(Jt.name,Jt.id))On.domElement&&(On.domElement[Lt]=ln),Cn.setValue(On.id,{[wn]:ln})}render(){var wn,Cn;const Jt=this.annotationStorage,Lt=this.data.id;this.container.classList.add("textWidgetAnnotation");let ln=null;if(this.renderForms){const On=Jt.getValue(Lt,{value:this.data.fieldValue});let Nn=On.value||"";const qn=Jt.getValue(Lt,{charLimit:this.data.maxLen}).charLimit;qn&&Nn.length>qn&&(Nn=Nn.slice(0,qn));let Wn=On.formattedValue||((wn=this.data.textContent)==null?void 0:wn.join(`
`))||null;Wn&&this.data.comb&&(Wn=Wn.replaceAll(/\s+/g,""));const Bn={userValue:Nn,formattedValue:Wn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(ln=document.createElement("textarea"),ln.textContent=Wn??Nn,this.data.doNotScroll&&(ln.style.overflowY="hidden")):(ln=document.createElement("input"),ln.type="text",ln.setAttribute("value",Wn??Nn),this.data.doNotScroll&&(ln.style.overflowX="hidden")),this.data.hasOwnCanvas&&(ln.hidden=!0),et.add(ln),ln.setAttribute("data-element-id",Lt),ln.disabled=this.data.readOnly,ln.name=this.data.fieldName,ln.tabIndex=b,this._setRequired(ln,this.data.required),qn&&(ln.maxLength=qn),ln.addEventListener("input",Gn=>{Jt.setValue(Lt,{value:Gn.target.value}),this.setPropertyOnSiblings(ln,"value",Gn.target.value,"value"),Bn.formattedValue=null}),ln.addEventListener("resetform",Gn=>{const Kn=this.data.defaultFieldValue??"";ln.value=Bn.userValue=Kn,Bn.formattedValue=null});let tr=Gn=>{const{formattedValue:Kn}=Bn;Kn!=null&&(Gn.target.value=Kn),Gn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ln.addEventListener("focus",Kn=>{if(Bn.focused)return;const{target:Zn}=Kn;Bn.userValue&&(Zn.value=Bn.userValue),Bn.lastCommittedValue=Zn.value,Bn.commitKey=1,Bn.focused=!0}),ln.addEventListener("updatefromsandbox",Kn=>{this.showElementAndHideCanvas(Kn.target);const Zn={value(nr){Bn.userValue=nr.detail.value??"",Jt.setValue(Lt,{value:Bn.userValue.toString()}),nr.target.value=Bn.userValue},formattedValue(nr){const{formattedValue:ir}=nr.detail;Bn.formattedValue=ir,ir!=null&&nr.target!==document.activeElement&&(nr.target.value=ir),Jt.setValue(Lt,{formattedValue:ir})},selRange(nr){nr.target.setSelectionRange(...nr.detail.selRange)},charLimit:nr=>{var ar;const{charLimit:ir}=nr.detail,{target:sr}=nr;if(ir===0){sr.removeAttribute("maxLength");return}sr.setAttribute("maxLength",ir);let cr=Bn.userValue;!cr||cr.length<=ir||(cr=cr.slice(0,ir),sr.value=Bn.userValue=cr,Jt.setValue(Lt,{value:cr}),(ar=this.linkService.eventBus)==null||ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt,name:"Keystroke",value:cr,willCommit:!0,commitKey:1,selStart:sr.selectionStart,selEnd:sr.selectionEnd}}))}};this._dispatchEventFromSandbox(Zn,Kn)}),ln.addEventListener("keydown",Kn=>{var ir;Bn.commitKey=1;let Zn=-1;if(Kn.key==="Escape"?Zn=0:Kn.key==="Enter"&&!this.data.multiLine?Zn=2:Kn.key==="Tab"&&(Bn.commitKey=3),Zn===-1)return;const{value:nr}=Kn.target;Bn.lastCommittedValue!==nr&&(Bn.lastCommittedValue=nr,Bn.userValue=nr,(ir=this.linkService.eventBus)==null||ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt,name:"Keystroke",value:nr,willCommit:!0,commitKey:Zn,selStart:Kn.target.selectionStart,selEnd:Kn.target.selectionEnd}}))});const Gn=tr;tr=null,ln.addEventListener("blur",Kn=>{var nr;if(!Bn.focused||!Kn.relatedTarget)return;Bn.focused=!1;const{value:Zn}=Kn.target;Bn.userValue=Zn,Bn.lastCommittedValue!==Zn&&((nr=this.linkService.eventBus)==null||nr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt,name:"Keystroke",value:Zn,willCommit:!0,commitKey:Bn.commitKey,selStart:Kn.target.selectionStart,selEnd:Kn.target.selectionEnd}})),Gn(Kn)}),(Cn=this.data.actions)!=null&&Cn.Keystroke&&ln.addEventListener("beforeinput",Kn=>{var wr;Bn.lastCommittedValue=null;const{data:Zn,target:nr}=Kn,{value:ir,selectionStart:sr,selectionEnd:cr}=nr;let ar=sr,xr=cr;switch(Kn.inputType){case"deleteWordBackward":{const Sr=ir.substring(0,sr).match(/\w*[^\w]*$/);Sr&&(ar-=Sr[0].length);break}case"deleteWordForward":{const Sr=ir.substring(sr).match(/^[^\w]*\w*/);Sr&&(xr+=Sr[0].length);break}case"deleteContentBackward":sr===cr&&(ar-=1);break;case"deleteContentForward":sr===cr&&(xr+=1);break}Kn.preventDefault(),(wr=this.linkService.eventBus)==null||wr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt,name:"Keystroke",value:ir,change:Zn||"",willCommit:!1,selStart:ar,selEnd:xr}})}),this._setEventListeners(ln,Bn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Kn=>Kn.target.value)}if(tr&&ln.addEventListener("blur",tr),this.data.comb){const Kn=(this.data.rect[2]-this.data.rect[0])/qn;ln.classList.add("comb"),ln.style.letterSpacing=`calc(${Kn}px * var(--scale-factor) - 1ch)`}}else ln=document.createElement("div"),ln.textContent=this.data.fieldValue,ln.style.verticalAlign="middle",ln.style.display="table-cell";return this._setTextStyle(ln),this._setBackgroundColor(ln),this._setDefaultPropertiesFromJS(ln),this.container.append(ln),this.container}}class pt extends nt{constructor(Jt){super(Jt,{isRenderable:!!Jt.data.hasOwnCanvas})}}class gt extends nt{constructor(Jt){super(Jt,{isRenderable:Jt.renderForms})}render(){const Jt=this.annotationStorage,Lt=this.data,ln=Lt.id;let wn=Jt.getValue(ln,{value:Lt.exportValue===Lt.fieldValue}).value;typeof wn=="string"&&(wn=wn!=="Off",Jt.setValue(ln,{value:wn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Cn=document.createElement("input");return et.add(Cn),Cn.setAttribute("data-element-id",ln),Cn.disabled=Lt.readOnly,this._setRequired(Cn,this.data.required),Cn.type="checkbox",Cn.name=Lt.fieldName,wn&&Cn.setAttribute("checked",!0),Cn.setAttribute("exportValue",Lt.exportValue),Cn.tabIndex=b,Cn.addEventListener("change",On=>{const{name:Nn,checked:qn}=On.target;for(const Wn of this._getElementsByName(Nn,ln)){const Bn=qn&&Wn.exportValue===Lt.exportValue;Wn.domElement&&(Wn.domElement.checked=Bn),Jt.setValue(Wn.id,{value:Bn})}Jt.setValue(ln,{value:qn})}),Cn.addEventListener("resetform",On=>{const Nn=Lt.defaultFieldValue||"Off";On.target.checked=Nn===Lt.exportValue}),this.enableScripting&&this.hasJSActions&&(Cn.addEventListener("updatefromsandbox",On=>{const Nn={value(qn){qn.target.checked=qn.detail.value!=="Off",Jt.setValue(ln,{value:qn.target.checked})}};this._dispatchEventFromSandbox(Nn,On)}),this._setEventListeners(Cn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],On=>On.target.checked)),this._setBackgroundColor(Cn),this._setDefaultPropertiesFromJS(Cn),this.container.append(Cn),this.container}}class ht extends nt{constructor(Jt){super(Jt,{isRenderable:Jt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Jt=this.annotationStorage,Lt=this.data,ln=Lt.id;let wn=Jt.getValue(ln,{value:Lt.fieldValue===Lt.buttonValue}).value;typeof wn=="string"&&(wn=wn!==Lt.buttonValue,Jt.setValue(ln,{value:wn}));const Cn=document.createElement("input");if(et.add(Cn),Cn.setAttribute("data-element-id",ln),Cn.disabled=Lt.readOnly,this._setRequired(Cn,this.data.required),Cn.type="radio",Cn.name=Lt.fieldName,wn&&Cn.setAttribute("checked",!0),Cn.tabIndex=b,Cn.addEventListener("change",On=>{const{name:Nn,checked:qn}=On.target;for(const Wn of this._getElementsByName(Nn,ln))Jt.setValue(Wn.id,{value:!1});Jt.setValue(ln,{value:qn})}),Cn.addEventListener("resetform",On=>{const Nn=Lt.defaultFieldValue;On.target.checked=Nn!=null&&Nn===Lt.buttonValue}),this.enableScripting&&this.hasJSActions){const On=Lt.buttonValue;Cn.addEventListener("updatefromsandbox",Nn=>{const qn={value:Wn=>{const Bn=On===Wn.detail.value;for(const tr of this._getElementsByName(Wn.target.name)){const Gn=Bn&&tr.id===ln;tr.domElement&&(tr.domElement.checked=Gn),Jt.setValue(tr.id,{value:Gn})}}};this._dispatchEventFromSandbox(qn,Nn)}),this._setEventListeners(Cn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Nn=>Nn.target.checked)}return this._setBackgroundColor(Cn),this._setDefaultPropertiesFromJS(Cn),this.container.append(Cn),this.container}}class dt extends st{constructor(Jt){super(Jt,{ignoreBorder:Jt.data.hasAppearance})}render(){const Jt=super.render();Jt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Jt.title=this.data.alternativeText);const Lt=Jt.lastChild;return this.enableScripting&&this.hasJSActions&&Lt&&(this._setDefaultPropertiesFromJS(Lt),Lt.addEventListener("updatefromsandbox",ln=>{this._dispatchEventFromSandbox({},ln)})),Jt}}class mt extends nt{constructor(Jt){super(Jt,{isRenderable:Jt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Jt=this.annotationStorage,Lt=this.data.id,ln=Jt.getValue(Lt,{value:this.data.fieldValue}),wn=document.createElement("select");et.add(wn),wn.setAttribute("data-element-id",Lt),wn.disabled=this.data.readOnly,this._setRequired(wn,this.data.required),wn.name=this.data.fieldName,wn.tabIndex=b;let Cn=this.data.combo&&this.data.options.length>0;this.data.combo||(wn.size=this.data.options.length,this.data.multiSelect&&(wn.multiple=!0)),wn.addEventListener("resetform",Bn=>{const tr=this.data.defaultFieldValue;for(const Gn of wn.options)Gn.selected=Gn.value===tr});for(const Bn of this.data.options){const tr=document.createElement("option");tr.textContent=Bn.displayValue,tr.value=Bn.exportValue,ln.value.includes(Bn.exportValue)&&(tr.setAttribute("selected",!0),Cn=!1),wn.append(tr)}let On=null;if(Cn){const Bn=document.createElement("option");Bn.value=" ",Bn.setAttribute("hidden",!0),Bn.setAttribute("selected",!0),wn.prepend(Bn),On=()=>{Bn.remove(),wn.removeEventListener("input",On),On=null},wn.addEventListener("input",On)}const Nn=Bn=>{const tr=Bn?"value":"textContent",{options:Gn,multiple:Kn}=wn;return Kn?Array.prototype.filter.call(Gn,Zn=>Zn.selected).map(Zn=>Zn[tr]):Gn.selectedIndex===-1?null:Gn[Gn.selectedIndex][tr]};let qn=Nn(!1);const Wn=Bn=>{const tr=Bn.target.options;return Array.prototype.map.call(tr,Gn=>({displayValue:Gn.textContent,exportValue:Gn.value}))};return this.enableScripting&&this.hasJSActions?(wn.addEventListener("updatefromsandbox",Bn=>{const tr={value(Gn){On==null||On();const Kn=Gn.detail.value,Zn=new Set(Array.isArray(Kn)?Kn:[Kn]);for(const nr of wn.options)nr.selected=Zn.has(nr.value);Jt.setValue(Lt,{value:Nn(!0)}),qn=Nn(!1)},multipleSelection(Gn){wn.multiple=!0},remove(Gn){const Kn=wn.options,Zn=Gn.detail.remove;Kn[Zn].selected=!1,wn.remove(Zn),Kn.length>0&&Array.prototype.findIndex.call(Kn,ir=>ir.selected)===-1&&(Kn[0].selected=!0),Jt.setValue(Lt,{value:Nn(!0),items:Wn(Gn)}),qn=Nn(!1)},clear(Gn){for(;wn.length!==0;)wn.remove(0);Jt.setValue(Lt,{value:null,items:[]}),qn=Nn(!1)},insert(Gn){const{index:Kn,displayValue:Zn,exportValue:nr}=Gn.detail.insert,ir=wn.children[Kn],sr=document.createElement("option");sr.textContent=Zn,sr.value=nr,ir?ir.before(sr):wn.append(sr),Jt.setValue(Lt,{value:Nn(!0),items:Wn(Gn)}),qn=Nn(!1)},items(Gn){const{items:Kn}=Gn.detail;for(;wn.length!==0;)wn.remove(0);for(const Zn of Kn){const{displayValue:nr,exportValue:ir}=Zn,sr=document.createElement("option");sr.textContent=nr,sr.value=ir,wn.append(sr)}wn.options.length>0&&(wn.options[0].selected=!0),Jt.setValue(Lt,{value:Nn(!0),items:Wn(Gn)}),qn=Nn(!1)},indices(Gn){const Kn=new Set(Gn.detail.indices);for(const Zn of Gn.target.options)Zn.selected=Kn.has(Zn.index);Jt.setValue(Lt,{value:Nn(!0)}),qn=Nn(!1)},editable(Gn){Gn.target.disabled=!Gn.detail.editable}};this._dispatchEventFromSandbox(tr,Bn)}),wn.addEventListener("input",Bn=>{var Gn;const tr=Nn(!0);Jt.setValue(Lt,{value:tr}),Bn.preventDefault(),(Gn=this.linkService.eventBus)==null||Gn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt,name:"Keystroke",value:qn,changeEx:tr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(wn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Bn=>Bn.target.value)):wn.addEventListener("input",function(Bn){Jt.setValue(Lt,{value:Nn(!0)})}),this.data.combo&&this._setTextStyle(wn),this._setBackgroundColor(wn),this._setDefaultPropertiesFromJS(wn),this.container.append(wn),this.container}}class yt extends it{constructor(Jt){const{data:Lt,elements:ln}=Jt;super(Jt,{isRenderable:it._hasPopupData(Lt)}),this.elements=ln}render(){this.container.classList.add("popupAnnotation");const Jt=new xt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Lt=[];for(const ln of this.elements)ln.popup=Jt,Lt.push(ln.data.id),ln.addHighlightArea();return this.container.setAttribute("aria-controls",Lt.map(ln=>`${a.AnnotationPrefix}${ln}`).join(",")),this.container}}class xt{constructor({container:Jt,color:Lt,elements:ln,titleObj:wn,modificationDate:Cn,contentsObj:On,richText:Nn,parent:qn,rect:Wn,parentRect:Bn,open:tr}){fn(this,vn);fn(this,yn,null);fn(this,Sn,an(this,vn,Co).bind(this));fn(this,En,an(this,vn,Us).bind(this));fn(this,kn,an(this,vn,zs).bind(this));fn(this,Tn,an(this,vn,ds).bind(this));fn(this,In,null);fn(this,gn,null);fn(this,xn,null);fn(this,Tt,null);fn(this,Yt,null);fn(this,hn,null);fn(this,_n,!1);fn(this,Pn,null);fn(this,Fn,null);fn(this,Mn,null);fn(this,pn,null);fn(this,un,!1);var Kn;dn(this,gn,Jt),dn(this,pn,wn),dn(this,xn,On),dn(this,Mn,Nn),dn(this,Yt,qn),dn(this,In,Lt),dn(this,Fn,Wn),dn(this,hn,Bn),dn(this,Tt,ln);const Gn=c.PDFDateString.toDateObject(Cn);Gn&&dn(this,yn,qn.l10n.get("annotation_date_string",{date:Gn.toLocaleDateString(),time:Gn.toLocaleTimeString()})),this.trigger=ln.flatMap(Zn=>Zn.getElementsToTriggerPopup());for(const Zn of this.trigger)Zn.addEventListener("click",at(this,Tn)),Zn.addEventListener("mouseenter",at(this,kn)),Zn.addEventListener("mouseleave",at(this,En)),Zn.classList.add("popupTriggerArea");for(const Zn of ln)(Kn=Zn.container)==null||Kn.addEventListener("keydown",at(this,Sn));at(this,gn).hidden=!0,tr&&an(this,vn,ds).call(this)}render(){if(at(this,Pn))return;const{page:{view:Jt},viewport:{rawDims:{pageWidth:Lt,pageHeight:ln,pageX:wn,pageY:Cn}}}=at(this,Yt),On=dn(this,Pn,document.createElement("div"));if(On.className="popup",at(this,In)){const ar=On.style.outlineColor=a.Util.makeHexColor(...at(this,In));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?On.style.backgroundColor=`color-mix(in srgb, ${ar} 30%, white)`:On.style.backgroundColor=a.Util.makeHexColor(...at(this,In).map(wr=>Math.floor(.7*(255-wr)+wr)))}const Nn=document.createElement("span");Nn.className="header";const qn=document.createElement("h1");if(Nn.append(qn),{dir:qn.dir,str:qn.textContent}=at(this,pn),On.append(Nn),at(this,yn)){const ar=document.createElement("span");ar.classList.add("popupDate"),at(this,yn).then(xr=>{ar.textContent=xr}),Nn.append(ar)}const Wn=at(this,xn),Bn=at(this,Mn);if(Bn!=null&&Bn.str&&(!(Wn!=null&&Wn.str)||Wn.str===Bn.str))_.XfaLayer.render({xfaHtml:Bn.html,intent:"richText",div:On}),On.lastChild.classList.add("richText","popupContent");else{const ar=this._formatContents(Wn);On.append(ar)}let tr=!!at(this,hn),Gn=tr?at(this,hn):at(this,Fn);for(const ar of at(this,Tt))if(!Gn||a.Util.intersect(ar.data.rect,Gn)!==null){Gn=ar.data.rect,tr=!0;break}const Kn=a.Util.normalizeRect([Gn[0],Jt[3]-Gn[1]+Jt[1],Gn[2],Jt[3]-Gn[3]+Jt[1]]),nr=tr?Gn[2]-Gn[0]+5:0,ir=Kn[0]+nr,sr=Kn[1],{style:cr}=at(this,gn);cr.left=`${100*(ir-wn)/Lt}%`,cr.top=`${100*(sr-Cn)/ln}%`,at(this,gn).append(On)}_formatContents({str:Jt,dir:Lt}){const ln=document.createElement("p");ln.classList.add("popupContent"),ln.dir=Lt;const wn=Jt.split(/(?:\r\n?|\n)/);for(let Cn=0,On=wn.length;Cn<On;++Cn){const Nn=wn[Cn];ln.append(document.createTextNode(Nn)),Cn<On-1&&ln.append(document.createElement("br"))}return ln}forceHide(){dn(this,un,this.isVisible),at(this,un)&&(at(this,gn).hidden=!0)}maybeShow(){at(this,un)&&(dn(this,un,!1),at(this,gn).hidden=!1)}get isVisible(){return at(this,gn).hidden===!1}}yn=new WeakMap,Sn=new WeakMap,En=new WeakMap,kn=new WeakMap,Tn=new WeakMap,In=new WeakMap,gn=new WeakMap,xn=new WeakMap,Tt=new WeakMap,Yt=new WeakMap,hn=new WeakMap,_n=new WeakMap,Pn=new WeakMap,Fn=new WeakMap,Mn=new WeakMap,pn=new WeakMap,un=new WeakMap,vn=new WeakSet,Co=function(Jt){Jt.altKey||Jt.shiftKey||Jt.ctrlKey||Jt.metaKey||(Jt.key==="Enter"||Jt.key==="Escape"&&at(this,_n))&&an(this,vn,ds).call(this)},ds=function(){dn(this,_n,!at(this,_n)),at(this,_n)?(an(this,vn,zs).call(this),at(this,gn).addEventListener("click",at(this,Tn)),at(this,gn).addEventListener("keydown",at(this,Sn))):(an(this,vn,Us).call(this),at(this,gn).removeEventListener("click",at(this,Tn)),at(this,gn).removeEventListener("keydown",at(this,Sn)))},zs=function(){at(this,Pn)||this.render(),this.isVisible?at(this,_n)&&at(this,gn).classList.add("focused"):(at(this,gn).hidden=!1,at(this,gn).style.zIndex=parseInt(at(this,gn).style.zIndex)+1e3)},Us=function(){at(this,gn).classList.remove("focused"),!(at(this,_n)||!this.isVisible)&&(at(this,gn).hidden=!0,at(this,gn).style.zIndex=parseInt(at(this,gn).style.zIndex)-1e3)};class Et extends it{constructor(Jt){super(Jt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Jt.data.textContent,this.textPosition=Jt.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Jt=document.createElement("div");Jt.classList.add("annotationTextContent"),Jt.setAttribute("role","comment");for(const Lt of this.textContent){const ln=document.createElement("span");ln.textContent=Lt,Jt.append(ln)}this.container.append(Jt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=Et;class vt extends it{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0});fn(this,Hn,null)}render(){this.container.classList.add("lineAnnotation");const Lt=this.data,{width:ln,height:wn}=_e(Lt.rect),Cn=this.svgFactory.create(ln,wn,!0),On=dn(this,Hn,this.svgFactory.createElement("svg:line"));return On.setAttribute("x1",Lt.rect[2]-Lt.lineCoordinates[0]),On.setAttribute("y1",Lt.rect[3]-Lt.lineCoordinates[1]),On.setAttribute("x2",Lt.rect[2]-Lt.lineCoordinates[2]),On.setAttribute("y2",Lt.rect[3]-Lt.lineCoordinates[3]),On.setAttribute("stroke-width",Lt.borderStyle.width||1),On.setAttribute("stroke","transparent"),On.setAttribute("fill","transparent"),Cn.append(On),this.container.append(Cn),!Lt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,Hn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hn=new WeakMap;class St extends it{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0});fn(this,er,null)}render(){this.container.classList.add("squareAnnotation");const Lt=this.data,{width:ln,height:wn}=_e(Lt.rect),Cn=this.svgFactory.create(ln,wn,!0),On=Lt.borderStyle.width,Nn=dn(this,er,this.svgFactory.createElement("svg:rect"));return Nn.setAttribute("x",On/2),Nn.setAttribute("y",On/2),Nn.setAttribute("width",ln-On),Nn.setAttribute("height",wn-On),Nn.setAttribute("stroke-width",On||1),Nn.setAttribute("stroke","transparent"),Nn.setAttribute("fill","transparent"),Cn.append(Nn),this.container.append(Cn),!Lt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,er)}addHighlightArea(){this.container.classList.add("highlightArea")}}er=new WeakMap;class Rt extends it{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0});fn(this,rr,null)}render(){this.container.classList.add("circleAnnotation");const Lt=this.data,{width:ln,height:wn}=_e(Lt.rect),Cn=this.svgFactory.create(ln,wn,!0),On=Lt.borderStyle.width,Nn=dn(this,rr,this.svgFactory.createElement("svg:ellipse"));return Nn.setAttribute("cx",ln/2),Nn.setAttribute("cy",wn/2),Nn.setAttribute("rx",ln/2-On/2),Nn.setAttribute("ry",wn/2-On/2),Nn.setAttribute("stroke-width",On||1),Nn.setAttribute("stroke","transparent"),Nn.setAttribute("fill","transparent"),Cn.append(Nn),this.container.append(Cn),!Lt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,rr)}addHighlightArea(){this.container.classList.add("highlightArea")}}rr=new WeakMap;class nn extends it{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0});fn(this,Rn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Lt=this.data,{width:ln,height:wn}=_e(Lt.rect),Cn=this.svgFactory.create(ln,wn,!0);let On=[];for(const qn of Lt.vertices){const Wn=qn.x-Lt.rect[0],Bn=Lt.rect[3]-qn.y;On.push(Wn+","+Bn)}On=On.join(" ");const Nn=dn(this,Rn,this.svgFactory.createElement(this.svgElementName));return Nn.setAttribute("points",On),Nn.setAttribute("stroke-width",Lt.borderStyle.width||1),Nn.setAttribute("stroke","transparent"),Nn.setAttribute("fill","transparent"),Cn.append(Nn),this.container.append(Cn),!Lt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,Rn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rn=new WeakMap;class zt extends nn{constructor(Jt){super(Jt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class sn extends it{constructor(Jt){super(Jt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class en extends it{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0});fn(this,mn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Lt=this.data,{width:ln,height:wn}=_e(Lt.rect),Cn=this.svgFactory.create(ln,wn,!0);for(const On of Lt.inkLists){let Nn=[];for(const Wn of On){const Bn=Wn.x-Lt.rect[0],tr=Lt.rect[3]-Wn.y;Nn.push(`${Bn},${tr}`)}Nn=Nn.join(" ");const qn=this.svgFactory.createElement(this.svgElementName);at(this,mn).push(qn),qn.setAttribute("points",Nn),qn.setAttribute("stroke-width",Lt.borderStyle.width||1),qn.setAttribute("stroke","transparent"),qn.setAttribute("fill","transparent"),!Lt.popupRef&&this.hasPopupData&&this._createPopup(),Cn.append(qn)}return this.container.append(Cn),this.container}getElementsToTriggerPopup(){return at(this,mn)}addHighlightArea(){this.container.classList.add("highlightArea")}}mn=new WeakMap,s.InkAnnotationElement=en;class Nt extends it{constructor(Jt){super(Jt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class At extends it{constructor(Jt){super(Jt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class wt extends it{constructor(Jt){super(Jt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class rn extends it{constructor(Jt){super(Jt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class kt extends it{constructor(Jt){super(Jt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=kt;class ot extends it{constructor(Lt){var Cn;super(Lt,{isRenderable:!0});fn(this,Ln);fn(this,bn,null);const{filename:ln,content:wn}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(ln,!0),this.content=wn,(Cn=this.linkService.eventBus)==null||Cn.dispatch("fileattachmentannotation",{source:this,filename:ln,content:wn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Lt,data:ln}=this;let wn;ln.hasAppearance||ln.fillAlpha===0?wn=document.createElement("div"):(wn=document.createElement("img"),wn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(ln.name)?"paperclip":"pushpin"}.svg`,ln.fillAlpha&&ln.fillAlpha<1&&(wn.style=`filter: opacity(${Math.round(ln.fillAlpha*100)}%);`)),wn.addEventListener("dblclick",an(this,Ln,Hs).bind(this)),dn(this,bn,wn);const{isMac:Cn}=a.FeatureTest.platform;return Lt.addEventListener("keydown",On=>{On.key==="Enter"&&(Cn?On.metaKey:On.ctrlKey)&&an(this,Ln,Hs).call(this)}),!ln.popupRef&&this.hasPopupData?this._createPopup():wn.classList.add("popupTriggerArea"),Lt.append(wn),Lt}getElementsToTriggerPopup(){return at(this,bn)}addHighlightArea(){this.container.classList.add("highlightArea")}}bn=new WeakMap,Ln=new WeakSet,Hs=function(){var Lt;(Lt=this.downloadManager)==null||Lt.openOrDownloadData(this.container,this.content,this.filename)};class bt{constructor({div:Jt,accessibilityManager:Lt,annotationCanvasMap:ln,l10n:wn,page:Cn,viewport:On}){fn(this,Dn);fn(this,Yn,null);fn(this,tn,null);fn(this,An,new Map);this.div=Jt,dn(this,Yn,Lt),dn(this,tn,ln),this.l10n=wn,this.page=Cn,this.viewport=On,this.zIndex=0,this.l10n||(this.l10n=g.NullL10n)}async render(Jt){const{annotations:Lt}=Jt,ln=this.div;(0,c.setLayerDimensions)(ln,this.viewport);const wn=new Map,Cn={data:null,layer:ln,linkService:Jt.linkService,downloadManager:Jt.downloadManager,imageResourcesPath:Jt.imageResourcesPath||"",renderForms:Jt.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:Jt.annotationStorage||new d.AnnotationStorage,enableScripting:Jt.enableScripting===!0,hasJSActions:Jt.hasJSActions,fieldObjects:Jt.fieldObjects,parent:this,elements:null};for(const On of Lt){if(On.noHTML)continue;const Nn=On.annotationType===a.AnnotationType.POPUP;if(Nn){const Bn=wn.get(On.id);if(!Bn)continue;Cn.elements=Bn}else{const{width:Bn,height:tr}=_e(On.rect);if(Bn<=0||tr<=0)continue}Cn.data=On;const qn=tt.create(Cn);if(!qn.isRenderable)continue;if(!Nn&&On.popupRef){const Bn=wn.get(On.popupRef);Bn?Bn.push(qn):wn.set(On.popupRef,[qn])}qn.annotationEditorType>0&&at(this,An).set(qn.data.id,qn);const Wn=qn.render();On.hidden&&(Wn.style.visibility="hidden"),an(this,Dn,Po).call(this,Wn,On.id)}an(this,Dn,Vs).call(this),await this.l10n.translate(ln)}update({viewport:Jt}){const Lt=this.div;this.viewport=Jt,(0,c.setLayerDimensions)(Lt,{rotation:Jt.rotation}),an(this,Dn,Vs).call(this),Lt.hidden=!1}getEditableAnnotations(){return Array.from(at(this,An).values())}getEditableAnnotation(Jt){return at(this,An).get(Jt)}}Yn=new WeakMap,tn=new WeakMap,An=new WeakMap,Dn=new WeakSet,Po=function(Jt,Lt){var wn;const ln=Jt.firstChild||Jt;ln.id=`${a.AnnotationPrefix}${Lt}`,this.div.append(Jt),(wn=at(this,Yn))==null||wn.moveElementInDOM(this.div,Jt,ln,!1)},Vs=function(){if(!at(this,tn))return;const Jt=this.div;for(const[Lt,ln]of at(this,tn)){const wn=Jt.querySelector(`[data-annotation-id="${Lt}"]`);if(!wn)continue;const{firstChild:Cn}=wn;Cn?Cn.nodeName==="CANVAS"?Cn.replaceWith(ln):Cn.before(ln):wn.append(ln)}at(this,tn).clear()},s.AnnotationLayer=bt},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function o(d){return Math.floor(Math.max(0,Math.min(1,d))*255).toString(16).padStart(2,"0")}function a(d){return Math.max(0,Math.min(255,255*d))}class c{static CMYK_G([h,g,_,b]){return["G",1-Math.min(1,.3*h+.59*_+.11*g+b)]}static G_CMYK([h]){return["CMYK",0,0,0,1-h]}static G_RGB([h]){return["RGB",h,h,h]}static G_rgb([h]){return h=a(h),[h,h,h]}static G_HTML([h]){const g=o(h);return`#${g}${g}${g}`}static RGB_G([h,g,_]){return["G",.3*h+.59*g+.11*_]}static RGB_rgb(h){return h.map(a)}static RGB_HTML(h){return`#${h.map(o).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([h,g,_,b]){return["RGB",1-Math.min(1,h+b),1-Math.min(1,_+b),1-Math.min(1,g+b)]}static CMYK_rgb([h,g,_,b]){return[a(1-Math.min(1,h+b)),a(1-Math.min(1,_+b)),a(1-Math.min(1,g+b))]}static CMYK_HTML(h){const g=this.CMYK_RGB(h).slice(1);return this.RGB_HTML(g)}static RGB_CMYK([h,g,_]){const b=1-h,$=1-g,et=1-_,_e=Math.min(b,$,et);return["CMYK",b,$,et,_e]}}s.ColorConverters=c},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=a;const o={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};o.print_progress_percent="{{progress}}%";function a(h,g){switch(h){case"find_match_count":h=`find_match_count[${g.total===1?"one":"other"}]`;break;case"find_match_count_limit":h=`find_match_count_limit[${g.limit===1?"one":"other"}]`;break}return o[h]||""}function c(h,g){return g?h.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(_,b)=>b in g?g[b]:"{{"+b+"}}"):h}const d={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(h,g=null,_=a(h,g)){return c(_,g)},async translate(h){}};s.NullL10n=d},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var a=o(25);class c{static setupStorage(h,g,_,b,$){const et=b.getValue(g,{value:null});switch(_.name){case"textarea":if(et.value!==null&&(h.textContent=et.value),$==="print")break;h.addEventListener("input",_e=>{b.setValue(g,{value:_e.target.value})});break;case"input":if(_.attributes.type==="radio"||_.attributes.type==="checkbox"){if(et.value===_.attributes.xfaOn?h.setAttribute("checked",!0):et.value===_.attributes.xfaOff&&h.removeAttribute("checked"),$==="print")break;h.addEventListener("change",_e=>{b.setValue(g,{value:_e.target.checked?_e.target.getAttribute("xfaOn"):_e.target.getAttribute("xfaOff")})})}else{if(et.value!==null&&h.setAttribute("value",et.value),$==="print")break;h.addEventListener("input",_e=>{b.setValue(g,{value:_e.target.value})})}break;case"select":if(et.value!==null){h.setAttribute("value",et.value);for(const _e of _.children)_e.attributes.value===et.value?_e.attributes.selected=!0:_e.attributes.hasOwnProperty("selected")&&delete _e.attributes.selected}h.addEventListener("input",_e=>{const tt=_e.target.options,it=tt.selectedIndex===-1?"":tt[tt.selectedIndex].value;b.setValue(g,{value:it})});break}}static setAttributes({html:h,element:g,storage:_=null,intent:b,linkService:$}){const{attributes:et}=g,_e=h instanceof HTMLAnchorElement;et.type==="radio"&&(et.name=`${et.name}-${b}`);for(const[tt,it]of Object.entries(et))if(it!=null)switch(tt){case"class":it.length&&h.setAttribute(tt,it.join(" "));break;case"dataId":break;case"id":h.setAttribute("data-element-id",it);break;case"style":Object.assign(h.style,it);break;case"textContent":h.textContent=it;break;default:(!_e||tt!=="href"&&tt!=="newWindow")&&h.setAttribute(tt,it)}_e&&$.addLinkAttributes(h,et.href,et.newWindow),_&&et.dataId&&this.setupStorage(h,et.dataId,g,_)}static render(h){var st;const g=h.annotationStorage,_=h.linkService,b=h.xfaHtml,$=h.intent||"display",et=document.createElement(b.name);b.attributes&&this.setAttributes({html:et,element:b,intent:$,linkService:_});const _e=[[b,-1,et]],tt=h.div;if(tt.append(et),h.viewport){const lt=`matrix(${h.viewport.transform.join(",")})`;tt.style.transform=lt}$!=="richText"&&tt.setAttribute("class","xfaLayer xfaFont");const it=[];for(;_e.length>0;){const[lt,nt,rt]=_e.at(-1);if(nt+1===lt.children.length){_e.pop();continue}const pt=lt.children[++_e.at(-1)[1]];if(pt===null)continue;const{name:gt}=pt;if(gt==="#text"){const dt=document.createTextNode(pt.value);it.push(dt),rt.append(dt);continue}const ht=(st=pt==null?void 0:pt.attributes)!=null&&st.xmlns?document.createElementNS(pt.attributes.xmlns,gt):document.createElement(gt);if(rt.append(ht),pt.attributes&&this.setAttributes({html:ht,element:pt,storage:g,intent:$,linkService:_}),pt.children&&pt.children.length>0)_e.push([pt,-1,ht]);else if(pt.value){const dt=document.createTextNode(pt.value);a.XfaText.shouldBuildText(gt)&&it.push(dt),ht.append(dt)}}for(const lt of tt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))lt.setAttribute("readOnly",!0);return{textDivs:it}}static update(h){const g=`matrix(${h.viewport.transform.join(",")})`;h.div.style.transform=g,h.div.hidden=!1}}s.XfaLayer=c},(i,s,o)=>{var b,$,et,_e,tt,it,st,lt,nt,rt,pt,gt,ht,dt,mt,ko,Ro,To,Io,Ws,Fo,Gs,Mo,Oo,Lo,No,Do,br,Xs,hs,fs,$r,qs,ps,jt,jo,Ys,$o,Bo,Ks,ms,Br;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var a=o(1),c=o(4),d=o(29),h=o(6),g=o(5);const In=class In extends c.AnnotationEditor{constructor(Tt){super({...Tt,name:"inkEditor"});fn(this,mt);fn(this,b,0);fn(this,$,0);fn(this,et,this.canvasPointermove.bind(this));fn(this,_e,this.canvasPointerleave.bind(this));fn(this,tt,this.canvasPointerup.bind(this));fn(this,it,this.canvasPointerdown.bind(this));fn(this,st,new Path2D);fn(this,lt,!1);fn(this,nt,!1);fn(this,rt,!1);fn(this,pt,null);fn(this,gt,0);fn(this,ht,0);fn(this,dt,null);this.color=Tt.color||null,this.thickness=Tt.thickness||null,this.opacity=Tt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Tt){c.AnnotationEditor.initialize(Tt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Tt,Yt){switch(Tt){case a.AnnotationEditorParamsType.INK_THICKNESS:In._defaultThickness=Yt;break;case a.AnnotationEditorParamsType.INK_COLOR:In._defaultColor=Yt;break;case a.AnnotationEditorParamsType.INK_OPACITY:In._defaultOpacity=Yt/100;break}}updateParams(Tt,Yt){switch(Tt){case a.AnnotationEditorParamsType.INK_THICKNESS:an(this,mt,ko).call(this,Yt);break;case a.AnnotationEditorParamsType.INK_COLOR:an(this,mt,Ro).call(this,Yt);break;case a.AnnotationEditorParamsType.INK_OPACITY:an(this,mt,To).call(this,Yt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,In._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,In._defaultColor||c.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(In._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||In._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||In._defaultColor||c.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??In._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(an(this,mt,hs).call(this),an(this,mt,fs).call(this)),this.isAttachedToDOM||(this.parent.add(this),an(this,mt,$r).call(this)),an(this,mt,Br).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,at(this,pt).disconnect(),dn(this,pt,null),super.remove())}setParent(Tt){!this.parent&&Tt?this._uiManager.removeShouldRescale(this):this.parent&&Tt===null&&this._uiManager.addShouldRescale(this),super.setParent(Tt)}onScaleChanging(){const[Tt,Yt]=this.parentDimensions,hn=this.width*Tt,_n=this.height*Yt;this.setDimensions(hn,_n)}enableEditMode(){at(this,lt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",at(this,it)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",at(this,it)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){at(this,lt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),dn(this,lt,!0),this.div.classList.add("disabled"),an(this,mt,Br).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Tt){this._focusEventsAllowed&&(super.focusin(Tt),this.enableEditMode())}canvasPointerdown(Tt){Tt.button!==0||!this.isInEditMode()||at(this,lt)||(this.setInForeground(),Tt.preventDefault(),Tt.type!=="mouse"&&this.div.focus(),an(this,mt,Fo).call(this,Tt.offsetX,Tt.offsetY))}canvasPointermove(Tt){Tt.preventDefault(),an(this,mt,Gs).call(this,Tt.offsetX,Tt.offsetY)}canvasPointerup(Tt){Tt.preventDefault(),an(this,mt,Xs).call(this,Tt)}canvasPointerleave(Tt){an(this,mt,Xs).call(this,Tt)}get isResizable(){return!this.isEmpty()&&at(this,lt)}render(){if(this.div)return this.div;let Tt,Yt;this.width&&(Tt=this.x,Yt=this.y),super.render(),c.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Mn=>{var pn;return(pn=this.div)==null?void 0:pn.setAttribute("aria-label",Mn)});const[hn,_n,Pn,Fn]=an(this,mt,Io).call(this);if(this.setAt(hn,_n,0,0),this.setDims(Pn,Fn),an(this,mt,hs).call(this),this.width){const[Mn,pn]=this.parentDimensions;this.setAspectRatio(this.width*Mn,this.height*pn),this.setAt(Tt*Mn,Yt*pn,this.width*Mn,this.height*pn),dn(this,rt,!0),an(this,mt,$r).call(this),this.setDims(this.width*Mn,this.height*pn),an(this,mt,br).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return an(this,mt,fs).call(this),this.div}setDimensions(Tt,Yt){const hn=Math.round(Tt),_n=Math.round(Yt);if(at(this,gt)===hn&&at(this,ht)===_n)return;dn(this,gt,hn),dn(this,ht,_n),this.canvas.style.visibility="hidden";const[Pn,Fn]=this.parentDimensions;this.width=Tt/Pn,this.height=Yt/Fn,this.fixAndSetPosition(),at(this,lt)&&an(this,mt,qs).call(this,Tt,Yt),an(this,mt,$r).call(this),an(this,mt,br).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Tt,Yt,hn){var Hn,er,rr;if(Tt instanceof d.InkAnnotationElement)return null;const _n=super.deserialize(Tt,Yt,hn);_n.thickness=Tt.thickness,_n.color=a.Util.makeHexColor(...Tt.color),_n.opacity=Tt.opacity;const[Pn,Fn]=_n.pageDimensions,Mn=_n.width*Pn,pn=_n.height*Fn,un=_n.parentScale,vn=Tt.thickness/2;dn(_n,lt,!0),dn(_n,gt,Math.round(Mn)),dn(_n,ht,Math.round(pn));const{paths:$n,rect:jn,rotation:Xn}=Tt;for(let{bezier:Rn}of $n){Rn=an(Hn=In,jt,$o).call(Hn,Rn,jn,Xn);const mn=[];_n.paths.push(mn);let bn=un*(Rn[0]-vn),Ln=un*(Rn[1]-vn);for(let Yn=2,tn=Rn.length;Yn<tn;Yn+=6){const An=un*(Rn[Yn]-vn),Dn=un*(Rn[Yn+1]-vn),Vn=un*(Rn[Yn+2]-vn),Jn=un*(Rn[Yn+3]-vn),Un=un*(Rn[Yn+4]-vn),Jt=un*(Rn[Yn+5]-vn);mn.push([[bn,Ln],[An,Dn],[Vn,Jn],[Un,Jt]]),bn=Un,Ln=Jt}const Qn=an(this,jt,jo).call(this,mn);_n.bezierPath2D.push(Qn)}const zn=an(er=_n,mt,Ks).call(er);return dn(_n,$,Math.max(c.AnnotationEditor.MIN_SIZE,zn[2]-zn[0])),dn(_n,b,Math.max(c.AnnotationEditor.MIN_SIZE,zn[3]-zn[1])),an(rr=_n,mt,qs).call(rr,Mn,pn),_n}serialize(){if(this.isEmpty())return null;const Tt=this.getRect(0,0),Yt=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:Yt,thickness:this.thickness,opacity:this.opacity,paths:an(this,mt,Bo).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Tt),pageIndex:this.pageIndex,rect:Tt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};b=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,tt=new WeakMap,it=new WeakMap,st=new WeakMap,lt=new WeakMap,nt=new WeakMap,rt=new WeakMap,pt=new WeakMap,gt=new WeakMap,ht=new WeakMap,dt=new WeakMap,mt=new WeakSet,ko=function(Tt){const Yt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Tt,an(this,mt,Br).call(this)},undo:()=>{this.thickness=Yt,an(this,mt,Br).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ro=function(Tt){const Yt=this.color;this.addCommands({cmd:()=>{this.color=Tt,an(this,mt,br).call(this)},undo:()=>{this.color=Yt,an(this,mt,br).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},To=function(Tt){Tt/=100;const Yt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Tt,an(this,mt,br).call(this)},undo:()=>{this.opacity=Yt,an(this,mt,br).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Io=function(){const{parentRotation:Tt,parentDimensions:[Yt,hn]}=this;switch(Tt){case 90:return[0,hn,hn,Yt];case 180:return[Yt,hn,Yt,hn];case 270:return[Yt,0,hn,Yt];default:return[0,0,Yt,hn]}},Ws=function(){const{ctx:Tt,color:Yt,opacity:hn,thickness:_n,parentScale:Pn,scaleFactor:Fn}=this;Tt.lineWidth=_n*Pn/Fn,Tt.lineCap="round",Tt.lineJoin="round",Tt.miterLimit=10,Tt.strokeStyle=`${Yt}${(0,g.opacityToHex)(hn)}`},Fo=function(Tt,Yt){this.canvas.addEventListener("contextmenu",h.noContextMenu),this.canvas.addEventListener("pointerleave",at(this,_e)),this.canvas.addEventListener("pointermove",at(this,et)),this.canvas.addEventListener("pointerup",at(this,tt)),this.canvas.removeEventListener("pointerdown",at(this,it)),this.isEditing=!0,at(this,rt)||(dn(this,rt,!0),an(this,mt,$r).call(this),this.thickness||(this.thickness=In._defaultThickness),this.color||(this.color=In._defaultColor||c.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=In._defaultOpacity)),this.currentPath.push([Tt,Yt]),dn(this,nt,!1),an(this,mt,Ws).call(this),dn(this,dt,()=>{an(this,mt,Lo).call(this),at(this,dt)&&window.requestAnimationFrame(at(this,dt))}),window.requestAnimationFrame(at(this,dt))},Gs=function(Tt,Yt){const[hn,_n]=this.currentPath.at(-1);if(this.currentPath.length>1&&Tt===hn&&Yt===_n)return;const Pn=this.currentPath;let Fn=at(this,st);if(Pn.push([Tt,Yt]),dn(this,nt,!0),Pn.length<=2){Fn.moveTo(...Pn[0]),Fn.lineTo(Tt,Yt);return}Pn.length===3&&(dn(this,st,Fn=new Path2D),Fn.moveTo(...Pn[0])),an(this,mt,No).call(this,Fn,...Pn.at(-3),...Pn.at(-2),Tt,Yt)},Mo=function(){if(this.currentPath.length===0)return;const Tt=this.currentPath.at(-1);at(this,st).lineTo(...Tt)},Oo=function(Tt,Yt){dn(this,dt,null),Tt=Math.min(Math.max(Tt,0),this.canvas.width),Yt=Math.min(Math.max(Yt,0),this.canvas.height),an(this,mt,Gs).call(this,Tt,Yt),an(this,mt,Mo).call(this);let hn;if(this.currentPath.length!==1)hn=an(this,mt,Do).call(this);else{const pn=[Tt,Yt];hn=[[pn,pn.slice(),pn.slice(),pn]]}const _n=at(this,st),Pn=this.currentPath;this.currentPath=[],dn(this,st,new Path2D);const Fn=()=>{this.allRawPaths.push(Pn),this.paths.push(hn),this.bezierPath2D.push(_n),this.rebuild()},Mn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(an(this,mt,hs).call(this),an(this,mt,fs).call(this)),an(this,mt,Br).call(this))};this.addCommands({cmd:Fn,undo:Mn,mustExec:!0})},Lo=function(){if(!at(this,nt))return;dn(this,nt,!1);const Tt=Math.ceil(this.thickness*this.parentScale),Yt=this.currentPath.slice(-3),hn=Yt.map(Fn=>Fn[0]),_n=Yt.map(Fn=>Fn[1]);Math.min(...hn)-Tt,Math.max(...hn)+Tt,Math.min(..._n)-Tt,Math.max(..._n)+Tt;const{ctx:Pn}=this;Pn.save(),Pn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Fn of this.bezierPath2D)Pn.stroke(Fn);Pn.stroke(at(this,st)),Pn.restore()},No=function(Tt,Yt,hn,_n,Pn,Fn,Mn){const pn=(Yt+_n)/2,un=(hn+Pn)/2,vn=(_n+Fn)/2,$n=(Pn+Mn)/2;Tt.bezierCurveTo(pn+2*(_n-pn)/3,un+2*(Pn-un)/3,vn+2*(_n-vn)/3,$n+2*(Pn-$n)/3,vn,$n)},Do=function(){const Tt=this.currentPath;if(Tt.length<=2)return[[Tt[0],Tt[0],Tt.at(-1),Tt.at(-1)]];const Yt=[];let hn,[_n,Pn]=Tt[0];for(hn=1;hn<Tt.length-2;hn++){const[jn,Xn]=Tt[hn],[zn,Hn]=Tt[hn+1],er=(jn+zn)/2,rr=(Xn+Hn)/2,Rn=[_n+2*(jn-_n)/3,Pn+2*(Xn-Pn)/3],mn=[er+2*(jn-er)/3,rr+2*(Xn-rr)/3];Yt.push([[_n,Pn],Rn,mn,[er,rr]]),[_n,Pn]=[er,rr]}const[Fn,Mn]=Tt[hn],[pn,un]=Tt[hn+1],vn=[_n+2*(Fn-_n)/3,Pn+2*(Mn-Pn)/3],$n=[pn+2*(Fn-pn)/3,un+2*(Mn-un)/3];return Yt.push([[_n,Pn],vn,$n,[pn,un]]),Yt},br=function(){if(this.isEmpty()){an(this,mt,ps).call(this);return}an(this,mt,Ws).call(this);const{canvas:Tt,ctx:Yt}=this;Yt.setTransform(1,0,0,1,0,0),Yt.clearRect(0,0,Tt.width,Tt.height),an(this,mt,ps).call(this);for(const hn of this.bezierPath2D)Yt.stroke(hn)},Xs=function(Tt){this.canvas.removeEventListener("pointerleave",at(this,_e)),this.canvas.removeEventListener("pointermove",at(this,et)),this.canvas.removeEventListener("pointerup",at(this,tt)),this.canvas.addEventListener("pointerdown",at(this,it)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",h.noContextMenu)},10),an(this,mt,Oo).call(this,Tt.offsetX,Tt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},hs=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Tt=>{var Yt;return(Yt=this.canvas)==null?void 0:Yt.setAttribute("aria-label",Tt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},fs=function(){dn(this,pt,new ResizeObserver(Tt=>{const Yt=Tt[0].contentRect;Yt.width&&Yt.height&&this.setDimensions(Yt.width,Yt.height)})),at(this,pt).observe(this.div)},$r=function(){if(!at(this,rt))return;const[Tt,Yt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Tt),this.canvas.height=Math.ceil(this.height*Yt),an(this,mt,ps).call(this)},qs=function(Tt,Yt){const hn=an(this,mt,ms).call(this),_n=(Tt-hn)/at(this,$),Pn=(Yt-hn)/at(this,b);this.scaleFactor=Math.min(_n,Pn)},ps=function(){const Tt=an(this,mt,ms).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Tt,this.translationY*this.scaleFactor+Tt)},jt=new WeakSet,jo=function(Tt){const Yt=new Path2D;for(let hn=0,_n=Tt.length;hn<_n;hn++){const[Pn,Fn,Mn,pn]=Tt[hn];hn===0&&Yt.moveTo(...Pn),Yt.bezierCurveTo(Fn[0],Fn[1],Mn[0],Mn[1],pn[0],pn[1])}return Yt},Ys=function(Tt,Yt,hn){const[_n,Pn,Fn,Mn]=Yt;switch(hn){case 0:for(let pn=0,un=Tt.length;pn<un;pn+=2)Tt[pn]+=_n,Tt[pn+1]=Mn-Tt[pn+1];break;case 90:for(let pn=0,un=Tt.length;pn<un;pn+=2){const vn=Tt[pn];Tt[pn]=Tt[pn+1]+_n,Tt[pn+1]=vn+Pn}break;case 180:for(let pn=0,un=Tt.length;pn<un;pn+=2)Tt[pn]=Fn-Tt[pn],Tt[pn+1]+=Pn;break;case 270:for(let pn=0,un=Tt.length;pn<un;pn+=2){const vn=Tt[pn];Tt[pn]=Fn-Tt[pn+1],Tt[pn+1]=Mn-vn}break;default:throw new Error("Invalid rotation")}return Tt},$o=function(Tt,Yt,hn){const[_n,Pn,Fn,Mn]=Yt;switch(hn){case 0:for(let pn=0,un=Tt.length;pn<un;pn+=2)Tt[pn]-=_n,Tt[pn+1]=Mn-Tt[pn+1];break;case 90:for(let pn=0,un=Tt.length;pn<un;pn+=2){const vn=Tt[pn];Tt[pn]=Tt[pn+1]-Pn,Tt[pn+1]=vn-_n}break;case 180:for(let pn=0,un=Tt.length;pn<un;pn+=2)Tt[pn]=Fn-Tt[pn],Tt[pn+1]-=Pn;break;case 270:for(let pn=0,un=Tt.length;pn<un;pn+=2){const vn=Tt[pn];Tt[pn]=Mn-Tt[pn+1],Tt[pn+1]=Fn-vn}break;default:throw new Error("Invalid rotation")}return Tt},Bo=function(Tt,Yt,hn,_n){var un,vn;const Pn=[],Fn=this.thickness/2,Mn=Tt*Yt+Fn,pn=Tt*hn+Fn;for(const $n of this.paths){const jn=[],Xn=[];for(let zn=0,Hn=$n.length;zn<Hn;zn++){const[er,rr,Rn,mn]=$n[zn],bn=Tt*er[0]+Mn,Ln=Tt*er[1]+pn,Qn=Tt*rr[0]+Mn,Yn=Tt*rr[1]+pn,tn=Tt*Rn[0]+Mn,An=Tt*Rn[1]+pn,Dn=Tt*mn[0]+Mn,Vn=Tt*mn[1]+pn;zn===0&&(jn.push(bn,Ln),Xn.push(bn,Ln)),jn.push(Qn,Yn,tn,An,Dn,Vn),Xn.push(Qn,Yn),zn===Hn-1&&Xn.push(Dn,Vn)}Pn.push({bezier:an(un=In,jt,Ys).call(un,jn,_n,this.rotation),points:an(vn=In,jt,Ys).call(vn,Xn,_n,this.rotation)})}return Pn},Ks=function(){let Tt=1/0,Yt=-1/0,hn=1/0,_n=-1/0;for(const Pn of this.paths)for(const[Fn,Mn,pn,un]of Pn){const vn=a.Util.bezierBoundingBox(...Fn,...Mn,...pn,...un);Tt=Math.min(Tt,vn[0]),hn=Math.min(hn,vn[1]),Yt=Math.max(Yt,vn[2]),_n=Math.max(_n,vn[3])}return[Tt,hn,Yt,_n]},ms=function(){return at(this,lt)?Math.ceil(this.thickness*this.parentScale):0},Br=function(Tt=!1){if(this.isEmpty())return;if(!at(this,lt)){an(this,mt,br).call(this);return}const Yt=an(this,mt,Ks).call(this),hn=an(this,mt,ms).call(this);dn(this,$,Math.max(c.AnnotationEditor.MIN_SIZE,Yt[2]-Yt[0])),dn(this,b,Math.max(c.AnnotationEditor.MIN_SIZE,Yt[3]-Yt[1]));const _n=Math.ceil(hn+at(this,$)*this.scaleFactor),Pn=Math.ceil(hn+at(this,b)*this.scaleFactor),[Fn,Mn]=this.parentDimensions;this.width=_n/Fn,this.height=Pn/Mn,this.setAspectRatio(_n,Pn);const pn=this.translationX,un=this.translationY;this.translationX=-Yt[0],this.translationY=-Yt[1],an(this,mt,$r).call(this),an(this,mt,br).call(this),dn(this,gt,_n),dn(this,ht,Pn),this.setDims(_n,Pn);const vn=Tt?hn/this.scaleFactor/2:0;this.translate(pn-this.translationX-vn,un-this.translationY-vn)},fn(In,jt),or(In,"_defaultColor",null),or(In,"_defaultOpacity",1),or(In,"_defaultThickness",1),or(In,"_type","ink");let _=In;s.InkEditor=_},(i,s,o)=>{var _,b,$,et,_e,tt,it,st,lt,nt,rt,es,ts,gs,Qs,zo,Uo,Js,ys,Ho;Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var a=o(1),c=o(4),d=o(6),h=o(29);const St=class St extends c.AnnotationEditor{constructor(zt){super({...zt,name:"stampEditor"});fn(this,rt);fn(this,_,null);fn(this,b,null);fn(this,$,null);fn(this,et,null);fn(this,_e,null);fn(this,tt,null);fn(this,it,null);fn(this,st,null);fn(this,lt,!1);fn(this,nt,!1);dn(this,et,zt.bitmapUrl),dn(this,_e,zt.bitmapFile)}static initialize(zt){c.AnnotationEditor.initialize(zt)}static get supportedTypes(){const zt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",zt.map(sn=>`image/${sn}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(zt){return this.supportedTypes.includes(zt)}static paste(zt,sn){sn.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:zt.getAsFile()})}remove(){var zt,sn;at(this,b)&&(dn(this,_,null),this._uiManager.imageManager.deleteId(at(this,b)),(zt=at(this,tt))==null||zt.remove(),dn(this,tt,null),(sn=at(this,it))==null||sn.disconnect(),dn(this,it,null)),super.remove()}rebuild(){if(!this.parent){at(this,b)&&an(this,rt,gs).call(this);return}super.rebuild(),this.div!==null&&(at(this,b)&&an(this,rt,gs).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(at(this,$)||at(this,_)||at(this,et)||at(this,_e))}get isResizable(){return!0}render(){if(this.div)return this.div;let zt,sn;if(this.width&&(zt=this.x,sn=this.y),super.render(),this.div.hidden=!0,at(this,_)?an(this,rt,Qs).call(this):an(this,rt,gs).call(this),this.width){const[en,Nt]=this.parentDimensions;this.setAt(zt*en,sn*Nt,this.width*en,this.height*Nt)}return this.div}static deserialize(zt,sn,en){if(zt instanceof h.StampAnnotationElement)return null;const Nt=super.deserialize(zt,sn,en),{rect:At,bitmapUrl:wt,bitmapId:rn,isSvg:kt,accessibilityData:ot}=zt;rn&&en.imageManager.isValidId(rn)?dn(Nt,b,rn):dn(Nt,et,wt),dn(Nt,lt,kt);const[bt,Pt]=Nt.pageDimensions;return Nt.width=(At[2]-At[0])/bt,Nt.height=(At[3]-At[1])/Pt,ot&&(Nt.altTextData=ot),Nt}serialize(zt=!1,sn=null){if(this.isEmpty())return null;const en={annotationType:a.AnnotationEditorType.STAMP,bitmapId:at(this,b),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:at(this,lt),structTreeParentId:this._structTreeParentId};if(zt)return en.bitmapUrl=an(this,rt,ys).call(this,!0),en.accessibilityData=this.altTextData,en;const{decorative:Nt,altText:At}=this.altTextData;if(!Nt&&At&&(en.accessibilityData={type:"Figure",alt:At}),sn===null)return en;sn.stamps||(sn.stamps=new Map);const wt=at(this,lt)?(en.rect[2]-en.rect[0])*(en.rect[3]-en.rect[1]):null;if(!sn.stamps.has(at(this,b)))sn.stamps.set(at(this,b),{area:wt,serialized:en}),en.bitmap=an(this,rt,ys).call(this,!1);else if(at(this,lt)){const rn=sn.stamps.get(at(this,b));wt>rn.area&&(rn.area=wt,rn.serialized.bitmap.close(),rn.serialized.bitmap=an(this,rt,ys).call(this,!1))}return en}};_=new WeakMap,b=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,tt=new WeakMap,it=new WeakMap,st=new WeakMap,lt=new WeakMap,nt=new WeakMap,rt=new WeakSet,es=function(zt,sn=!1){if(!zt){this.remove();return}dn(this,_,zt.bitmap),sn||(dn(this,b,zt.id),dn(this,lt,zt.isSvg)),an(this,rt,Qs).call(this)},ts=function(){dn(this,$,null),this._uiManager.enableWaiting(!1),at(this,tt)&&this.div.focus()},gs=function(){if(at(this,b)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(at(this,b)).then(sn=>an(this,rt,es).call(this,sn,!0)).finally(()=>an(this,rt,ts).call(this));return}if(at(this,et)){const sn=at(this,et);dn(this,et,null),this._uiManager.enableWaiting(!0),dn(this,$,this._uiManager.imageManager.getFromUrl(sn).then(en=>an(this,rt,es).call(this,en)).finally(()=>an(this,rt,ts).call(this)));return}if(at(this,_e)){const sn=at(this,_e);dn(this,_e,null),this._uiManager.enableWaiting(!0),dn(this,$,this._uiManager.imageManager.getFromFile(sn).then(en=>an(this,rt,es).call(this,en)).finally(()=>an(this,rt,ts).call(this)));return}const zt=document.createElement("input");zt.type="file",zt.accept=St.supportedTypesStr,dn(this,$,new Promise(sn=>{zt.addEventListener("change",async()=>{if(!zt.files||zt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const en=await this._uiManager.imageManager.getFromFile(zt.files[0]);an(this,rt,es).call(this,en)}sn()}),zt.addEventListener("cancel",()=>{this.remove(),sn()})}).finally(()=>an(this,rt,ts).call(this))),zt.click()},Qs=function(){const{div:zt}=this;let{width:sn,height:en}=at(this,_);const[Nt,At]=this.pageDimensions,wt=.75;if(this.width)sn=this.width*Nt,en=this.height*At;else if(sn>wt*Nt||en>wt*At){const bt=Math.min(wt*Nt/sn,wt*At/en);sn*=bt,en*=bt}const[rn,kt]=this.parentDimensions;this.setDims(sn*rn/Nt,en*kt/At),this._uiManager.enableWaiting(!1);const ot=dn(this,tt,document.createElement("canvas"));zt.append(ot),zt.hidden=!1,an(this,rt,Js).call(this,sn,en),an(this,rt,Ho).call(this),at(this,nt)||(this.parent.addUndoableEditor(this),dn(this,nt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},zo=function(zt,sn){var wt;const[en,Nt]=this.parentDimensions;this.width=zt/en,this.height=sn/Nt,this.setDims(zt,sn),(wt=this._initialOptions)!=null&&wt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,at(this,st)!==null&&clearTimeout(at(this,st)),dn(this,st,setTimeout(()=>{dn(this,st,null),an(this,rt,Js).call(this,zt,sn)},200))},Uo=function(zt,sn){const{width:en,height:Nt}=at(this,_);let At=en,wt=Nt,rn=at(this,_);for(;At>2*zt||wt>2*sn;){const kt=At,ot=wt;At>2*zt&&(At=At>=16384?Math.floor(At/2)-1:Math.ceil(At/2)),wt>2*sn&&(wt=wt>=16384?Math.floor(wt/2)-1:Math.ceil(wt/2));const bt=new OffscreenCanvas(At,wt);bt.getContext("2d").drawImage(rn,0,0,kt,ot,0,0,At,wt),rn=bt.transferToImageBitmap()}return rn},Js=function(zt,sn){zt=Math.ceil(zt),sn=Math.ceil(sn);const en=at(this,tt);if(!en||en.width===zt&&en.height===sn)return;en.width=zt,en.height=sn;const Nt=at(this,lt)?at(this,_):an(this,rt,Uo).call(this,zt,sn),At=en.getContext("2d");At.filter=this._uiManager.hcmFilter,At.drawImage(Nt,0,0,Nt.width,Nt.height,0,0,zt,sn)},ys=function(zt){if(zt){if(at(this,lt)){const Nt=this._uiManager.imageManager.getSvgUrl(at(this,b));if(Nt)return Nt}const sn=document.createElement("canvas");return{width:sn.width,height:sn.height}=at(this,_),sn.getContext("2d").drawImage(at(this,_),0,0),sn.toDataURL()}if(at(this,lt)){const[sn,en]=this.pageDimensions,Nt=Math.round(this.width*sn*d.PixelsPerInch.PDF_TO_CSS_UNITS),At=Math.round(this.height*en*d.PixelsPerInch.PDF_TO_CSS_UNITS),wt=new OffscreenCanvas(Nt,At);return wt.getContext("2d").drawImage(at(this,_),0,0,at(this,_).width,at(this,_).height,0,0,Nt,At),wt.transferToImageBitmap()}return structuredClone(at(this,_))},Ho=function(){dn(this,it,new ResizeObserver(zt=>{const sn=zt[0].contentRect;sn.width&&sn.height&&an(this,rt,zo).call(this,sn.width,sn.height)})),at(this,it).observe(this.div)},or(St,"_type","stamp");let g=St;s.StampEditor=g}],__webpack_module_cache__={};function __w_pdfjs_require__(i){var s=__webpack_module_cache__[i];if(s!==void 0)return s.exports;var o=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](o,o.exports,__w_pdfjs_require__),o.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return d.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return h.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return g.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(i,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(i,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return _.GlobalWorkerOptions}}),Object.defineProperty(i,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return o.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return o.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(i,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return o.SVGGraphics}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return b.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return o.build}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return o.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(i,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(i,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(i,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(i,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(i,"updateTextLayer",{enumerable:!0,get:function(){return c.updateTextLayer}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return o.version}});var s=__w_pdfjs_require__(1),o=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),c=__w_pdfjs_require__(26),d=__w_pdfjs_require__(27),h=__w_pdfjs_require__(5),g=__w_pdfjs_require__(29),_=__w_pdfjs_require__(14),b=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;pdfExports.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfExports.version}/pdf.worker.min.js`;const extractTextFromPDF=async i=>{try{const s=await i.arrayBuffer(),o=new Uint8Array(s),a=await pdfExports.getDocument({data:o}).promise;let c="";const d=[];for(let h=1;h<=a.numPages;h++){const b=(await(await a.getPage(h)).getTextContent()).items.map($=>"str"in $?$.str:"").join(" ");d.push({text:b,pageNum:h}),c+=b+`

`}return{fullText:c.trim(),pageContents:d}}catch(s){throw console.error("Error extracting text from PDF:",s),new Error("Failed to extract text from PDF")}},findRelevantContext=(i,s,o)=>{if(!i||i.trim()==="")return{context:"",pages:[]};const a=o.toLowerCase().trim(),d=i.split(/\n\n+/).filter(_=>_.trim().length>0).filter(_=>_.toLowerCase().includes(a)),h=d.length>0?d.join(`

`):i.slice(0,3e3),g=[];for(const _ of d)for(const b of s)b.text.includes(_.slice(0,100))&&!g.includes(b.pageNum)&&g.push(b.pageNum);return{context:h,pages:g.sort((_,b)=>_-b)}},Input=reactExports.forwardRef(({className:i,type:s,...o},a)=>jsxRuntimeExports.jsx("input",{type:s,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),ref:a,...o}));Input.displayName="Input";function ok$1(){}function unreachable(){}function stringify$1(i,s){const o={};return(i[i.length-1]===""?[...i,""]:i).join((o.padRight?" ":"")+","+(o.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$2={};function name(i,s){return(emptyOptions$2.jsx?nameReJsx:nameRe).test(i)}const re=/[ \t\n\f\r]/g;function whitespace(i){return typeof i=="object"?i.type==="text"?empty$1(i.value):!1:empty$1(i)}function empty$1(i){return i.replace(re,"")===""}class Schema{constructor(s,o,a){this.normal=o,this.property=s,a&&(this.space=a)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(i,s){const o={},a={};for(const c of i)Object.assign(o,c.property),Object.assign(a,c.normal);return new Schema(o,a,s)}function normalize$1(i){return i.toLowerCase()}class Info{constructor(s,o){this.attribute=o,this.property=s}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(s,o,a,c){let d=-1;if(super(s,o),mark(this,"space",c),typeof a=="number")for(;++d<checks.length;){const h=checks[d];mark(this,checks[d],(a&types[h])===types[h])}}}DefinedInfo.prototype.defined=!0;function mark(i,s,o){o&&(i[s]=o)}function create(i){const s={},o={};for(const[a,c]of Object.entries(i.properties)){const d=new DefinedInfo(a,i.transform(i.attributes||{},a),c,i.space);i.mustUseProperty&&i.mustUseProperty.includes(a)&&(d.mustUseProperty=!0),s[a]=d,o[normalize$1(a)]=a,o[normalize$1(d.attribute)]=a}return new Schema(s,o,i.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(i,s){return s==="role"?s:"aria-"+s.slice(4).toLowerCase()}});function caseSensitiveTransform(i,s){return s in i?i[s]:s}function caseInsensitiveTransform(i,s){return caseSensitiveTransform(i,s.toLowerCase())}const html$2=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:boolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(i,s){return"xlink:"+s.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(i,s){return"xml:"+s.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(i,s){const o=normalize$1(s);let a=s,c=Info;if(o in i.normal)return i.property[i.normal[o]];if(o.length>4&&o.slice(0,4)==="data"&&valid.test(s)){if(s.charAt(4)==="-"){const d=s.slice(5).replace(dash,camelcase);a="data"+d.charAt(0).toUpperCase()+d.slice(1)}else{const d=s.slice(4);if(!dash.test(d)){let h=d.replace(cap$1,kebab);h.charAt(0)!=="-"&&(h="-"+h),s="data"+h}}c=DefinedInfo}return new c(a,s)}function kebab(i){return"-"+i.toLowerCase()}function camelcase(i){return i.charAt(1).toUpperCase()}const html$1=merge([aria,html$2,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function stringify(i){return i.join(" ").trim()}var cjs$1={},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE=`
`,FORWARD_SLASH="/",ASTERISK="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration",inlineStyleParser=function(i,s){if(typeof i!="string")throw new TypeError("First argument must be a string");if(!i)return[];s=s||{};var o=1,a=1;function c(it){var st=it.match(NEWLINE_REGEX);st&&(o+=st.length);var lt=it.lastIndexOf(NEWLINE);a=~lt?it.length-lt:a+it.length}function d(){var it={line:o,column:a};return function(st){return st.position=new h(it),b(),st}}function h(it){this.start=it,this.end={line:o,column:a},this.source=s.source}h.prototype.content=i;function g(it){var st=new Error(s.source+":"+o+":"+a+": "+it);if(st.reason=it,st.filename=s.source,st.line=o,st.column=a,st.source=i,!s.silent)throw st}function _(it){var st=it.exec(i);if(st){var lt=st[0];return c(lt),i=i.slice(lt.length),st}}function b(){_(WHITESPACE_REGEX)}function $(it){var st;for(it=it||[];st=et();)st!==!1&&it.push(st);return it}function et(){var it=d();if(!(FORWARD_SLASH!=i.charAt(0)||ASTERISK!=i.charAt(1))){for(var st=2;EMPTY_STRING!=i.charAt(st)&&(ASTERISK!=i.charAt(st)||FORWARD_SLASH!=i.charAt(st+1));)++st;if(st+=2,EMPTY_STRING===i.charAt(st-1))return g("End of comment missing");var lt=i.slice(2,st-2);return a+=2,c(lt),i=i.slice(st),a+=2,it({type:TYPE_COMMENT,comment:lt})}}function _e(){var it=d(),st=_(PROPERTY_REGEX);if(st){if(et(),!_(COLON_REGEX))return g("property missing ':'");var lt=_(VALUE_REGEX),nt=it({type:TYPE_DECLARATION,property:trim(st[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:lt?trim(lt[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return _(SEMICOLON_REGEX),nt}}function tt(){var it=[];$(it);for(var st;st=_e();)st!==!1&&(it.push(st),$(it));return it}return b(),tt()};function trim(i){return i?i.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(cjs$1,"__esModule",{value:!0});cjs$1.default=StyleToObject;var inline_style_parser_1=__importDefault$1(inlineStyleParser);function StyleToObject(i,s){var o=null;if(!i||typeof i!="string")return o;var a=(0,inline_style_parser_1.default)(i),c=typeof s=="function";return a.forEach(function(d){if(d.type==="declaration"){var h=d.property,g=d.value;c?s(h,g,d):g&&(o=o||{},o[h]=g)}}),o}var utilities={};Object.defineProperty(utilities,"__esModule",{value:!0});utilities.camelCase=void 0;var CUSTOM_PROPERTY_REGEX=/^--[a-zA-Z0-9_-]+$/,HYPHEN_REGEX=/-([a-z])/g,NO_HYPHEN_REGEX=/^[^-]+$/,VENDOR_PREFIX_REGEX=/^-(webkit|moz|ms|o|khtml)-/,MS_VENDOR_PREFIX_REGEX=/^-(ms)-/,skipCamelCase=function(i){return!i||NO_HYPHEN_REGEX.test(i)||CUSTOM_PROPERTY_REGEX.test(i)},capitalize=function(i,s){return s.toUpperCase()},trimHyphen=function(i,s){return"".concat(s,"-")},camelCase=function(i,s){return s===void 0&&(s={}),skipCamelCase(i)?i:(i=i.toLowerCase(),s.reactCompat?i=i.replace(MS_VENDOR_PREFIX_REGEX,trimHyphen):i=i.replace(VENDOR_PREFIX_REGEX,trimHyphen),i.replace(HYPHEN_REGEX,capitalize))};utilities.camelCase=camelCase;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},style_to_object_1=__importDefault(cjs$1),utilities_1=utilities;function StyleToJS(i,s){var o={};return!i||typeof i!="string"||(0,style_to_object_1.default)(i,function(a,c){a&&c&&(o[(0,utilities_1.camelCase)(a,s)]=c)}),o}StyleToJS.default=StyleToJS;var cjs=StyleToJS;const styleToJs=getDefaultExportFromCjs(cjs),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(i){return s;function s(o){const a=o&&o.position&&o.position[i]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function position$1(i){const s=pointStart(i),o=pointEnd(i);if(s&&o)return{start:s,end:o}}function stringifyPosition(i){return!i||typeof i!="object"?"":"position"in i||"type"in i?position(i.position):"start"in i||"end"in i?position(i):"line"in i||"column"in i?point$1(i):""}function point$1(i){return index(i&&i.line)+":"+index(i&&i.column)}function position(i){return point$1(i&&i.start)+"-"+point$1(i&&i.end)}function index(i){return i&&typeof i=="number"?i:1}class VFileMessage extends Error{constructor(s,o,a){super(),typeof o=="string"&&(a=o,o=void 0);let c="",d={},h=!1;if(o&&("line"in o&&"column"in o?d={place:o}:"start"in o&&"end"in o?d={place:o}:"type"in o?d={ancestors:[o],place:o.position}:d={...o}),typeof s=="string"?c=s:!d.cause&&s&&(h=!0,c=s.message,d.cause=s),!d.ruleId&&!d.source&&typeof a=="string"){const _=a.indexOf(":");_===-1?d.ruleId=a:(d.source=a.slice(0,_),d.ruleId=a.slice(_+1))}if(!d.place&&d.ancestors&&d.ancestors){const _=d.ancestors[d.ancestors.length-1];_&&(d.place=_.position)}const g=d.place&&"start"in d.place?d.place.start:d.place;this.ancestors=d.ancestors||void 0,this.cause=d.cause||void 0,this.column=g?g.column:void 0,this.fatal=void 0,this.file,this.message=c,this.line=g?g.line:void 0,this.name=stringifyPosition(d.place)||"1:1",this.place=d.place||void 0,this.reason=this.message,this.ruleId=d.ruleId||void 0,this.source=d.source||void 0,this.stack=h&&d.cause&&typeof d.cause.stack=="string"?d.cause.stack:"",this.actual,this.expected,this.note,this.url}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(i,s){if(!s||s.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const o=s.filePath||void 0;let a;if(s.development){if(typeof s.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=developmentCreate(o,s.jsxDEV)}else{if(typeof s.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof s.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=productionCreate(o,s.jsx,s.jsxs)}const c={Fragment:s.Fragment,ancestors:[],components:s.components||{},create:a,elementAttributeNameCase:s.elementAttributeNameCase||"react",evaluater:s.createEvaluater?s.createEvaluater():void 0,filePath:o,ignoreInvalidStyle:s.ignoreInvalidStyle||!1,passKeys:s.passKeys!==!1,passNode:s.passNode||!1,schema:s.space==="svg"?svg:html$1,stylePropertyNameCase:s.stylePropertyNameCase||"dom",tableCellAlignToStyle:s.tableCellAlignToStyle!==!1},d=one$1(c,i,void 0);return d&&typeof d!="string"?d:c.create(i,c.Fragment,{children:d||void 0},void 0)}function one$1(i,s,o){if(s.type==="element")return element$1(i,s,o);if(s.type==="mdxFlowExpression"||s.type==="mdxTextExpression")return mdxExpression(i,s);if(s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement")return mdxJsxElement(i,s,o);if(s.type==="mdxjsEsm")return mdxEsm(i,s);if(s.type==="root")return root$1(i,s,o);if(s.type==="text")return text$3(i,s)}function element$1(i,s,o){const a=i.schema;let c=a;s.tagName.toLowerCase()==="svg"&&a.space==="html"&&(c=svg,i.schema=c),i.ancestors.push(s);const d=findComponentFromName(i,s.tagName,!1),h=createElementProps(i,s);let g=createChildren(i,s);return tableElements.has(s.tagName)&&(g=g.filter(function(_){return typeof _=="string"?!whitespace(_):!0})),addNode(i,h,d,s),addChildren(h,g),i.ancestors.pop(),i.schema=a,i.create(s,d,h,o)}function mdxExpression(i,s){if(s.data&&s.data.estree&&i.evaluater){const a=s.data.estree.body[0];return a.type,i.evaluater.evaluateExpression(a.expression)}crashEstree(i,s.position)}function mdxEsm(i,s){if(s.data&&s.data.estree&&i.evaluater)return i.evaluater.evaluateProgram(s.data.estree);crashEstree(i,s.position)}function mdxJsxElement(i,s,o){const a=i.schema;let c=a;s.name==="svg"&&a.space==="html"&&(c=svg,i.schema=c),i.ancestors.push(s);const d=s.name===null?i.Fragment:findComponentFromName(i,s.name,!0),h=createJsxElementProps(i,s),g=createChildren(i,s);return addNode(i,h,d,s),addChildren(h,g),i.ancestors.pop(),i.schema=a,i.create(s,d,h,o)}function root$1(i,s,o){const a={};return addChildren(a,createChildren(i,s)),i.create(s,i.Fragment,a,o)}function text$3(i,s){return s.value}function addNode(i,s,o,a){typeof o!="string"&&o!==i.Fragment&&i.passNode&&(s.node=a)}function addChildren(i,s){if(s.length>0){const o=s.length>1?s:s[0];o&&(i.children=o)}}function productionCreate(i,s,o){return a;function a(c,d,h,g){const b=Array.isArray(h.children)?o:s;return g?b(d,h,g):b(d,h)}}function developmentCreate(i,s){return o;function o(a,c,d,h){const g=Array.isArray(d.children),_=pointStart(a);return s(c,d,h,g,{columnNumber:_?_.column-1:void 0,fileName:i,lineNumber:_?_.line:void 0},void 0)}}function createElementProps(i,s){const o={};let a,c;for(c in s.properties)if(c!=="children"&&own$3.call(s.properties,c)){const d=createProperty(i,c,s.properties[c]);if(d){const[h,g]=d;i.tableCellAlignToStyle&&h==="align"&&typeof g=="string"&&tableCellElement.has(s.tagName)?a=g:o[h]=g}}if(a){const d=o.style||(o.style={});d[i.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return o}function createJsxElementProps(i,s){const o={};for(const a of s.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&i.evaluater){const d=a.data.estree.body[0];d.type;const h=d.expression;h.type;const g=h.properties[0];g.type,Object.assign(o,i.evaluater.evaluateExpression(g.argument))}else crashEstree(i,s.position);else{const c=a.name;let d;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&i.evaluater){const g=a.value.data.estree.body[0];g.type,d=i.evaluater.evaluateExpression(g.expression)}else crashEstree(i,s.position);else d=a.value===null?!0:a.value;o[c]=d}return o}function createChildren(i,s){const o=[];let a=-1;const c=i.passKeys?new Map:emptyMap;for(;++a<s.children.length;){const d=s.children[a];let h;if(i.passKeys){const _=d.type==="element"?d.tagName:d.type==="mdxJsxFlowElement"||d.type==="mdxJsxTextElement"?d.name:void 0;if(_){const b=c.get(_)||0;h=_+"-"+b,c.set(_,b+1)}}const g=one$1(i,d,h);g!==void 0&&o.push(g)}return o}function createProperty(i,s,o){const a=find(i.schema,s);if(!(o==null||typeof o=="number"&&Number.isNaN(o))){if(Array.isArray(o)&&(o=a.commaSeparated?stringify$1(o):stringify(o)),a.property==="style"){let c=typeof o=="object"?o:parseStyle(i,String(o));return i.stylePropertyNameCase==="css"&&(c=transformStylesToCssCasing(c)),["style",c]}return[i.elementAttributeNameCase==="react"&&a.space?hastToReact[a.property]||a.property:a.attribute,o]}}function parseStyle(i,s){try{return styleToJs(s,{reactCompat:!0})}catch(o){if(i.ignoreInvalidStyle)return{};const a=o,c=new VFileMessage("Cannot parse `style` attribute",{ancestors:i.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw c.file=i.filePath||void 0,c.url=docs+"#cannot-parse-style-attribute",c}}function findComponentFromName(i,s,o){let a;if(!o)a={type:"Literal",value:s};else if(s.includes(".")){const c=s.split(".");let d=-1,h;for(;++d<c.length;){const g=name(c[d])?{type:"Identifier",name:c[d]}:{type:"Literal",value:c[d]};h=h?{type:"MemberExpression",object:h,property:g,computed:!!(d&&g.type==="Literal"),optional:!1}:g}a=h}else a=name(s)&&!/^[a-z]/.test(s)?{type:"Identifier",name:s}:{type:"Literal",value:s};if(a.type==="Literal"){const c=a.value;return own$3.call(i.components,c)?i.components[c]:c}if(i.evaluater)return i.evaluater.evaluateExpression(a);crashEstree(i)}function crashEstree(i,s){const o=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:i.ancestors,place:s,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw o.file=i.filePath||void 0,o.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",o}function transformStylesToCssCasing(i){const s={};let o;for(o in i)own$3.call(i,o)&&(s[transformStyleToCssCasing(o)]=i[o]);return s}function transformStyleToCssCasing(i){let s=i.replace(cap,toDash);return s.slice(0,3)==="ms-"&&(s="-"+s),s}function toDash(i){return"-"+i.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$1={};function toString$1(i,s){const o=emptyOptions$1,a=typeof o.includeImageAlt=="boolean"?o.includeImageAlt:!0,c=typeof o.includeHtml=="boolean"?o.includeHtml:!0;return one(i,a,c)}function one(i,s,o){if(node(i)){if("value"in i)return i.type==="html"&&!o?"":i.value;if(s&&"alt"in i&&i.alt)return i.alt;if("children"in i)return all(i.children,s,o)}return Array.isArray(i)?all(i,s,o):""}function all(i,s,o){const a=[];let c=-1;for(;++c<i.length;)a[c]=one(i[c],s,o);return a.join("")}function node(i){return!!(i&&typeof i=="object")}const element=document.createElement("i");function decodeNamedCharacterReference(i){const s="&"+i+";";element.innerHTML=s;const o=element.textContent;return o.charCodeAt(o.length-1)===59&&i!=="semi"||o===s?!1:o}function splice(i,s,o,a){const c=i.length;let d=0,h;if(s<0?s=-s>c?0:c+s:s=s>c?c:s,o=o>0?o:0,a.length<1e4)h=Array.from(a),h.unshift(s,o),i.splice(...h);else for(o&&i.splice(s,o);d<a.length;)h=a.slice(d,d+1e4),h.unshift(s,0),i.splice(...h),d+=1e4,s+=1e4}function push(i,s){return i.length>0?(splice(i,i.length,0,s),i):s}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(i){const s={};let o=-1;for(;++o<i.length;)syntaxExtension(s,i[o]);return s}function syntaxExtension(i,s){let o;for(o in s){const c=(hasOwnProperty.call(i,o)?i[o]:void 0)||(i[o]={}),d=s[o];let h;if(d)for(h in d){hasOwnProperty.call(c,h)||(c[h]=[]);const g=d[h];constructs(c[h],Array.isArray(g)?g:g?[g]:[])}}}function constructs(i,s){let o=-1;const a=[];for(;++o<s.length;)(s[o].add==="after"?i:a).push(s[o]);splice(i,0,0,a)}function decodeNumericCharacterReference(i,s){const o=Number.parseInt(i,s);return o<9||o===11||o>13&&o<32||o>126&&o<160||o>55295&&o<57344||o>64975&&o<65008||(o&65535)===65535||(o&65535)===65534||o>1114111?"":String.fromCodePoint(o)}function normalizeIdentifier(i){return i.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(i){return i!==null&&(i<32||i===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(i){return i!==null&&i<-2}function markdownLineEndingOrSpace(i){return i!==null&&(i<0||i===32)}function markdownSpace(i){return i===-2||i===-1||i===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(i){return s;function s(o){return o!==null&&o>-1&&i.test(String.fromCharCode(o))}}function normalizeUri(i){const s=[];let o=-1,a=0,c=0;for(;++o<i.length;){const d=i.charCodeAt(o);let h="";if(d===37&&asciiAlphanumeric(i.charCodeAt(o+1))&&asciiAlphanumeric(i.charCodeAt(o+2)))c=2;else if(d<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(d))||(h=String.fromCharCode(d));else if(d>55295&&d<57344){const g=i.charCodeAt(o+1);d<56320&&g>56319&&g<57344?(h=String.fromCharCode(d,g),c=1):h=""}else h=String.fromCharCode(d);h&&(s.push(i.slice(a,o),encodeURIComponent(h)),a=o+c+1,h=""),c&&(o+=c,c=0)}return s.join("")+i.slice(a)}function factorySpace(i,s,o,a){const c=a?a-1:Number.POSITIVE_INFINITY;let d=0;return h;function h(_){return markdownSpace(_)?(i.enter(o),g(_)):s(_)}function g(_){return markdownSpace(_)&&d++<c?(i.consume(_),g):(i.exit(o),s(_))}}const content$1={tokenize:initializeContent};function initializeContent(i){const s=i.attempt(this.parser.constructs.contentInitial,a,c);let o;return s;function a(g){if(g===null){i.consume(g);return}return i.enter("lineEnding"),i.consume(g),i.exit("lineEnding"),factorySpace(i,s,"linePrefix")}function c(g){return i.enter("paragraph"),d(g)}function d(g){const _=i.enter("chunkText",{contentType:"text",previous:o});return o&&(o.next=_),o=_,h(g)}function h(g){if(g===null){i.exit("chunkText"),i.exit("paragraph"),i.consume(g);return}return markdownLineEnding(g)?(i.consume(g),i.exit("chunkText"),d):(i.consume(g),h)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(i){const s=this,o=[];let a=0,c,d,h;return g;function g(pt){if(a<o.length){const gt=o[a];return s.containerState=gt[1],i.attempt(gt[0].continuation,_,b)(pt)}return b(pt)}function _(pt){if(a++,s.containerState._closeFlow){s.containerState._closeFlow=void 0,c&&rt();const gt=s.events.length;let ht=gt,dt;for(;ht--;)if(s.events[ht][0]==="exit"&&s.events[ht][1].type==="chunkFlow"){dt=s.events[ht][1].end;break}nt(a);let mt=gt;for(;mt<s.events.length;)s.events[mt][1].end={...dt},mt++;return splice(s.events,ht+1,0,s.events.slice(gt)),s.events.length=mt,b(pt)}return g(pt)}function b(pt){if(a===o.length){if(!c)return _e(pt);if(c.currentConstruct&&c.currentConstruct.concrete)return it(pt);s.interrupt=!!(c.currentConstruct&&!c._gfmTableDynamicInterruptHack)}return s.containerState={},i.check(containerConstruct,$,et)(pt)}function $(pt){return c&&rt(),nt(a),_e(pt)}function et(pt){return s.parser.lazy[s.now().line]=a!==o.length,h=s.now().offset,it(pt)}function _e(pt){return s.containerState={},i.attempt(containerConstruct,tt,it)(pt)}function tt(pt){return a++,o.push([s.currentConstruct,s.containerState]),_e(pt)}function it(pt){if(pt===null){c&&rt(),nt(0),i.consume(pt);return}return c=c||s.parser.flow(s.now()),i.enter("chunkFlow",{_tokenizer:c,contentType:"flow",previous:d}),st(pt)}function st(pt){if(pt===null){lt(i.exit("chunkFlow"),!0),nt(0),i.consume(pt);return}return markdownLineEnding(pt)?(i.consume(pt),lt(i.exit("chunkFlow")),a=0,s.interrupt=void 0,g):(i.consume(pt),st)}function lt(pt,gt){const ht=s.sliceStream(pt);if(gt&&ht.push(null),pt.previous=d,d&&(d.next=pt),d=pt,c.defineSkip(pt.start),c.write(ht),s.parser.lazy[pt.start.line]){let dt=c.events.length;for(;dt--;)if(c.events[dt][1].start.offset<h&&(!c.events[dt][1].end||c.events[dt][1].end.offset>h))return;const mt=s.events.length;let yt=mt,xt,Et;for(;yt--;)if(s.events[yt][0]==="exit"&&s.events[yt][1].type==="chunkFlow"){if(xt){Et=s.events[yt][1].end;break}xt=!0}for(nt(a),dt=mt;dt<s.events.length;)s.events[dt][1].end={...Et},dt++;splice(s.events,yt+1,0,s.events.slice(mt)),s.events.length=dt}}function nt(pt){let gt=o.length;for(;gt-- >pt;){const ht=o[gt];s.containerState=ht[1],ht[0].exit.call(s,i)}o.length=pt}function rt(){c.write([null]),d=void 0,c=void 0,s.containerState._closeFlow=void 0}}function tokenizeContainer(i,s,o){return factorySpace(i,i.attempt(this.parser.constructs.document,s,o),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(i){if(i===null||markdownLineEndingOrSpace(i)||unicodeWhitespace(i))return 1;if(unicodePunctuation(i))return 2}function resolveAll(i,s,o){const a=[];let c=-1;for(;++c<i.length;){const d=i[c].resolveAll;d&&!a.includes(d)&&(s=d(s,o),a.push(d))}return s}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(i,s){let o=-1,a,c,d,h,g,_,b,$;for(;++o<i.length;)if(i[o][0]==="enter"&&i[o][1].type==="attentionSequence"&&i[o][1]._close){for(a=o;a--;)if(i[a][0]==="exit"&&i[a][1].type==="attentionSequence"&&i[a][1]._open&&s.sliceSerialize(i[a][1]).charCodeAt(0)===s.sliceSerialize(i[o][1]).charCodeAt(0)){if((i[a][1]._close||i[o][1]._open)&&(i[o][1].end.offset-i[o][1].start.offset)%3&&!((i[a][1].end.offset-i[a][1].start.offset+i[o][1].end.offset-i[o][1].start.offset)%3))continue;_=i[a][1].end.offset-i[a][1].start.offset>1&&i[o][1].end.offset-i[o][1].start.offset>1?2:1;const et={...i[a][1].end},_e={...i[o][1].start};movePoint(et,-_),movePoint(_e,_),h={type:_>1?"strongSequence":"emphasisSequence",start:et,end:{...i[a][1].end}},g={type:_>1?"strongSequence":"emphasisSequence",start:{...i[o][1].start},end:_e},d={type:_>1?"strongText":"emphasisText",start:{...i[a][1].end},end:{...i[o][1].start}},c={type:_>1?"strong":"emphasis",start:{...h.start},end:{...g.end}},i[a][1].end={...h.start},i[o][1].start={...g.end},b=[],i[a][1].end.offset-i[a][1].start.offset&&(b=push(b,[["enter",i[a][1],s],["exit",i[a][1],s]])),b=push(b,[["enter",c,s],["enter",h,s],["exit",h,s],["enter",d,s]]),b=push(b,resolveAll(s.parser.constructs.insideSpan.null,i.slice(a+1,o),s)),b=push(b,[["exit",d,s],["enter",g,s],["exit",g,s],["exit",c,s]]),i[o][1].end.offset-i[o][1].start.offset?($=2,b=push(b,[["enter",i[o][1],s],["exit",i[o][1],s]])):$=0,splice(i,a-1,o-a+3,b),o=a+b.length-$-2;break}}for(o=-1;++o<i.length;)i[o][1].type==="attentionSequence"&&(i[o][1].type="data");return i}function tokenizeAttention(i,s){const o=this.parser.constructs.attentionMarkers.null,a=this.previous,c=classifyCharacter(a);let d;return h;function h(_){return d=_,i.enter("attentionSequence"),g(_)}function g(_){if(_===d)return i.consume(_),g;const b=i.exit("attentionSequence"),$=classifyCharacter(_),et=!$||$===2&&c||o.includes(_),_e=!c||c===2&&$||o.includes(a);return b._open=!!(d===42?et:et&&(c||!_e)),b._close=!!(d===42?_e:_e&&($||!et)),s(_)}}function movePoint(i,s){i.column+=s,i.offset+=s,i._bufferIndex+=s}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(i,s,o){let a=0;return c;function c(tt){return i.enter("autolink"),i.enter("autolinkMarker"),i.consume(tt),i.exit("autolinkMarker"),i.enter("autolinkProtocol"),d}function d(tt){return asciiAlpha(tt)?(i.consume(tt),h):tt===64?o(tt):b(tt)}function h(tt){return tt===43||tt===45||tt===46||asciiAlphanumeric(tt)?(a=1,g(tt)):b(tt)}function g(tt){return tt===58?(i.consume(tt),a=0,_):(tt===43||tt===45||tt===46||asciiAlphanumeric(tt))&&a++<32?(i.consume(tt),g):(a=0,b(tt))}function _(tt){return tt===62?(i.exit("autolinkProtocol"),i.enter("autolinkMarker"),i.consume(tt),i.exit("autolinkMarker"),i.exit("autolink"),s):tt===null||tt===32||tt===60||asciiControl(tt)?o(tt):(i.consume(tt),_)}function b(tt){return tt===64?(i.consume(tt),$):asciiAtext(tt)?(i.consume(tt),b):o(tt)}function $(tt){return asciiAlphanumeric(tt)?et(tt):o(tt)}function et(tt){return tt===46?(i.consume(tt),a=0,$):tt===62?(i.exit("autolinkProtocol").type="autolinkEmail",i.enter("autolinkMarker"),i.consume(tt),i.exit("autolinkMarker"),i.exit("autolink"),s):_e(tt)}function _e(tt){if((tt===45||asciiAlphanumeric(tt))&&a++<63){const it=tt===45?_e:et;return i.consume(tt),it}return o(tt)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(i,s,o){return a;function a(d){return markdownSpace(d)?factorySpace(i,c,"linePrefix")(d):c(d)}function c(d){return d===null||markdownLineEnding(d)?s(d):o(d)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(i,s,o){const a=this;return c;function c(h){if(h===62){const g=a.containerState;return g.open||(i.enter("blockQuote",{_container:!0}),g.open=!0),i.enter("blockQuotePrefix"),i.enter("blockQuoteMarker"),i.consume(h),i.exit("blockQuoteMarker"),d}return o(h)}function d(h){return markdownSpace(h)?(i.enter("blockQuotePrefixWhitespace"),i.consume(h),i.exit("blockQuotePrefixWhitespace"),i.exit("blockQuotePrefix"),s):(i.exit("blockQuotePrefix"),s(h))}}function tokenizeBlockQuoteContinuation(i,s,o){const a=this;return c;function c(h){return markdownSpace(h)?factorySpace(i,d,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):d(h)}function d(h){return i.attempt(blockQuote,s,o)(h)}}function exit(i){i.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(i,s,o){return a;function a(d){return i.enter("characterEscape"),i.enter("escapeMarker"),i.consume(d),i.exit("escapeMarker"),c}function c(d){return asciiPunctuation(d)?(i.enter("characterEscapeValue"),i.consume(d),i.exit("characterEscapeValue"),i.exit("characterEscape"),s):o(d)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(i,s,o){const a=this;let c=0,d,h;return g;function g(et){return i.enter("characterReference"),i.enter("characterReferenceMarker"),i.consume(et),i.exit("characterReferenceMarker"),_}function _(et){return et===35?(i.enter("characterReferenceMarkerNumeric"),i.consume(et),i.exit("characterReferenceMarkerNumeric"),b):(i.enter("characterReferenceValue"),d=31,h=asciiAlphanumeric,$(et))}function b(et){return et===88||et===120?(i.enter("characterReferenceMarkerHexadecimal"),i.consume(et),i.exit("characterReferenceMarkerHexadecimal"),i.enter("characterReferenceValue"),d=6,h=asciiHexDigit,$):(i.enter("characterReferenceValue"),d=7,h=asciiDigit,$(et))}function $(et){if(et===59&&c){const _e=i.exit("characterReferenceValue");return h===asciiAlphanumeric&&!decodeNamedCharacterReference(a.sliceSerialize(_e))?o(et):(i.enter("characterReferenceMarker"),i.consume(et),i.exit("characterReferenceMarker"),i.exit("characterReference"),s)}return h(et)&&c++<d?(i.consume(et),$):o(et)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(i,s,o){const a=this,c={partial:!0,tokenize:ht};let d=0,h=0,g;return _;function _(dt){return b(dt)}function b(dt){const mt=a.events[a.events.length-1];return d=mt&&mt[1].type==="linePrefix"?mt[2].sliceSerialize(mt[1],!0).length:0,g=dt,i.enter("codeFenced"),i.enter("codeFencedFence"),i.enter("codeFencedFenceSequence"),$(dt)}function $(dt){return dt===g?(h++,i.consume(dt),$):h<3?o(dt):(i.exit("codeFencedFenceSequence"),markdownSpace(dt)?factorySpace(i,et,"whitespace")(dt):et(dt))}function et(dt){return dt===null||markdownLineEnding(dt)?(i.exit("codeFencedFence"),a.interrupt?s(dt):i.check(nonLazyContinuation,st,gt)(dt)):(i.enter("codeFencedFenceInfo"),i.enter("chunkString",{contentType:"string"}),_e(dt))}function _e(dt){return dt===null||markdownLineEnding(dt)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),et(dt)):markdownSpace(dt)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),factorySpace(i,tt,"whitespace")(dt)):dt===96&&dt===g?o(dt):(i.consume(dt),_e)}function tt(dt){return dt===null||markdownLineEnding(dt)?et(dt):(i.enter("codeFencedFenceMeta"),i.enter("chunkString",{contentType:"string"}),it(dt))}function it(dt){return dt===null||markdownLineEnding(dt)?(i.exit("chunkString"),i.exit("codeFencedFenceMeta"),et(dt)):dt===96&&dt===g?o(dt):(i.consume(dt),it)}function st(dt){return i.attempt(c,gt,lt)(dt)}function lt(dt){return i.enter("lineEnding"),i.consume(dt),i.exit("lineEnding"),nt}function nt(dt){return d>0&&markdownSpace(dt)?factorySpace(i,rt,"linePrefix",d+1)(dt):rt(dt)}function rt(dt){return dt===null||markdownLineEnding(dt)?i.check(nonLazyContinuation,st,gt)(dt):(i.enter("codeFlowValue"),pt(dt))}function pt(dt){return dt===null||markdownLineEnding(dt)?(i.exit("codeFlowValue"),rt(dt)):(i.consume(dt),pt)}function gt(dt){return i.exit("codeFenced"),s(dt)}function ht(dt,mt,yt){let xt=0;return Et;function Et(zt){return dt.enter("lineEnding"),dt.consume(zt),dt.exit("lineEnding"),vt}function vt(zt){return dt.enter("codeFencedFence"),markdownSpace(zt)?factorySpace(dt,St,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(zt):St(zt)}function St(zt){return zt===g?(dt.enter("codeFencedFenceSequence"),Rt(zt)):yt(zt)}function Rt(zt){return zt===g?(xt++,dt.consume(zt),Rt):xt>=h?(dt.exit("codeFencedFenceSequence"),markdownSpace(zt)?factorySpace(dt,nn,"whitespace")(zt):nn(zt)):yt(zt)}function nn(zt){return zt===null||markdownLineEnding(zt)?(dt.exit("codeFencedFence"),mt(zt)):yt(zt)}}}function tokenizeNonLazyContinuation(i,s,o){const a=this;return c;function c(h){return h===null?o(h):(i.enter("lineEnding"),i.consume(h),i.exit("lineEnding"),d)}function d(h){return a.parser.lazy[a.now().line]?o(h):s(h)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(i,s,o){const a=this;return c;function c(b){return i.enter("codeIndented"),factorySpace(i,d,"linePrefix",5)(b)}function d(b){const $=a.events[a.events.length-1];return $&&$[1].type==="linePrefix"&&$[2].sliceSerialize($[1],!0).length>=4?h(b):o(b)}function h(b){return b===null?_(b):markdownLineEnding(b)?i.attempt(furtherStart,h,_)(b):(i.enter("codeFlowValue"),g(b))}function g(b){return b===null||markdownLineEnding(b)?(i.exit("codeFlowValue"),h(b)):(i.consume(b),g)}function _(b){return i.exit("codeIndented"),s(b)}}function tokenizeFurtherStart(i,s,o){const a=this;return c;function c(h){return a.parser.lazy[a.now().line]?o(h):markdownLineEnding(h)?(i.enter("lineEnding"),i.consume(h),i.exit("lineEnding"),c):factorySpace(i,d,"linePrefix",5)(h)}function d(h){const g=a.events[a.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?s(h):markdownLineEnding(h)?c(h):o(h)}}const codeText={name:"codeText",previous,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(i){let s=i.length-4,o=3,a,c;if((i[o][1].type==="lineEnding"||i[o][1].type==="space")&&(i[s][1].type==="lineEnding"||i[s][1].type==="space")){for(a=o;++a<s;)if(i[a][1].type==="codeTextData"){i[o][1].type="codeTextPadding",i[s][1].type="codeTextPadding",o+=2,s-=2;break}}for(a=o-1,s++;++a<=s;)c===void 0?a!==s&&i[a][1].type!=="lineEnding"&&(c=a):(a===s||i[a][1].type==="lineEnding")&&(i[c][1].type="codeTextData",a!==c+2&&(i[c][1].end=i[a-1][1].end,i.splice(c+2,a-c-2),s-=a-c-2,a=c+2),c=void 0);return i}function previous(i){return i!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(i,s,o){let a=0,c,d;return h;function h(et){return i.enter("codeText"),i.enter("codeTextSequence"),g(et)}function g(et){return et===96?(i.consume(et),a++,g):(i.exit("codeTextSequence"),_(et))}function _(et){return et===null?o(et):et===32?(i.enter("space"),i.consume(et),i.exit("space"),_):et===96?(d=i.enter("codeTextSequence"),c=0,$(et)):markdownLineEnding(et)?(i.enter("lineEnding"),i.consume(et),i.exit("lineEnding"),_):(i.enter("codeTextData"),b(et))}function b(et){return et===null||et===32||et===96||markdownLineEnding(et)?(i.exit("codeTextData"),_(et)):(i.consume(et),b)}function $(et){return et===96?(i.consume(et),c++,$):c===a?(i.exit("codeTextSequence"),i.exit("codeText"),s(et)):(d.type="codeTextData",b(et))}}class SpliceBuffer{constructor(s){this.left=s?[...s]:[],this.right=[]}get(s){if(s<0||s>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+s+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return s<this.left.length?this.left[s]:this.right[this.right.length-s+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(s,o){const a=o??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(s,a):s>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-s+this.left.length).reverse():this.left.slice(s).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(s,o,a){const c=o||0;this.setCursor(Math.trunc(s));const d=this.right.splice(this.right.length-c,Number.POSITIVE_INFINITY);return a&&chunkedPush(this.left,a),d.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(s){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(s)}pushMany(s){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,s)}unshift(s){this.setCursor(0),this.right.push(s)}unshiftMany(s){this.setCursor(0),chunkedPush(this.right,s.reverse())}setCursor(s){if(!(s===this.left.length||s>this.left.length&&this.right.length===0||s<0&&this.left.length===0))if(s<this.left.length){const o=this.left.splice(s,Number.POSITIVE_INFINITY);chunkedPush(this.right,o.reverse())}else{const o=this.right.splice(this.left.length+this.right.length-s,Number.POSITIVE_INFINITY);chunkedPush(this.left,o.reverse())}}}function chunkedPush(i,s){let o=0;if(s.length<1e4)i.push(...s);else for(;o<s.length;)i.push(...s.slice(o,o+1e4)),o+=1e4}function subtokenize(i){const s={};let o=-1,a,c,d,h,g,_,b;const $=new SpliceBuffer(i);for(;++o<$.length;){for(;o in s;)o=s[o];if(a=$.get(o),o&&a[1].type==="chunkFlow"&&$.get(o-1)[1].type==="listItemPrefix"&&(_=a[1]._tokenizer.events,d=0,d<_.length&&_[d][1].type==="lineEndingBlank"&&(d+=2),d<_.length&&_[d][1].type==="content"))for(;++d<_.length&&_[d][1].type!=="content";)_[d][1].type==="chunkText"&&(_[d][1]._isInFirstContentOfListItem=!0,d++);if(a[0]==="enter")a[1].contentType&&(Object.assign(s,subcontent($,o)),o=s[o],b=!0);else if(a[1]._container){for(d=o,c=void 0;d--;)if(h=$.get(d),h[1].type==="lineEnding"||h[1].type==="lineEndingBlank")h[0]==="enter"&&(c&&($.get(c)[1].type="lineEndingBlank"),h[1].type="lineEnding",c=d);else if(!(h[1].type==="linePrefix"||h[1].type==="listItemIndent"))break;c&&(a[1].end={...$.get(c)[1].start},g=$.slice(c,o),g.unshift(a),$.splice(c,o-c+1,g))}}return splice(i,0,Number.POSITIVE_INFINITY,$.slice(0)),!b}function subcontent(i,s){const o=i.get(s)[1],a=i.get(s)[2];let c=s-1;const d=[];let h=o._tokenizer;h||(h=a.parser[o.contentType](o.start),o._contentTypeTextTrailing&&(h._contentTypeTextTrailing=!0));const g=h.events,_=[],b={};let $,et,_e=-1,tt=o,it=0,st=0;const lt=[st];for(;tt;){for(;i.get(++c)[1]!==tt;);d.push(c),tt._tokenizer||($=a.sliceStream(tt),tt.next||$.push(null),et&&h.defineSkip(tt.start),tt._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=!0),h.write($),tt._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=void 0)),et=tt,tt=tt.next}for(tt=o;++_e<g.length;)g[_e][0]==="exit"&&g[_e-1][0]==="enter"&&g[_e][1].type===g[_e-1][1].type&&g[_e][1].start.line!==g[_e][1].end.line&&(st=_e+1,lt.push(st),tt._tokenizer=void 0,tt.previous=void 0,tt=tt.next);for(h.events=[],tt?(tt._tokenizer=void 0,tt.previous=void 0):lt.pop(),_e=lt.length;_e--;){const nt=g.slice(lt[_e],lt[_e+1]),rt=d.pop();_.push([rt,rt+nt.length-1]),i.splice(rt,2,nt)}for(_.reverse(),_e=-1;++_e<_.length;)b[it+_[_e][0]]=it+_[_e][1],it+=_[_e][1]-_[_e][0]-1;return b}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(i){return subtokenize(i),i}function tokenizeContent(i,s){let o;return a;function a(g){return i.enter("content"),o=i.enter("chunkContent",{contentType:"content"}),c(g)}function c(g){return g===null?d(g):markdownLineEnding(g)?i.check(continuationConstruct,h,d)(g):(i.consume(g),c)}function d(g){return i.exit("chunkContent"),i.exit("content"),s(g)}function h(g){return i.consume(g),i.exit("chunkContent"),o.next=i.enter("chunkContent",{contentType:"content",previous:o}),o=o.next,c}}function tokenizeContinuation(i,s,o){const a=this;return c;function c(h){return i.exit("chunkContent"),i.enter("lineEnding"),i.consume(h),i.exit("lineEnding"),factorySpace(i,d,"linePrefix")}function d(h){if(h===null||markdownLineEnding(h))return o(h);const g=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?s(h):i.interrupt(a.parser.constructs.flow,o,s)(h)}}function factoryDestination(i,s,o,a,c,d,h,g,_){const b=_||Number.POSITIVE_INFINITY;let $=0;return et;function et(nt){return nt===60?(i.enter(a),i.enter(c),i.enter(d),i.consume(nt),i.exit(d),_e):nt===null||nt===32||nt===41||asciiControl(nt)?o(nt):(i.enter(a),i.enter(h),i.enter(g),i.enter("chunkString",{contentType:"string"}),st(nt))}function _e(nt){return nt===62?(i.enter(d),i.consume(nt),i.exit(d),i.exit(c),i.exit(a),s):(i.enter(g),i.enter("chunkString",{contentType:"string"}),tt(nt))}function tt(nt){return nt===62?(i.exit("chunkString"),i.exit(g),_e(nt)):nt===null||nt===60||markdownLineEnding(nt)?o(nt):(i.consume(nt),nt===92?it:tt)}function it(nt){return nt===60||nt===62||nt===92?(i.consume(nt),tt):tt(nt)}function st(nt){return!$&&(nt===null||nt===41||markdownLineEndingOrSpace(nt))?(i.exit("chunkString"),i.exit(g),i.exit(h),i.exit(a),s(nt)):$<b&&nt===40?(i.consume(nt),$++,st):nt===41?(i.consume(nt),$--,st):nt===null||nt===32||nt===40||asciiControl(nt)?o(nt):(i.consume(nt),nt===92?lt:st)}function lt(nt){return nt===40||nt===41||nt===92?(i.consume(nt),st):st(nt)}}function factoryLabel(i,s,o,a,c,d){const h=this;let g=0,_;return b;function b(tt){return i.enter(a),i.enter(c),i.consume(tt),i.exit(c),i.enter(d),$}function $(tt){return g>999||tt===null||tt===91||tt===93&&!_||tt===94&&!g&&"_hiddenFootnoteSupport"in h.parser.constructs?o(tt):tt===93?(i.exit(d),i.enter(c),i.consume(tt),i.exit(c),i.exit(a),s):markdownLineEnding(tt)?(i.enter("lineEnding"),i.consume(tt),i.exit("lineEnding"),$):(i.enter("chunkString",{contentType:"string"}),et(tt))}function et(tt){return tt===null||tt===91||tt===93||markdownLineEnding(tt)||g++>999?(i.exit("chunkString"),$(tt)):(i.consume(tt),_||(_=!markdownSpace(tt)),tt===92?_e:et)}function _e(tt){return tt===91||tt===92||tt===93?(i.consume(tt),g++,et):et(tt)}}function factoryTitle(i,s,o,a,c,d){let h;return g;function g(_e){return _e===34||_e===39||_e===40?(i.enter(a),i.enter(c),i.consume(_e),i.exit(c),h=_e===40?41:_e,_):o(_e)}function _(_e){return _e===h?(i.enter(c),i.consume(_e),i.exit(c),i.exit(a),s):(i.enter(d),b(_e))}function b(_e){return _e===h?(i.exit(d),_(h)):_e===null?o(_e):markdownLineEnding(_e)?(i.enter("lineEnding"),i.consume(_e),i.exit("lineEnding"),factorySpace(i,b,"linePrefix")):(i.enter("chunkString",{contentType:"string"}),$(_e))}function $(_e){return _e===h||_e===null||markdownLineEnding(_e)?(i.exit("chunkString"),b(_e)):(i.consume(_e),_e===92?et:$)}function et(_e){return _e===h||_e===92?(i.consume(_e),$):$(_e)}}function factoryWhitespace(i,s){let o;return a;function a(c){return markdownLineEnding(c)?(i.enter("lineEnding"),i.consume(c),i.exit("lineEnding"),o=!0,a):markdownSpace(c)?factorySpace(i,a,o?"linePrefix":"lineSuffix")(c):s(c)}}const definition={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(i,s,o){const a=this;let c;return d;function d(tt){return i.enter("definition"),h(tt)}function h(tt){return factoryLabel.call(a,i,g,o,"definitionLabel","definitionLabelMarker","definitionLabelString")(tt)}function g(tt){return c=normalizeIdentifier(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),tt===58?(i.enter("definitionMarker"),i.consume(tt),i.exit("definitionMarker"),_):o(tt)}function _(tt){return markdownLineEndingOrSpace(tt)?factoryWhitespace(i,b)(tt):b(tt)}function b(tt){return factoryDestination(i,$,o,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(tt)}function $(tt){return i.attempt(titleBefore,et,et)(tt)}function et(tt){return markdownSpace(tt)?factorySpace(i,_e,"whitespace")(tt):_e(tt)}function _e(tt){return tt===null||markdownLineEnding(tt)?(i.exit("definition"),a.parser.defined.push(c),s(tt)):o(tt)}}function tokenizeTitleBefore(i,s,o){return a;function a(g){return markdownLineEndingOrSpace(g)?factoryWhitespace(i,c)(g):o(g)}function c(g){return factoryTitle(i,d,o,"definitionTitle","definitionTitleMarker","definitionTitleString")(g)}function d(g){return markdownSpace(g)?factorySpace(i,h,"whitespace")(g):h(g)}function h(g){return g===null||markdownLineEnding(g)?s(g):o(g)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(i,s,o){return a;function a(d){return i.enter("hardBreakEscape"),i.consume(d),c}function c(d){return markdownLineEnding(d)?(i.exit("hardBreakEscape"),s(d)):o(d)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(i,s){let o=i.length-2,a=3,c,d;return i[a][1].type==="whitespace"&&(a+=2),o-2>a&&i[o][1].type==="whitespace"&&(o-=2),i[o][1].type==="atxHeadingSequence"&&(a===o-1||o-4>a&&i[o-2][1].type==="whitespace")&&(o-=a+1===o?2:4),o>a&&(c={type:"atxHeadingText",start:i[a][1].start,end:i[o][1].end},d={type:"chunkText",start:i[a][1].start,end:i[o][1].end,contentType:"text"},splice(i,a,o-a+1,[["enter",c,s],["enter",d,s],["exit",d,s],["exit",c,s]])),i}function tokenizeHeadingAtx(i,s,o){let a=0;return c;function c($){return i.enter("atxHeading"),d($)}function d($){return i.enter("atxHeadingSequence"),h($)}function h($){return $===35&&a++<6?(i.consume($),h):$===null||markdownLineEndingOrSpace($)?(i.exit("atxHeadingSequence"),g($)):o($)}function g($){return $===35?(i.enter("atxHeadingSequence"),_($)):$===null||markdownLineEnding($)?(i.exit("atxHeading"),s($)):markdownSpace($)?factorySpace(i,g,"whitespace")($):(i.enter("atxHeadingText"),b($))}function _($){return $===35?(i.consume($),_):(i.exit("atxHeadingSequence"),g($))}function b($){return $===null||$===35||markdownLineEndingOrSpace($)?(i.exit("atxHeadingText"),g($)):(i.consume($),b)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(i){let s=i.length;for(;s--&&!(i[s][0]==="enter"&&i[s][1].type==="htmlFlow"););return s>1&&i[s-2][1].type==="linePrefix"&&(i[s][1].start=i[s-2][1].start,i[s+1][1].start=i[s-2][1].start,i.splice(s-2,2)),i}function tokenizeHtmlFlow(i,s,o){const a=this;let c,d,h,g,_;return b;function b(ot){return $(ot)}function $(ot){return i.enter("htmlFlow"),i.enter("htmlFlowData"),i.consume(ot),et}function et(ot){return ot===33?(i.consume(ot),_e):ot===47?(i.consume(ot),d=!0,st):ot===63?(i.consume(ot),c=3,a.interrupt?s:wt):asciiAlpha(ot)?(i.consume(ot),h=String.fromCharCode(ot),lt):o(ot)}function _e(ot){return ot===45?(i.consume(ot),c=2,tt):ot===91?(i.consume(ot),c=5,g=0,it):asciiAlpha(ot)?(i.consume(ot),c=4,a.interrupt?s:wt):o(ot)}function tt(ot){return ot===45?(i.consume(ot),a.interrupt?s:wt):o(ot)}function it(ot){const bt="CDATA[";return ot===bt.charCodeAt(g++)?(i.consume(ot),g===bt.length?a.interrupt?s:St:it):o(ot)}function st(ot){return asciiAlpha(ot)?(i.consume(ot),h=String.fromCharCode(ot),lt):o(ot)}function lt(ot){if(ot===null||ot===47||ot===62||markdownLineEndingOrSpace(ot)){const bt=ot===47,Pt=h.toLowerCase();return!bt&&!d&&htmlRawNames.includes(Pt)?(c=1,a.interrupt?s(ot):St(ot)):htmlBlockNames.includes(h.toLowerCase())?(c=6,bt?(i.consume(ot),nt):a.interrupt?s(ot):St(ot)):(c=7,a.interrupt&&!a.parser.lazy[a.now().line]?o(ot):d?rt(ot):pt(ot))}return ot===45||asciiAlphanumeric(ot)?(i.consume(ot),h+=String.fromCharCode(ot),lt):o(ot)}function nt(ot){return ot===62?(i.consume(ot),a.interrupt?s:St):o(ot)}function rt(ot){return markdownSpace(ot)?(i.consume(ot),rt):Et(ot)}function pt(ot){return ot===47?(i.consume(ot),Et):ot===58||ot===95||asciiAlpha(ot)?(i.consume(ot),gt):markdownSpace(ot)?(i.consume(ot),pt):Et(ot)}function gt(ot){return ot===45||ot===46||ot===58||ot===95||asciiAlphanumeric(ot)?(i.consume(ot),gt):ht(ot)}function ht(ot){return ot===61?(i.consume(ot),dt):markdownSpace(ot)?(i.consume(ot),ht):pt(ot)}function dt(ot){return ot===null||ot===60||ot===61||ot===62||ot===96?o(ot):ot===34||ot===39?(i.consume(ot),_=ot,mt):markdownSpace(ot)?(i.consume(ot),dt):yt(ot)}function mt(ot){return ot===_?(i.consume(ot),_=null,xt):ot===null||markdownLineEnding(ot)?o(ot):(i.consume(ot),mt)}function yt(ot){return ot===null||ot===34||ot===39||ot===47||ot===60||ot===61||ot===62||ot===96||markdownLineEndingOrSpace(ot)?ht(ot):(i.consume(ot),yt)}function xt(ot){return ot===47||ot===62||markdownSpace(ot)?pt(ot):o(ot)}function Et(ot){return ot===62?(i.consume(ot),vt):o(ot)}function vt(ot){return ot===null||markdownLineEnding(ot)?St(ot):markdownSpace(ot)?(i.consume(ot),vt):o(ot)}function St(ot){return ot===45&&c===2?(i.consume(ot),sn):ot===60&&c===1?(i.consume(ot),en):ot===62&&c===4?(i.consume(ot),rn):ot===63&&c===3?(i.consume(ot),wt):ot===93&&c===5?(i.consume(ot),At):markdownLineEnding(ot)&&(c===6||c===7)?(i.exit("htmlFlowData"),i.check(blankLineBefore,kt,Rt)(ot)):ot===null||markdownLineEnding(ot)?(i.exit("htmlFlowData"),Rt(ot)):(i.consume(ot),St)}function Rt(ot){return i.check(nonLazyContinuationStart,nn,kt)(ot)}function nn(ot){return i.enter("lineEnding"),i.consume(ot),i.exit("lineEnding"),zt}function zt(ot){return ot===null||markdownLineEnding(ot)?Rt(ot):(i.enter("htmlFlowData"),St(ot))}function sn(ot){return ot===45?(i.consume(ot),wt):St(ot)}function en(ot){return ot===47?(i.consume(ot),h="",Nt):St(ot)}function Nt(ot){if(ot===62){const bt=h.toLowerCase();return htmlRawNames.includes(bt)?(i.consume(ot),rn):St(ot)}return asciiAlpha(ot)&&h.length<8?(i.consume(ot),h+=String.fromCharCode(ot),Nt):St(ot)}function At(ot){return ot===93?(i.consume(ot),wt):St(ot)}function wt(ot){return ot===62?(i.consume(ot),rn):ot===45&&c===2?(i.consume(ot),wt):St(ot)}function rn(ot){return ot===null||markdownLineEnding(ot)?(i.exit("htmlFlowData"),kt(ot)):(i.consume(ot),rn)}function kt(ot){return i.exit("htmlFlow"),s(ot)}}function tokenizeNonLazyContinuationStart(i,s,o){const a=this;return c;function c(h){return markdownLineEnding(h)?(i.enter("lineEnding"),i.consume(h),i.exit("lineEnding"),d):o(h)}function d(h){return a.parser.lazy[a.now().line]?o(h):s(h)}}function tokenizeBlankLineBefore(i,s,o){return a;function a(c){return i.enter("lineEnding"),i.consume(c),i.exit("lineEnding"),i.attempt(blankLine,s,o)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(i,s,o){const a=this;let c,d,h;return g;function g(wt){return i.enter("htmlText"),i.enter("htmlTextData"),i.consume(wt),_}function _(wt){return wt===33?(i.consume(wt),b):wt===47?(i.consume(wt),ht):wt===63?(i.consume(wt),pt):asciiAlpha(wt)?(i.consume(wt),yt):o(wt)}function b(wt){return wt===45?(i.consume(wt),$):wt===91?(i.consume(wt),d=0,it):asciiAlpha(wt)?(i.consume(wt),rt):o(wt)}function $(wt){return wt===45?(i.consume(wt),tt):o(wt)}function et(wt){return wt===null?o(wt):wt===45?(i.consume(wt),_e):markdownLineEnding(wt)?(h=et,en(wt)):(i.consume(wt),et)}function _e(wt){return wt===45?(i.consume(wt),tt):et(wt)}function tt(wt){return wt===62?sn(wt):wt===45?_e(wt):et(wt)}function it(wt){const rn="CDATA[";return wt===rn.charCodeAt(d++)?(i.consume(wt),d===rn.length?st:it):o(wt)}function st(wt){return wt===null?o(wt):wt===93?(i.consume(wt),lt):markdownLineEnding(wt)?(h=st,en(wt)):(i.consume(wt),st)}function lt(wt){return wt===93?(i.consume(wt),nt):st(wt)}function nt(wt){return wt===62?sn(wt):wt===93?(i.consume(wt),nt):st(wt)}function rt(wt){return wt===null||wt===62?sn(wt):markdownLineEnding(wt)?(h=rt,en(wt)):(i.consume(wt),rt)}function pt(wt){return wt===null?o(wt):wt===63?(i.consume(wt),gt):markdownLineEnding(wt)?(h=pt,en(wt)):(i.consume(wt),pt)}function gt(wt){return wt===62?sn(wt):pt(wt)}function ht(wt){return asciiAlpha(wt)?(i.consume(wt),dt):o(wt)}function dt(wt){return wt===45||asciiAlphanumeric(wt)?(i.consume(wt),dt):mt(wt)}function mt(wt){return markdownLineEnding(wt)?(h=mt,en(wt)):markdownSpace(wt)?(i.consume(wt),mt):sn(wt)}function yt(wt){return wt===45||asciiAlphanumeric(wt)?(i.consume(wt),yt):wt===47||wt===62||markdownLineEndingOrSpace(wt)?xt(wt):o(wt)}function xt(wt){return wt===47?(i.consume(wt),sn):wt===58||wt===95||asciiAlpha(wt)?(i.consume(wt),Et):markdownLineEnding(wt)?(h=xt,en(wt)):markdownSpace(wt)?(i.consume(wt),xt):sn(wt)}function Et(wt){return wt===45||wt===46||wt===58||wt===95||asciiAlphanumeric(wt)?(i.consume(wt),Et):vt(wt)}function vt(wt){return wt===61?(i.consume(wt),St):markdownLineEnding(wt)?(h=vt,en(wt)):markdownSpace(wt)?(i.consume(wt),vt):xt(wt)}function St(wt){return wt===null||wt===60||wt===61||wt===62||wt===96?o(wt):wt===34||wt===39?(i.consume(wt),c=wt,Rt):markdownLineEnding(wt)?(h=St,en(wt)):markdownSpace(wt)?(i.consume(wt),St):(i.consume(wt),nn)}function Rt(wt){return wt===c?(i.consume(wt),c=void 0,zt):wt===null?o(wt):markdownLineEnding(wt)?(h=Rt,en(wt)):(i.consume(wt),Rt)}function nn(wt){return wt===null||wt===34||wt===39||wt===60||wt===61||wt===96?o(wt):wt===47||wt===62||markdownLineEndingOrSpace(wt)?xt(wt):(i.consume(wt),nn)}function zt(wt){return wt===47||wt===62||markdownLineEndingOrSpace(wt)?xt(wt):o(wt)}function sn(wt){return wt===62?(i.consume(wt),i.exit("htmlTextData"),i.exit("htmlText"),s):o(wt)}function en(wt){return i.exit("htmlTextData"),i.enter("lineEnding"),i.consume(wt),i.exit("lineEnding"),Nt}function Nt(wt){return markdownSpace(wt)?factorySpace(i,At,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(wt):At(wt)}function At(wt){return i.enter("htmlTextData"),h(wt)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(i){let s=-1;const o=[];for(;++s<i.length;){const a=i[s][1];if(o.push(i[s]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const c=a.type==="labelImage"?4:2;a.type="data",s+=c}}return i.length!==o.length&&splice(i,0,i.length,o),i}function resolveToLabelEnd(i,s){let o=i.length,a=0,c,d,h,g;for(;o--;)if(c=i[o][1],d){if(c.type==="link"||c.type==="labelLink"&&c._inactive)break;i[o][0]==="enter"&&c.type==="labelLink"&&(c._inactive=!0)}else if(h){if(i[o][0]==="enter"&&(c.type==="labelImage"||c.type==="labelLink")&&!c._balanced&&(d=o,c.type!=="labelLink")){a=2;break}}else c.type==="labelEnd"&&(h=o);const _={type:i[d][1].type==="labelLink"?"link":"image",start:{...i[d][1].start},end:{...i[i.length-1][1].end}},b={type:"label",start:{...i[d][1].start},end:{...i[h][1].end}},$={type:"labelText",start:{...i[d+a+2][1].end},end:{...i[h-2][1].start}};return g=[["enter",_,s],["enter",b,s]],g=push(g,i.slice(d+1,d+a+3)),g=push(g,[["enter",$,s]]),g=push(g,resolveAll(s.parser.constructs.insideSpan.null,i.slice(d+a+4,h-3),s)),g=push(g,[["exit",$,s],i[h-2],i[h-1],["exit",b,s]]),g=push(g,i.slice(h+1)),g=push(g,[["exit",_,s]]),splice(i,d,i.length,g),i}function tokenizeLabelEnd(i,s,o){const a=this;let c=a.events.length,d,h;for(;c--;)if((a.events[c][1].type==="labelImage"||a.events[c][1].type==="labelLink")&&!a.events[c][1]._balanced){d=a.events[c][1];break}return g;function g(_e){return d?d._inactive?et(_e):(h=a.parser.defined.includes(normalizeIdentifier(a.sliceSerialize({start:d.end,end:a.now()}))),i.enter("labelEnd"),i.enter("labelMarker"),i.consume(_e),i.exit("labelMarker"),i.exit("labelEnd"),_):o(_e)}function _(_e){return _e===40?i.attempt(resourceConstruct,$,h?$:et)(_e):_e===91?i.attempt(referenceFullConstruct,$,h?b:et)(_e):h?$(_e):et(_e)}function b(_e){return i.attempt(referenceCollapsedConstruct,$,et)(_e)}function $(_e){return s(_e)}function et(_e){return d._balanced=!0,o(_e)}}function tokenizeResource(i,s,o){return a;function a(et){return i.enter("resource"),i.enter("resourceMarker"),i.consume(et),i.exit("resourceMarker"),c}function c(et){return markdownLineEndingOrSpace(et)?factoryWhitespace(i,d)(et):d(et)}function d(et){return et===41?$(et):factoryDestination(i,h,g,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(et)}function h(et){return markdownLineEndingOrSpace(et)?factoryWhitespace(i,_)(et):$(et)}function g(et){return o(et)}function _(et){return et===34||et===39||et===40?factoryTitle(i,b,o,"resourceTitle","resourceTitleMarker","resourceTitleString")(et):$(et)}function b(et){return markdownLineEndingOrSpace(et)?factoryWhitespace(i,$)(et):$(et)}function $(et){return et===41?(i.enter("resourceMarker"),i.consume(et),i.exit("resourceMarker"),i.exit("resource"),s):o(et)}}function tokenizeReferenceFull(i,s,o){const a=this;return c;function c(g){return factoryLabel.call(a,i,d,h,"reference","referenceMarker","referenceString")(g)}function d(g){return a.parser.defined.includes(normalizeIdentifier(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?s(g):o(g)}function h(g){return o(g)}}function tokenizeReferenceCollapsed(i,s,o){return a;function a(d){return i.enter("reference"),i.enter("referenceMarker"),i.consume(d),i.exit("referenceMarker"),c}function c(d){return d===93?(i.enter("referenceMarker"),i.consume(d),i.exit("referenceMarker"),i.exit("reference"),s):o(d)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(i,s,o){const a=this;return c;function c(g){return i.enter("labelImage"),i.enter("labelImageMarker"),i.consume(g),i.exit("labelImageMarker"),d}function d(g){return g===91?(i.enter("labelMarker"),i.consume(g),i.exit("labelMarker"),i.exit("labelImage"),h):o(g)}function h(g){return g===94&&"_hiddenFootnoteSupport"in a.parser.constructs?o(g):s(g)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(i,s,o){const a=this;return c;function c(h){return i.enter("labelLink"),i.enter("labelMarker"),i.consume(h),i.exit("labelMarker"),i.exit("labelLink"),d}function d(h){return h===94&&"_hiddenFootnoteSupport"in a.parser.constructs?o(h):s(h)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(i,s){return o;function o(a){return i.enter("lineEnding"),i.consume(a),i.exit("lineEnding"),factorySpace(i,s,"linePrefix")}}const thematicBreak$1={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(i,s,o){let a=0,c;return d;function d(b){return i.enter("thematicBreak"),h(b)}function h(b){return c=b,g(b)}function g(b){return b===c?(i.enter("thematicBreakSequence"),_(b)):a>=3&&(b===null||markdownLineEnding(b))?(i.exit("thematicBreak"),s(b)):o(b)}function _(b){return b===c?(i.consume(b),a++,_):(i.exit("thematicBreakSequence"),markdownSpace(b)?factorySpace(i,g,"whitespace")(b):g(b))}}const list$1={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent};function tokenizeListStart(i,s,o){const a=this,c=a.events[a.events.length-1];let d=c&&c[1].type==="linePrefix"?c[2].sliceSerialize(c[1],!0).length:0,h=0;return g;function g(tt){const it=a.containerState.type||(tt===42||tt===43||tt===45?"listUnordered":"listOrdered");if(it==="listUnordered"?!a.containerState.marker||tt===a.containerState.marker:asciiDigit(tt)){if(a.containerState.type||(a.containerState.type=it,i.enter(it,{_container:!0})),it==="listUnordered")return i.enter("listItemPrefix"),tt===42||tt===45?i.check(thematicBreak$1,o,b)(tt):b(tt);if(!a.interrupt||tt===49)return i.enter("listItemPrefix"),i.enter("listItemValue"),_(tt)}return o(tt)}function _(tt){return asciiDigit(tt)&&++h<10?(i.consume(tt),_):(!a.interrupt||h<2)&&(a.containerState.marker?tt===a.containerState.marker:tt===41||tt===46)?(i.exit("listItemValue"),b(tt)):o(tt)}function b(tt){return i.enter("listItemMarker"),i.consume(tt),i.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||tt,i.check(blankLine,a.interrupt?o:$,i.attempt(listItemPrefixWhitespaceConstruct,_e,et))}function $(tt){return a.containerState.initialBlankLine=!0,d++,_e(tt)}function et(tt){return markdownSpace(tt)?(i.enter("listItemPrefixWhitespace"),i.consume(tt),i.exit("listItemPrefixWhitespace"),_e):o(tt)}function _e(tt){return a.containerState.size=d+a.sliceSerialize(i.exit("listItemPrefix"),!0).length,s(tt)}}function tokenizeListContinuation(i,s,o){const a=this;return a.containerState._closeFlow=void 0,i.check(blankLine,c,d);function c(g){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,factorySpace(i,s,"listItemIndent",a.containerState.size+1)(g)}function d(g){return a.containerState.furtherBlankLines||!markdownSpace(g)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,h(g)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,i.attempt(indentConstruct,s,h)(g))}function h(g){return a.containerState._closeFlow=!0,a.interrupt=void 0,factorySpace(i,i.attempt(list$1,s,o),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g)}}function tokenizeIndent(i,s,o){const a=this;return factorySpace(i,c,"listItemIndent",a.containerState.size+1);function c(d){const h=a.events[a.events.length-1];return h&&h[1].type==="listItemIndent"&&h[2].sliceSerialize(h[1],!0).length===a.containerState.size?s(d):o(d)}}function tokenizeListEnd(i){i.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(i,s,o){const a=this;return factorySpace(i,c,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function c(d){const h=a.events[a.events.length-1];return!markdownSpace(d)&&h&&h[1].type==="listItemPrefixWhitespace"?s(d):o(d)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(i,s){let o=i.length,a,c,d;for(;o--;)if(i[o][0]==="enter"){if(i[o][1].type==="content"){a=o;break}i[o][1].type==="paragraph"&&(c=o)}else i[o][1].type==="content"&&i.splice(o,1),!d&&i[o][1].type==="definition"&&(d=o);const h={type:"setextHeading",start:{...i[a][1].start},end:{...i[i.length-1][1].end}};return i[c][1].type="setextHeadingText",d?(i.splice(c,0,["enter",h,s]),i.splice(d+1,0,["exit",i[a][1],s]),i[a][1].end={...i[d][1].end}):i[a][1]=h,i.push(["exit",h,s]),i}function tokenizeSetextUnderline(i,s,o){const a=this;let c;return d;function d(b){let $=a.events.length,et;for(;$--;)if(a.events[$][1].type!=="lineEnding"&&a.events[$][1].type!=="linePrefix"&&a.events[$][1].type!=="content"){et=a.events[$][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||et)?(i.enter("setextHeadingLine"),c=b,h(b)):o(b)}function h(b){return i.enter("setextHeadingLineSequence"),g(b)}function g(b){return b===c?(i.consume(b),g):(i.exit("setextHeadingLineSequence"),markdownSpace(b)?factorySpace(i,_,"lineSuffix")(b):_(b))}function _(b){return b===null||markdownLineEnding(b)?(i.exit("setextHeadingLine"),s(b)):o(b)}}const flow$1={tokenize:initializeFlow};function initializeFlow(i){const s=this,o=i.attempt(blankLine,a,i.attempt(this.parser.constructs.flowInitial,c,factorySpace(i,i.attempt(this.parser.constructs.flow,c,i.attempt(content,c)),"linePrefix")));return o;function a(d){if(d===null){i.consume(d);return}return i.enter("lineEndingBlank"),i.consume(d),i.exit("lineEndingBlank"),s.currentConstruct=void 0,o}function c(d){if(d===null){i.consume(d);return}return i.enter("lineEnding"),i.consume(d),i.exit("lineEnding"),s.currentConstruct=void 0,o}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$2=initializeFactory("text");function initializeFactory(i){return{resolveAll:createResolver(i==="text"?resolveAllLineSuffixes:void 0),tokenize:s};function s(o){const a=this,c=this.parser.constructs[i],d=o.attempt(c,h,g);return h;function h($){return b($)?d($):g($)}function g($){if($===null){o.consume($);return}return o.enter("data"),o.consume($),_}function _($){return b($)?(o.exit("data"),d($)):(o.consume($),_)}function b($){if($===null)return!0;const et=c[$];let _e=-1;if(et)for(;++_e<et.length;){const tt=et[_e];if(!tt.previous||tt.previous.call(a,a.previous))return!0}return!1}}}function createResolver(i){return s;function s(o,a){let c=-1,d;for(;++c<=o.length;)d===void 0?o[c]&&o[c][1].type==="data"&&(d=c,c++):(!o[c]||o[c][1].type!=="data")&&(c!==d+2&&(o[d][1].end=o[c-1][1].end,o.splice(d+2,c-d-2),c=d+2),d=void 0);return i?i(o,a):o}}function resolveAllLineSuffixes(i,s){let o=0;for(;++o<=i.length;)if((o===i.length||i[o][1].type==="lineEnding")&&i[o-1][1].type==="data"){const a=i[o-1][1],c=s.sliceStream(a);let d=c.length,h=-1,g=0,_;for(;d--;){const b=c[d];if(typeof b=="string"){for(h=b.length;b.charCodeAt(h-1)===32;)g++,h--;if(h)break;h=-1}else if(b===-2)_=!0,g++;else if(b!==-1){d++;break}}if(s._contentTypeTextTrailing&&o===i.length&&(g=0),g){const b={type:o===i.length||_||g<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:d?h:a.start._bufferIndex+h,_index:a.start._index+d,line:a.end.line,column:a.end.column-g,offset:a.end.offset-g},end:{...a.end}};a.end={...b.start},a.start.offset===a.end.offset?Object.assign(a,b):(i.splice(o,0,["enter",b,s],["exit",b,s]),o+=2)}o++}return i}const document$1={42:list$1,43:list$1,45:list$1,48:list$1,49:list$1,50:list$1,51:list$1,52:list$1,53:list$1,54:list$1,55:list$1,56:list$1,57:list$1,62:blockQuote},contentInitial={91:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$1,45:[setextUnderline,thematicBreak$1],60:htmlFlow,61:setextUnderline,95:thematicBreak$1,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$1={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$1},Symbol.toStringTag,{value:"Module"}));function createTokenizer(i,s,o){let a={_bufferIndex:-1,_index:0,line:o&&o.line||1,column:o&&o.column||1,offset:o&&o.offset||0};const c={},d=[];let h=[],g=[];const _={attempt:mt(ht),check:mt(dt),consume:rt,enter:pt,exit:gt,interrupt:mt(dt,{interrupt:!0})},b={code:null,containerState:{},defineSkip:st,events:[],now:it,parser:i,previous:null,sliceSerialize:_e,sliceStream:tt,write:et};let $=s.tokenize.call(b,_);return s.resolveAll&&d.push(s),b;function et(vt){return h=push(h,vt),lt(),h[h.length-1]!==null?[]:(yt(s,0),b.events=resolveAll(d,b.events,b),b.events)}function _e(vt,St){return serializeChunks(tt(vt),St)}function tt(vt){return sliceChunks(h,vt)}function it(){const{_bufferIndex:vt,_index:St,line:Rt,column:nn,offset:zt}=a;return{_bufferIndex:vt,_index:St,line:Rt,column:nn,offset:zt}}function st(vt){c[vt.line]=vt.column,Et()}function lt(){let vt;for(;a._index<h.length;){const St=h[a._index];if(typeof St=="string")for(vt=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===vt&&a._bufferIndex<St.length;)nt(St.charCodeAt(a._bufferIndex));else nt(St)}}function nt(vt){$=$(vt)}function rt(vt){markdownLineEnding(vt)?(a.line++,a.column=1,a.offset+=vt===-3?2:1,Et()):vt!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===h[a._index].length&&(a._bufferIndex=-1,a._index++)),b.previous=vt}function pt(vt,St){const Rt=St||{};return Rt.type=vt,Rt.start=it(),b.events.push(["enter",Rt,b]),g.push(Rt),Rt}function gt(vt){const St=g.pop();return St.end=it(),b.events.push(["exit",St,b]),St}function ht(vt,St){yt(vt,St.from)}function dt(vt,St){St.restore()}function mt(vt,St){return Rt;function Rt(nn,zt,sn){let en,Nt,At,wt;return Array.isArray(nn)?kt(nn):"tokenize"in nn?kt([nn]):rn(nn);function rn(Mt){return jt;function jt(Bt){const on=Bt!==null&&Mt[Bt],yn=Bt!==null&&Mt.null,Sn=[...Array.isArray(on)?on:on?[on]:[],...Array.isArray(yn)?yn:yn?[yn]:[]];return kt(Sn)(Bt)}}function kt(Mt){return en=Mt,Nt=0,Mt.length===0?sn:ot(Mt[Nt])}function ot(Mt){return jt;function jt(Bt){return wt=xt(),At=Mt,Mt.partial||(b.currentConstruct=Mt),Mt.name&&b.parser.constructs.disable.null.includes(Mt.name)?Pt():Mt.tokenize.call(St?Object.assign(Object.create(b),St):b,_,bt,Pt)(Bt)}}function bt(Mt){return vt(At,wt),zt}function Pt(Mt){return wt.restore(),++Nt<en.length?ot(en[Nt]):sn}}}function yt(vt,St){vt.resolveAll&&!d.includes(vt)&&d.push(vt),vt.resolve&&splice(b.events,St,b.events.length-St,vt.resolve(b.events.slice(St),b)),vt.resolveTo&&(b.events=vt.resolveTo(b.events,b))}function xt(){const vt=it(),St=b.previous,Rt=b.currentConstruct,nn=b.events.length,zt=Array.from(g);return{from:nn,restore:sn};function sn(){a=vt,b.previous=St,b.currentConstruct=Rt,b.events.length=nn,g=zt,Et()}}function Et(){a.line in c&&a.column<2&&(a.column=c[a.line],a.offset+=c[a.line]-1)}}function sliceChunks(i,s){const o=s.start._index,a=s.start._bufferIndex,c=s.end._index,d=s.end._bufferIndex;let h;if(o===c)h=[i[o].slice(a,d)];else{if(h=i.slice(o,c),a>-1){const g=h[0];typeof g=="string"?h[0]=g.slice(a):h.shift()}d>0&&h.push(i[c].slice(0,d))}return h}function serializeChunks(i,s){let o=-1;const a=[];let c;for(;++o<i.length;){const d=i[o];let h;if(typeof d=="string")h=d;else switch(d){case-5:{h="\r";break}case-4:{h=`
`;break}case-3:{h=`\r
`;break}case-2:{h=s?" ":"	";break}case-1:{if(!s&&c)continue;h=" ";break}default:h=String.fromCharCode(d)}c=d===-2,a.push(h)}return a.join("")}function parse(i){const a={constructs:combineExtensions([defaultConstructs,...(i||{}).extensions||[]]),content:c(content$1),defined:[],document:c(document$2),flow:c(flow$1),lazy:{},string:c(string$1),text:c(text$2)};return a;function c(d){return h;function h(g){return createTokenizer(a,d,g)}}}function postprocess(i){for(;!subtokenize(i););return i}const search=/[\0\t\n\r]/g;function preprocess(){let i=1,s="",o=!0,a;return c;function c(d,h,g){const _=[];let b,$,et,_e,tt;for(d=s+(typeof d=="string"?d.toString():new TextDecoder(h||void 0).decode(d)),et=0,s="",o&&(d.charCodeAt(0)===65279&&et++,o=void 0);et<d.length;){if(search.lastIndex=et,b=search.exec(d),_e=b&&b.index!==void 0?b.index:d.length,tt=d.charCodeAt(_e),!b){s=d.slice(et);break}if(tt===10&&et===_e&&a)_.push(-3),a=void 0;else switch(a&&(_.push(-5),a=void 0),et<_e&&(_.push(d.slice(et,_e)),i+=_e-et),tt){case 0:{_.push(65533),i++;break}case 9:{for($=Math.ceil(i/4)*4,_.push(-2);i++<$;)_.push(-1);break}case 10:{_.push(-4),i=1;break}default:a=!0,i=1}et=_e+1}return g&&(a&&_.push(-5),s&&_.push(s),_.push(null)),_}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(i){return i.replace(characterEscapeOrReference,decode)}function decode(i,s,o){if(s)return s;if(o.charCodeAt(0)===35){const c=o.charCodeAt(1),d=c===120||c===88;return decodeNumericCharacterReference(o.slice(d?2:1),d?16:10)}return decodeNamedCharacterReference(o)||i}const own$2={}.hasOwnProperty;function fromMarkdown(i,s,o){return typeof s!="string"&&(o=s,s=void 0),compiler(o)(postprocess(parse(o).document().write(preprocess()(i,s,!0))))}function compiler(i){const s={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:d(Yt),autolinkProtocol:xt,autolinkEmail:xt,atxHeading:d(In),blockQuote:d(yn),characterEscape:xt,characterReference:xt,codeFenced:d(Sn),codeFencedFenceInfo:h,codeFencedFenceMeta:h,codeIndented:d(Sn,h),codeText:d(En,h),codeTextData:xt,data:xt,codeFlowValue:xt,definition:d(kn),definitionDestinationString:h,definitionLabelString:h,definitionTitleString:h,emphasis:d(Tn),hardBreakEscape:d(gn),hardBreakTrailing:d(gn),htmlFlow:d(xn,h),htmlFlowData:xt,htmlText:d(xn,h),htmlTextData:xt,image:d(Tt),label:h,link:d(Yt),listItem:d(_n),listItemValue:_e,listOrdered:d(hn,et),listUnordered:d(hn),paragraph:d(Pn),reference:ot,referenceString:h,resourceDestinationString:h,resourceTitleString:h,setextHeading:d(In),strong:d(Fn),thematicBreak:d(pn)},exit:{atxHeading:_(),atxHeadingSequence:ht,autolink:_(),autolinkEmail:on,autolinkProtocol:Bt,blockQuote:_(),characterEscapeValue:Et,characterReferenceMarkerHexadecimal:Pt,characterReferenceMarkerNumeric:Pt,characterReferenceValue:Mt,characterReference:jt,codeFenced:_(lt),codeFencedFence:st,codeFencedFenceInfo:tt,codeFencedFenceMeta:it,codeFlowValue:Et,codeIndented:_(nt),codeText:_(zt),codeTextData:Et,data:Et,definition:_(),definitionDestinationString:gt,definitionLabelString:rt,definitionTitleString:pt,emphasis:_(),hardBreakEscape:_(St),hardBreakTrailing:_(St),htmlFlow:_(Rt),htmlFlowData:Et,htmlText:_(nn),htmlTextData:Et,image:_(en),label:At,labelText:Nt,lineEnding:vt,link:_(sn),listItem:_(),listOrdered:_(),listUnordered:_(),paragraph:_(),referenceString:bt,resourceDestinationString:wt,resourceTitleString:rn,resource:kt,setextHeading:_(yt),setextHeadingLineSequence:mt,setextHeadingText:dt,strong:_(),thematicBreak:_()}};configure(s,(i||{}).mdastExtensions||[]);const o={};return a;function a(un){let vn={type:"root",children:[]};const $n={stack:[vn],tokenStack:[],config:s,enter:g,exit:b,buffer:h,resume:$,data:o},jn=[];let Xn=-1;for(;++Xn<un.length;)if(un[Xn][1].type==="listOrdered"||un[Xn][1].type==="listUnordered")if(un[Xn][0]==="enter")jn.push(Xn);else{const zn=jn.pop();Xn=c(un,zn,Xn)}for(Xn=-1;++Xn<un.length;){const zn=s[un[Xn][0]];own$2.call(zn,un[Xn][1].type)&&zn[un[Xn][1].type].call(Object.assign({sliceSerialize:un[Xn][2].sliceSerialize},$n),un[Xn][1])}if($n.tokenStack.length>0){const zn=$n.tokenStack[$n.tokenStack.length-1];(zn[1]||defaultOnError).call($n,void 0,zn[0])}for(vn.position={start:point(un.length>0?un[0][1].start:{line:1,column:1,offset:0}),end:point(un.length>0?un[un.length-2][1].end:{line:1,column:1,offset:0})},Xn=-1;++Xn<s.transforms.length;)vn=s.transforms[Xn](vn)||vn;return vn}function c(un,vn,$n){let jn=vn-1,Xn=-1,zn=!1,Hn,er,rr,Rn;for(;++jn<=$n;){const mn=un[jn];switch(mn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{mn[0]==="enter"?Xn++:Xn--,Rn=void 0;break}case"lineEndingBlank":{mn[0]==="enter"&&(Hn&&!Rn&&!Xn&&!rr&&(rr=jn),Rn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rn=void 0}if(!Xn&&mn[0]==="enter"&&mn[1].type==="listItemPrefix"||Xn===-1&&mn[0]==="exit"&&(mn[1].type==="listUnordered"||mn[1].type==="listOrdered")){if(Hn){let bn=jn;for(er=void 0;bn--;){const Ln=un[bn];if(Ln[1].type==="lineEnding"||Ln[1].type==="lineEndingBlank"){if(Ln[0]==="exit")continue;er&&(un[er][1].type="lineEndingBlank",zn=!0),Ln[1].type="lineEnding",er=bn}else if(!(Ln[1].type==="linePrefix"||Ln[1].type==="blockQuotePrefix"||Ln[1].type==="blockQuotePrefixWhitespace"||Ln[1].type==="blockQuoteMarker"||Ln[1].type==="listItemIndent"))break}rr&&(!er||rr<er)&&(Hn._spread=!0),Hn.end=Object.assign({},er?un[er][1].start:mn[1].end),un.splice(er||jn,0,["exit",Hn,mn[2]]),jn++,$n++}if(mn[1].type==="listItemPrefix"){const bn={type:"listItem",_spread:!1,start:Object.assign({},mn[1].start),end:void 0};Hn=bn,un.splice(jn,0,["enter",bn,mn[2]]),jn++,$n++,rr=void 0,Rn=!0}}}return un[vn][1]._spread=zn,$n}function d(un,vn){return $n;function $n(jn){g.call(this,un(jn),jn),vn&&vn.call(this,jn)}}function h(){this.stack.push({type:"fragment",children:[]})}function g(un,vn,$n){this.stack[this.stack.length-1].children.push(un),this.stack.push(un),this.tokenStack.push([vn,$n||void 0]),un.position={start:point(vn.start),end:void 0}}function _(un){return vn;function vn($n){un&&un.call(this,$n),b.call(this,$n)}}function b(un,vn){const $n=this.stack.pop(),jn=this.tokenStack.pop();if(jn)jn[0].type!==un.type&&(vn?vn.call(this,un,jn[0]):(jn[1]||defaultOnError).call(this,un,jn[0]));else throw new Error("Cannot close `"+un.type+"` ("+stringifyPosition({start:un.start,end:un.end})+"): its not open");$n.position.end=point(un.end)}function $(){return toString$1(this.stack.pop())}function et(){this.data.expectingFirstListItemValue=!0}function _e(un){if(this.data.expectingFirstListItemValue){const vn=this.stack[this.stack.length-2];vn.start=Number.parseInt(this.sliceSerialize(un),10),this.data.expectingFirstListItemValue=void 0}}function tt(){const un=this.resume(),vn=this.stack[this.stack.length-1];vn.lang=un}function it(){const un=this.resume(),vn=this.stack[this.stack.length-1];vn.meta=un}function st(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function lt(){const un=this.resume(),vn=this.stack[this.stack.length-1];vn.value=un.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function nt(){const un=this.resume(),vn=this.stack[this.stack.length-1];vn.value=un.replace(/(\r?\n|\r)$/g,"")}function rt(un){const vn=this.resume(),$n=this.stack[this.stack.length-1];$n.label=vn,$n.identifier=normalizeIdentifier(this.sliceSerialize(un)).toLowerCase()}function pt(){const un=this.resume(),vn=this.stack[this.stack.length-1];vn.title=un}function gt(){const un=this.resume(),vn=this.stack[this.stack.length-1];vn.url=un}function ht(un){const vn=this.stack[this.stack.length-1];if(!vn.depth){const $n=this.sliceSerialize(un).length;vn.depth=$n}}function dt(){this.data.setextHeadingSlurpLineEnding=!0}function mt(un){const vn=this.stack[this.stack.length-1];vn.depth=this.sliceSerialize(un).codePointAt(0)===61?1:2}function yt(){this.data.setextHeadingSlurpLineEnding=void 0}function xt(un){const $n=this.stack[this.stack.length-1].children;let jn=$n[$n.length-1];(!jn||jn.type!=="text")&&(jn=Mn(),jn.position={start:point(un.start),end:void 0},$n.push(jn)),this.stack.push(jn)}function Et(un){const vn=this.stack.pop();vn.value+=this.sliceSerialize(un),vn.position.end=point(un.end)}function vt(un){const vn=this.stack[this.stack.length-1];if(this.data.atHardBreak){const $n=vn.children[vn.children.length-1];$n.position.end=point(un.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&s.canContainEols.includes(vn.type)&&(xt.call(this,un),Et.call(this,un))}function St(){this.data.atHardBreak=!0}function Rt(){const un=this.resume(),vn=this.stack[this.stack.length-1];vn.value=un}function nn(){const un=this.resume(),vn=this.stack[this.stack.length-1];vn.value=un}function zt(){const un=this.resume(),vn=this.stack[this.stack.length-1];vn.value=un}function sn(){const un=this.stack[this.stack.length-1];if(this.data.inReference){const vn=this.data.referenceType||"shortcut";un.type+="Reference",un.referenceType=vn,delete un.url,delete un.title}else delete un.identifier,delete un.label;this.data.referenceType=void 0}function en(){const un=this.stack[this.stack.length-1];if(this.data.inReference){const vn=this.data.referenceType||"shortcut";un.type+="Reference",un.referenceType=vn,delete un.url,delete un.title}else delete un.identifier,delete un.label;this.data.referenceType=void 0}function Nt(un){const vn=this.sliceSerialize(un),$n=this.stack[this.stack.length-2];$n.label=decodeString(vn),$n.identifier=normalizeIdentifier(vn).toLowerCase()}function At(){const un=this.stack[this.stack.length-1],vn=this.resume(),$n=this.stack[this.stack.length-1];if(this.data.inReference=!0,$n.type==="link"){const jn=un.children;$n.children=jn}else $n.alt=vn}function wt(){const un=this.resume(),vn=this.stack[this.stack.length-1];vn.url=un}function rn(){const un=this.resume(),vn=this.stack[this.stack.length-1];vn.title=un}function kt(){this.data.inReference=void 0}function ot(){this.data.referenceType="collapsed"}function bt(un){const vn=this.resume(),$n=this.stack[this.stack.length-1];$n.label=vn,$n.identifier=normalizeIdentifier(this.sliceSerialize(un)).toLowerCase(),this.data.referenceType="full"}function Pt(un){this.data.characterReferenceType=un.type}function Mt(un){const vn=this.sliceSerialize(un),$n=this.data.characterReferenceType;let jn;$n?(jn=decodeNumericCharacterReference(vn,$n==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):jn=decodeNamedCharacterReference(vn);const Xn=this.stack[this.stack.length-1];Xn.value+=jn}function jt(un){const vn=this.stack.pop();vn.position.end=point(un.end)}function Bt(un){Et.call(this,un);const vn=this.stack[this.stack.length-1];vn.url=this.sliceSerialize(un)}function on(un){Et.call(this,un);const vn=this.stack[this.stack.length-1];vn.url="mailto:"+this.sliceSerialize(un)}function yn(){return{type:"blockquote",children:[]}}function Sn(){return{type:"code",lang:null,meta:null,value:""}}function En(){return{type:"inlineCode",value:""}}function kn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Tn(){return{type:"emphasis",children:[]}}function In(){return{type:"heading",depth:0,children:[]}}function gn(){return{type:"break"}}function xn(){return{type:"html",value:""}}function Tt(){return{type:"image",title:null,url:"",alt:null}}function Yt(){return{type:"link",title:null,url:"",children:[]}}function hn(un){return{type:"list",ordered:un.type==="listOrdered",start:null,spread:un._spread,children:[]}}function _n(un){return{type:"listItem",spread:un._spread,checked:null,children:[]}}function Pn(){return{type:"paragraph",children:[]}}function Fn(){return{type:"strong",children:[]}}function Mn(){return{type:"text",value:""}}function pn(){return{type:"thematicBreak"}}}function point(i){return{line:i.line,column:i.column,offset:i.offset}}function configure(i,s){let o=-1;for(;++o<s.length;){const a=s[o];Array.isArray(a)?configure(i,a):extension(i,a)}}function extension(i,s){let o;for(o in s)if(own$2.call(s,o))switch(o){case"canContainEols":{const a=s[o];a&&i[o].push(...a);break}case"transforms":{const a=s[o];a&&i[o].push(...a);break}case"enter":case"exit":{const a=s[o];a&&Object.assign(i[o],a);break}}}function defaultOnError(i,s){throw i?new Error("Cannot close `"+i.type+"` ("+stringifyPosition({start:i.start,end:i.end})+"): a different token (`"+s.type+"`, "+stringifyPosition({start:s.start,end:s.end})+") is open"):new Error("Cannot close document, a token (`"+s.type+"`, "+stringifyPosition({start:s.start,end:s.end})+") is still open")}function remarkParse(i){const s=this;s.parser=o;function o(a){return fromMarkdown(a,{...s.data("settings"),...i,extensions:s.data("micromarkExtensions")||[],mdastExtensions:s.data("fromMarkdownExtensions")||[]})}}function blockquote(i,s){const o={type:"element",tagName:"blockquote",properties:{},children:i.wrap(i.all(s),!0)};return i.patch(s,o),i.applyData(s,o)}function hardBreak(i,s){const o={type:"element",tagName:"br",properties:{},children:[]};return i.patch(s,o),[i.applyData(s,o),{type:"text",value:`
`}]}function code(i,s){const o=s.value?s.value+`
`:"",a={};s.lang&&(a.className=["language-"+s.lang]);let c={type:"element",tagName:"code",properties:a,children:[{type:"text",value:o}]};return s.meta&&(c.data={meta:s.meta}),i.patch(s,c),c=i.applyData(s,c),c={type:"element",tagName:"pre",properties:{},children:[c]},i.patch(s,c),c}function strikethrough(i,s){const o={type:"element",tagName:"del",properties:{},children:i.all(s)};return i.patch(s,o),i.applyData(s,o)}function emphasis(i,s){const o={type:"element",tagName:"em",properties:{},children:i.all(s)};return i.patch(s,o),i.applyData(s,o)}function footnoteReference(i,s){const o=typeof i.options.clobberPrefix=="string"?i.options.clobberPrefix:"user-content-",a=String(s.identifier).toUpperCase(),c=normalizeUri(a.toLowerCase()),d=i.footnoteOrder.indexOf(a);let h,g=i.footnoteCounts.get(a);g===void 0?(g=0,i.footnoteOrder.push(a),h=i.footnoteOrder.length):h=d+1,g+=1,i.footnoteCounts.set(a,g);const _={type:"element",tagName:"a",properties:{href:"#"+o+"fn-"+c,id:o+"fnref-"+c+(g>1?"-"+g:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(h)}]};i.patch(s,_);const b={type:"element",tagName:"sup",properties:{},children:[_]};return i.patch(s,b),i.applyData(s,b)}function heading(i,s){const o={type:"element",tagName:"h"+s.depth,properties:{},children:i.all(s)};return i.patch(s,o),i.applyData(s,o)}function html(i,s){if(i.options.allowDangerousHtml){const o={type:"raw",value:s.value};return i.patch(s,o),i.applyData(s,o)}}function revert(i,s){const o=s.referenceType;let a="]";if(o==="collapsed"?a+="[]":o==="full"&&(a+="["+(s.label||s.identifier)+"]"),s.type==="imageReference")return[{type:"text",value:"!["+s.alt+a}];const c=i.all(s),d=c[0];d&&d.type==="text"?d.value="["+d.value:c.unshift({type:"text",value:"["});const h=c[c.length-1];return h&&h.type==="text"?h.value+=a:c.push({type:"text",value:a}),c}function imageReference(i,s){const o=String(s.identifier).toUpperCase(),a=i.definitionById.get(o);if(!a)return revert(i,s);const c={src:normalizeUri(a.url||""),alt:s.alt};a.title!==null&&a.title!==void 0&&(c.title=a.title);const d={type:"element",tagName:"img",properties:c,children:[]};return i.patch(s,d),i.applyData(s,d)}function image(i,s){const o={src:normalizeUri(s.url)};s.alt!==null&&s.alt!==void 0&&(o.alt=s.alt),s.title!==null&&s.title!==void 0&&(o.title=s.title);const a={type:"element",tagName:"img",properties:o,children:[]};return i.patch(s,a),i.applyData(s,a)}function inlineCode(i,s){const o={type:"text",value:s.value.replace(/\r?\n|\r/g," ")};i.patch(s,o);const a={type:"element",tagName:"code",properties:{},children:[o]};return i.patch(s,a),i.applyData(s,a)}function linkReference(i,s){const o=String(s.identifier).toUpperCase(),a=i.definitionById.get(o);if(!a)return revert(i,s);const c={href:normalizeUri(a.url||"")};a.title!==null&&a.title!==void 0&&(c.title=a.title);const d={type:"element",tagName:"a",properties:c,children:i.all(s)};return i.patch(s,d),i.applyData(s,d)}function link(i,s){const o={href:normalizeUri(s.url)};s.title!==null&&s.title!==void 0&&(o.title=s.title);const a={type:"element",tagName:"a",properties:o,children:i.all(s)};return i.patch(s,a),i.applyData(s,a)}function listItem(i,s,o){const a=i.all(s),c=o?listLoose(o):listItemLoose(s),d={},h=[];if(typeof s.checked=="boolean"){const $=a[0];let et;$&&$.type==="element"&&$.tagName==="p"?et=$:(et={type:"element",tagName:"p",properties:{},children:[]},a.unshift(et)),et.children.length>0&&et.children.unshift({type:"text",value:" "}),et.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:s.checked,disabled:!0},children:[]}),d.className=["task-list-item"]}let g=-1;for(;++g<a.length;){const $=a[g];(c||g!==0||$.type!=="element"||$.tagName!=="p")&&h.push({type:"text",value:`
`}),$.type==="element"&&$.tagName==="p"&&!c?h.push(...$.children):h.push($)}const _=a[a.length-1];_&&(c||_.type!=="element"||_.tagName!=="p")&&h.push({type:"text",value:`
`});const b={type:"element",tagName:"li",properties:d,children:h};return i.patch(s,b),i.applyData(s,b)}function listLoose(i){let s=!1;if(i.type==="list"){s=i.spread||!1;const o=i.children;let a=-1;for(;!s&&++a<o.length;)s=listItemLoose(o[a])}return s}function listItemLoose(i){const s=i.spread;return s??i.children.length>1}function list(i,s){const o={},a=i.all(s);let c=-1;for(typeof s.start=="number"&&s.start!==1&&(o.start=s.start);++c<a.length;){const h=a[c];if(h.type==="element"&&h.tagName==="li"&&h.properties&&Array.isArray(h.properties.className)&&h.properties.className.includes("task-list-item")){o.className=["contains-task-list"];break}}const d={type:"element",tagName:s.ordered?"ol":"ul",properties:o,children:i.wrap(a,!0)};return i.patch(s,d),i.applyData(s,d)}function paragraph(i,s){const o={type:"element",tagName:"p",properties:{},children:i.all(s)};return i.patch(s,o),i.applyData(s,o)}function root(i,s){const o={type:"root",children:i.wrap(i.all(s))};return i.patch(s,o),i.applyData(s,o)}function strong(i,s){const o={type:"element",tagName:"strong",properties:{},children:i.all(s)};return i.patch(s,o),i.applyData(s,o)}function table(i,s){const o=i.all(s),a=o.shift(),c=[];if(a){const h={type:"element",tagName:"thead",properties:{},children:i.wrap([a],!0)};i.patch(s.children[0],h),c.push(h)}if(o.length>0){const h={type:"element",tagName:"tbody",properties:{},children:i.wrap(o,!0)},g=pointStart(s.children[1]),_=pointEnd(s.children[s.children.length-1]);g&&_&&(h.position={start:g,end:_}),c.push(h)}const d={type:"element",tagName:"table",properties:{},children:i.wrap(c,!0)};return i.patch(s,d),i.applyData(s,d)}function tableRow(i,s,o){const a=o?o.children:void 0,d=(a?a.indexOf(s):1)===0?"th":"td",h=o&&o.type==="table"?o.align:void 0,g=h?h.length:s.children.length;let _=-1;const b=[];for(;++_<g;){const et=s.children[_],_e={},tt=h?h[_]:void 0;tt&&(_e.align=tt);let it={type:"element",tagName:d,properties:_e,children:[]};et&&(it.children=i.all(et),i.patch(et,it),it=i.applyData(et,it)),b.push(it)}const $={type:"element",tagName:"tr",properties:{},children:i.wrap(b,!0)};return i.patch(s,$),i.applyData(s,$)}function tableCell(i,s){const o={type:"element",tagName:"td",properties:{},children:i.all(s)};return i.patch(s,o),i.applyData(s,o)}const tab=9,space=32;function trimLines(i){const s=String(i),o=/\r?\n|\r/g;let a=o.exec(s),c=0;const d=[];for(;a;)d.push(trimLine(s.slice(c,a.index),c>0,!0),a[0]),c=a.index+a[0].length,a=o.exec(s);return d.push(trimLine(s.slice(c),c>0,!1)),d.join("")}function trimLine(i,s,o){let a=0,c=i.length;if(s){let d=i.codePointAt(a);for(;d===tab||d===space;)a++,d=i.codePointAt(a)}if(o){let d=i.codePointAt(c-1);for(;d===tab||d===space;)c--,d=i.codePointAt(c-1)}return c>a?i.slice(a,c):""}function text(i,s){const o={type:"text",value:trimLines(String(s.value))};return i.patch(s,o),i.applyData(s,o)}function thematicBreak(i,s){const o={type:"element",tagName:"hr",properties:{},children:[]};return i.patch(s,o),i.applyData(s,o)}const handlers={blockquote,break:hardBreak,code,delete:strikethrough,emphasis,footnoteReference,heading,html,imageReference,image,inlineCode,linkReference,link,listItem,list,paragraph,root,strong,table,tableCell,tableRow,text,thematicBreak,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(i,s)=>{const o=(c,d)=>(i.set(d,c),c),a=c=>{if(i.has(c))return i.get(c);const[d,h]=s[c];switch(d){case PRIMITIVE:case VOID:return o(h,c);case ARRAY:{const g=o([],c);for(const _ of h)g.push(a(_));return g}case OBJECT:{const g=o({},c);for(const[_,b]of h)g[a(_)]=a(b);return g}case DATE:return o(new Date(h),c);case REGEXP:{const{source:g,flags:_}=h;return o(new RegExp(g,_),c)}case MAP:{const g=o(new Map,c);for(const[_,b]of h)g.set(a(_),a(b));return g}case SET:{const g=o(new Set,c);for(const _ of h)g.add(a(_));return g}case ERROR:{const{name:g,message:_}=h;return o(new env[g](_),c)}case BIGINT:return o(BigInt(h),c);case"BigInt":return o(Object(BigInt(h)),c);case"ArrayBuffer":return o(new Uint8Array(h).buffer,h);case"DataView":{const{buffer:g}=new Uint8Array(h);return o(new DataView(g),h)}}return o(new env[d](h),c)};return a},deserialize=i=>deserializer(new Map,i)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=i=>{const s=typeof i;if(s!=="object"||!i)return[PRIMITIVE,s];const o=toString.call(i).slice(8,-1);switch(o){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,o]}return o.includes("Array")?[ARRAY,o]:o.includes("Error")?[ERROR,o]:[OBJECT,o]},shouldSkip=([i,s])=>i===PRIMITIVE&&(s==="function"||s==="symbol"),serializer=(i,s,o,a)=>{const c=(h,g)=>{const _=a.push(h)-1;return o.set(g,_),_},d=h=>{if(o.has(h))return o.get(h);let[g,_]=typeOf(h);switch(g){case PRIMITIVE:{let $=h;switch(_){case"bigint":g=BIGINT,$=h.toString();break;case"function":case"symbol":if(i)throw new TypeError("unable to serialize "+_);$=null;break;case"undefined":return c([VOID],h)}return c([g,$],h)}case ARRAY:{if(_){let _e=h;return _==="DataView"?_e=new Uint8Array(h.buffer):_==="ArrayBuffer"&&(_e=new Uint8Array(h)),c([_,[..._e]],h)}const $=[],et=c([g,$],h);for(const _e of h)$.push(d(_e));return et}case OBJECT:{if(_)switch(_){case"BigInt":return c([_,h.toString()],h);case"Boolean":case"Number":case"String":return c([_,h.valueOf()],h)}if(s&&"toJSON"in h)return d(h.toJSON());const $=[],et=c([g,$],h);for(const _e of keys(h))(i||!shouldSkip(typeOf(h[_e])))&&$.push([d(_e),d(h[_e])]);return et}case DATE:return c([g,h.toISOString()],h);case REGEXP:{const{source:$,flags:et}=h;return c([g,{source:$,flags:et}],h)}case MAP:{const $=[],et=c([g,$],h);for(const[_e,tt]of h)(i||!(shouldSkip(typeOf(_e))||shouldSkip(typeOf(tt))))&&$.push([d(_e),d(tt)]);return et}case SET:{const $=[],et=c([g,$],h);for(const _e of h)(i||!shouldSkip(typeOf(_e)))&&$.push(d(_e));return et}}const{message:b}=h;return c([g,{name:_,message:b}],h)};return d},serialize=(i,{json:s,lossy:o}={})=>{const a=[];return serializer(!(s||o),!!s,new Map,a)(i),a},structuredClone$1=typeof structuredClone=="function"?(i,s)=>s&&("json"in s||"lossy"in s)?deserialize(serialize(i,s)):structuredClone(i):(i,s)=>deserialize(serialize(i,s));function defaultFootnoteBackContent(i,s){const o=[{type:"text",value:""}];return s>1&&o.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(s)}]}),o}function defaultFootnoteBackLabel(i,s){return"Back to reference "+(i+1)+(s>1?"-"+s:"")}function footer(i){const s=typeof i.options.clobberPrefix=="string"?i.options.clobberPrefix:"user-content-",o=i.options.footnoteBackContent||defaultFootnoteBackContent,a=i.options.footnoteBackLabel||defaultFootnoteBackLabel,c=i.options.footnoteLabel||"Footnotes",d=i.options.footnoteLabelTagName||"h2",h=i.options.footnoteLabelProperties||{className:["sr-only"]},g=[];let _=-1;for(;++_<i.footnoteOrder.length;){const b=i.footnoteById.get(i.footnoteOrder[_]);if(!b)continue;const $=i.all(b),et=String(b.identifier).toUpperCase(),_e=normalizeUri(et.toLowerCase());let tt=0;const it=[],st=i.footnoteCounts.get(et);for(;st!==void 0&&++tt<=st;){it.length>0&&it.push({type:"text",value:" "});let rt=typeof o=="string"?o:o(_,tt);typeof rt=="string"&&(rt={type:"text",value:rt}),it.push({type:"element",tagName:"a",properties:{href:"#"+s+"fnref-"+_e+(tt>1?"-"+tt:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(_,tt),className:["data-footnote-backref"]},children:Array.isArray(rt)?rt:[rt]})}const lt=$[$.length-1];if(lt&&lt.type==="element"&&lt.tagName==="p"){const rt=lt.children[lt.children.length-1];rt&&rt.type==="text"?rt.value+=" ":lt.children.push({type:"text",value:" "}),lt.children.push(...it)}else $.push(...it);const nt={type:"element",tagName:"li",properties:{id:s+"fn-"+_e},children:i.wrap($,!0)};i.patch(b,nt),g.push(nt)}if(g.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:d,properties:{...structuredClone$1(h),id:"footnote-label"},children:[{type:"text",value:c}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:i.wrap(g,!0)},{type:"text",value:`
`}]}}const convert=function(i){if(i==null)return ok;if(typeof i=="function")return castFactory(i);if(typeof i=="object")return Array.isArray(i)?anyFactory(i):propsFactory(i);if(typeof i=="string")return typeFactory(i);throw new Error("Expected function, string, or object as test")};function anyFactory(i){const s=[];let o=-1;for(;++o<i.length;)s[o]=convert(i[o]);return castFactory(a);function a(...c){let d=-1;for(;++d<s.length;)if(s[d].apply(this,c))return!0;return!1}}function propsFactory(i){const s=i;return castFactory(o);function o(a){const c=a;let d;for(d in i)if(c[d]!==s[d])return!1;return!0}}function typeFactory(i){return castFactory(s);function s(o){return o&&o.type===i}}function castFactory(i){return s;function s(o,a,c){return!!(looksLikeANode(o)&&i.call(this,o,typeof a=="number"?a:void 0,c||void 0))}}function ok(){return!0}function looksLikeANode(i){return i!==null&&typeof i=="object"&&"type"in i}function color(i){return i}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(i,s,o,a){let c;typeof s=="function"&&typeof o!="function"?(a=o,o=s):c=s;const d=convert(c),h=a?-1:1;g(i,void 0,[])();function g(_,b,$){const et=_&&typeof _=="object"?_:{};if(typeof et.type=="string"){const tt=typeof et.tagName=="string"?et.tagName:typeof et.name=="string"?et.name:void 0;Object.defineProperty(_e,"name",{value:"node ("+(_.type+(tt?"<"+tt+">":""))+")"})}return _e;function _e(){let tt=empty,it,st,lt;if((!s||d(_,b,$[$.length-1]||void 0))&&(tt=toResult(o(_,$)),tt[0]===EXIT))return tt;if("children"in _&&_.children){const nt=_;if(nt.children&&tt[0]!==SKIP)for(st=(a?nt.children.length:-1)+h,lt=$.concat(nt);st>-1&&st<nt.children.length;){const rt=nt.children[st];if(it=g(rt,st,lt)(),it[0]===EXIT)return it;st=typeof it[1]=="number"?it[1]:st+h}}return tt}}}function toResult(i){return Array.isArray(i)?i:typeof i=="number"?[CONTINUE,i]:i==null?empty:[i]}function visit(i,s,o,a){let c,d,h;typeof s=="function"&&typeof o!="function"?(d=void 0,h=s,c=o):(d=s,h=o,c=a),visitParents(i,d,g,c);function g(_,b){const $=b[b.length-1],et=$?$.children.indexOf(_):void 0;return h(_,et,$)}}const own$1={}.hasOwnProperty,emptyOptions={};function createState(i,s){const o=s||emptyOptions,a=new Map,c=new Map,d=new Map,h={...handlers,...o.handlers},g={all:b,applyData,definitionById:a,footnoteById:c,footnoteCounts:d,footnoteOrder:[],handlers:h,one:_,options:o,patch,wrap:wrap$1};return visit(i,function($){if($.type==="definition"||$.type==="footnoteDefinition"){const et=$.type==="definition"?a:c,_e=String($.identifier).toUpperCase();et.has(_e)||et.set(_e,$)}}),g;function _($,et){const _e=$.type,tt=g.handlers[_e];if(own$1.call(g.handlers,_e)&&tt)return tt(g,$,et);if(g.options.passThrough&&g.options.passThrough.includes(_e)){if("children"in $){const{children:st,...lt}=$,nt=structuredClone$1(lt);return nt.children=g.all($),nt}return structuredClone$1($)}return(g.options.unknownHandler||defaultUnknownHandler)(g,$,et)}function b($){const et=[];if("children"in $){const _e=$.children;let tt=-1;for(;++tt<_e.length;){const it=g.one(_e[tt],$);if(it){if(tt&&_e[tt-1].type==="break"&&(!Array.isArray(it)&&it.type==="text"&&(it.value=trimMarkdownSpaceStart(it.value)),!Array.isArray(it)&&it.type==="element")){const st=it.children[0];st&&st.type==="text"&&(st.value=trimMarkdownSpaceStart(st.value))}Array.isArray(it)?et.push(...it):et.push(it)}}}return et}}function patch(i,s){i.position&&(s.position=position$1(i))}function applyData(i,s){let o=s;if(i&&i.data){const a=i.data.hName,c=i.data.hChildren,d=i.data.hProperties;if(typeof a=="string")if(o.type==="element")o.tagName=a;else{const h="children"in o?o.children:[o];o={type:"element",tagName:a,properties:{},children:h}}o.type==="element"&&d&&Object.assign(o.properties,structuredClone$1(d)),"children"in o&&o.children&&c!==null&&c!==void 0&&(o.children=c)}return o}function defaultUnknownHandler(i,s){const o=s.data||{},a="value"in s&&!(own$1.call(o,"hProperties")||own$1.call(o,"hChildren"))?{type:"text",value:s.value}:{type:"element",tagName:"div",properties:{},children:i.all(s)};return i.patch(s,a),i.applyData(s,a)}function wrap$1(i,s){const o=[];let a=-1;for(s&&o.push({type:"text",value:`
`});++a<i.length;)a&&o.push({type:"text",value:`
`}),o.push(i[a]);return s&&i.length>0&&o.push({type:"text",value:`
`}),o}function trimMarkdownSpaceStart(i){let s=0,o=i.charCodeAt(s);for(;o===9||o===32;)s++,o=i.charCodeAt(s);return i.slice(s)}function toHast(i,s){const o=createState(i,s),a=o.one(i,void 0),c=footer(o),d=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return c&&d.children.push({type:"text",value:`
`},c),d}function remarkRehype(i,s){return i&&"run"in i?async function(o,a){const c=toHast(o,{file:a,...s});await i.run(c,a)}:function(o,a){return toHast(o,{file:a,...i||s})}}function bail(i){if(i)throw i}var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function i(s){return typeof Array.isArray=="function"?Array.isArray(s):toStr.call(s)==="[object Array]"},isPlainObject$1=function i(s){if(!s||toStr.call(s)!=="[object Object]")return!1;var o=hasOwn.call(s,"constructor"),a=s.constructor&&s.constructor.prototype&&hasOwn.call(s.constructor.prototype,"isPrototypeOf");if(s.constructor&&!o&&!a)return!1;var c;for(c in s);return typeof c>"u"||hasOwn.call(s,c)},setProperty=function i(s,o){defineProperty&&o.name==="__proto__"?defineProperty(s,o.name,{enumerable:!0,configurable:!0,value:o.newValue,writable:!0}):s[o.name]=o.newValue},getProperty=function i(s,o){if(o==="__proto__")if(hasOwn.call(s,o)){if(gOPD)return gOPD(s,o).value}else return;return s[o]},extend=function i(){var s,o,a,c,d,h,g=arguments[0],_=1,b=arguments.length,$=!1;for(typeof g=="boolean"&&($=g,g=arguments[1]||{},_=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});_<b;++_)if(s=arguments[_],s!=null)for(o in s)a=getProperty(g,o),c=getProperty(s,o),g!==c&&($&&c&&(isPlainObject$1(c)||(d=isArray(c)))?(d?(d=!1,h=a&&isArray(a)?a:[]):h=a&&isPlainObject$1(a)?a:{},setProperty(g,{name:o,newValue:i($,h,c)})):typeof c<"u"&&setProperty(g,{name:o,newValue:c}));return g};const extend$1=getDefaultExportFromCjs(extend);function isPlainObject(i){if(typeof i!="object"||i===null)return!1;const s=Object.getPrototypeOf(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function trough(){const i=[],s={run:o,use:a};return s;function o(...c){let d=-1;const h=c.pop();if(typeof h!="function")throw new TypeError("Expected function as last argument, not "+h);g(null,...c);function g(_,...b){const $=i[++d];let et=-1;if(_){h(_);return}for(;++et<c.length;)(b[et]===null||b[et]===void 0)&&(b[et]=c[et]);c=b,$?wrap($,g)(...b):h(null,...b)}}function a(c){if(typeof c!="function")throw new TypeError("Expected `middelware` to be a function, not "+c);return i.push(c),s}}function wrap(i,s){let o;return a;function a(...h){const g=i.length>h.length;let _;g&&h.push(c);try{_=i.apply(this,h)}catch(b){const $=b;if(g&&o)throw $;return c($)}g||(_&&_.then&&typeof _.then=="function"?_.then(d,c):_ instanceof Error?c(_):d(_))}function c(h,...g){o||(o=!0,s(h,...g))}function d(h){c(null,h)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(i,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(i);let o=0,a=-1,c=i.length,d;if(s===void 0||s.length===0||s.length>i.length){for(;c--;)if(i.codePointAt(c)===47){if(d){o=c+1;break}}else a<0&&(d=!0,a=c+1);return a<0?"":i.slice(o,a)}if(s===i)return"";let h=-1,g=s.length-1;for(;c--;)if(i.codePointAt(c)===47){if(d){o=c+1;break}}else h<0&&(d=!0,h=c+1),g>-1&&(i.codePointAt(c)===s.codePointAt(g--)?g<0&&(a=c):(g=-1,a=h));return o===a?a=h:a<0&&(a=i.length),i.slice(o,a)}function dirname(i){if(assertPath$1(i),i.length===0)return".";let s=-1,o=i.length,a;for(;--o;)if(i.codePointAt(o)===47){if(a){s=o;break}}else a||(a=!0);return s<0?i.codePointAt(0)===47?"/":".":s===1&&i.codePointAt(0)===47?"//":i.slice(0,s)}function extname(i){assertPath$1(i);let s=i.length,o=-1,a=0,c=-1,d=0,h;for(;s--;){const g=i.codePointAt(s);if(g===47){if(h){a=s+1;break}continue}o<0&&(h=!0,o=s+1),g===46?c<0?c=s:d!==1&&(d=1):c>-1&&(d=-1)}return c<0||o<0||d===0||d===1&&c===o-1&&c===a+1?"":i.slice(c,o)}function join(...i){let s=-1,o;for(;++s<i.length;)assertPath$1(i[s]),i[s]&&(o=o===void 0?i[s]:o+"/"+i[s]);return o===void 0?".":normalize(o)}function normalize(i){assertPath$1(i);const s=i.codePointAt(0)===47;let o=normalizeString(i,!s);return o.length===0&&!s&&(o="."),o.length>0&&i.codePointAt(i.length-1)===47&&(o+="/"),s?"/"+o:o}function normalizeString(i,s){let o="",a=0,c=-1,d=0,h=-1,g,_;for(;++h<=i.length;){if(h<i.length)g=i.codePointAt(h);else{if(g===47)break;g=47}if(g===47){if(!(c===h-1||d===1))if(c!==h-1&&d===2){if(o.length<2||a!==2||o.codePointAt(o.length-1)!==46||o.codePointAt(o.length-2)!==46){if(o.length>2){if(_=o.lastIndexOf("/"),_!==o.length-1){_<0?(o="",a=0):(o=o.slice(0,_),a=o.length-1-o.lastIndexOf("/")),c=h,d=0;continue}}else if(o.length>0){o="",a=0,c=h,d=0;continue}}s&&(o=o.length>0?o+"/..":"..",a=2)}else o.length>0?o+="/"+i.slice(c+1,h):o=i.slice(c+1,h),a=h-c-1;c=h,d=0}else g===46&&d>-1?d++:d=-1}return o}function assertPath$1(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}const minproc={cwd};function cwd(){return"/"}function isUrl(i){return!!(i!==null&&typeof i=="object"&&"href"in i&&i.href&&"protocol"in i&&i.protocol&&i.auth===void 0)}function urlToPath(i){if(typeof i=="string")i=new URL(i);else if(!isUrl(i)){const s=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+i+"`");throw s.code="ERR_INVALID_ARG_TYPE",s}if(i.protocol!=="file:"){const s=new TypeError("The URL must be of scheme file");throw s.code="ERR_INVALID_URL_SCHEME",s}return getPathFromURLPosix(i)}function getPathFromURLPosix(i){if(i.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const s=i.pathname;let o=-1;for(;++o<s.length;)if(s.codePointAt(o)===37&&s.codePointAt(o+1)===50){const a=s.codePointAt(o+2);if(a===70||a===102){const c=new TypeError("File URL path must not include encoded / characters");throw c.code="ERR_INVALID_FILE_URL_PATH",c}}return decodeURIComponent(s)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(s){let o;s?isUrl(s)?o={path:s}:typeof s=="string"||isUint8Array$1(s)?o={value:s}:o=s:o={},this.cwd="cwd"in o?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<order.length;){const d=order[a];d in o&&o[d]!==void 0&&o[d]!==null&&(this[d]=d==="history"?[...o[d]]:o[d])}let c;for(c in o)order.includes(c)||(this[c]=o[c])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(s){assertNonEmpty(s,"basename"),assertPart(s,"basename"),this.path=minpath.join(this.dirname||"",s)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(s){assertPath(this.basename,"dirname"),this.path=minpath.join(s||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(s){if(assertPart(s,"extname"),assertPath(this.dirname,"extname"),s){if(s.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(s.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(s||""))}get path(){return this.history[this.history.length-1]}set path(s){isUrl(s)&&(s=urlToPath(s)),assertNonEmpty(s,"path"),this.path!==s&&this.history.push(s)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(s){assertNonEmpty(s,"stem"),assertPart(s,"stem"),this.path=minpath.join(this.dirname||"",s+(this.extname||""))}fail(s,o,a){const c=this.message(s,o,a);throw c.fatal=!0,c}info(s,o,a){const c=this.message(s,o,a);return c.fatal=void 0,c}message(s,o,a){const c=new VFileMessage(s,o,a);return this.path&&(c.name=this.path+":"+c.name,c.file=this.path),c.fatal=!1,this.messages.push(c),c}toString(s){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(s||void 0).decode(this.value)}}function assertPart(i,s){if(i&&i.includes(minpath.sep))throw new Error("`"+s+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(i,s){if(!i)throw new Error("`"+s+"` cannot be empty")}function assertPath(i,s){if(!i)throw new Error("Setting `"+s+"` requires `path` to be set too")}function isUint8Array$1(i){return!!(i&&typeof i=="object"&&"byteLength"in i&&"byteOffset"in i)}const CallableInstance=function(i){const a=this.constructor.prototype,c=a[i],d=function(){return c.apply(d,arguments)};return Object.setPrototypeOf(d,a),d},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const s=new Processor;let o=-1;for(;++o<this.attachers.length;){const a=this.attachers[o];s.use(...a)}return s.data(extend$1(!0,{},this.namespace)),s}data(s,o){return typeof s=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[s]=o,this):own.call(this.namespace,s)&&this.namespace[s]||void 0:s?(assertUnfrozen("data",this.frozen),this.namespace=s,this):this.namespace}freeze(){if(this.frozen)return this;const s=this;for(;++this.freezeIndex<this.attachers.length;){const[o,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const c=o.call(s,...a);typeof c=="function"&&this.transformers.use(c)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(s){this.freeze();const o=vfile(s),a=this.parser||this.Parser;return assertParser("parse",a),a(String(o),o)}process(s,o){const a=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),o?c(void 0,o):new Promise(c);function c(d,h){const g=vfile(s),_=a.parse(g);a.run(_,g,function($,et,_e){if($||!et||!_e)return b($);const tt=et,it=a.stringify(tt,_e);looksLikeAValue(it)?_e.value=it:_e.result=it,b($,_e)});function b($,et){$||!et?h($):d?d(et):o(void 0,et)}}}processSync(s){let o=!1,a;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(s,c),assertDone("processSync","process",o),a;function c(d,h){o=!0,bail(d),a=h}}run(s,o,a){assertNode(s),this.freeze();const c=this.transformers;return!a&&typeof o=="function"&&(a=o,o=void 0),a?d(void 0,a):new Promise(d);function d(h,g){const _=vfile(o);c.run(s,_,b);function b($,et,_e){const tt=et||s;$?g($):h?h(tt):a(void 0,tt,_e)}}}runSync(s,o){let a=!1,c;return this.run(s,o,d),assertDone("runSync","run",a),c;function d(h,g){bail(h),c=g,a=!0}}stringify(s,o){this.freeze();const a=vfile(o),c=this.compiler||this.Compiler;return assertCompiler("stringify",c),assertNode(s),c(s,a)}use(s,...o){const a=this.attachers,c=this.namespace;if(assertUnfrozen("use",this.frozen),s!=null)if(typeof s=="function")_(s,o);else if(typeof s=="object")Array.isArray(s)?g(s):h(s);else throw new TypeError("Expected usable value, not `"+s+"`");return this;function d(b){if(typeof b=="function")_(b,[]);else if(typeof b=="object")if(Array.isArray(b)){const[$,...et]=b;_($,et)}else h(b);else throw new TypeError("Expected usable value, not `"+b+"`")}function h(b){if(!("plugins"in b)&&!("settings"in b))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");g(b.plugins),b.settings&&(c.settings=extend$1(!0,c.settings,b.settings))}function g(b){let $=-1;if(b!=null)if(Array.isArray(b))for(;++$<b.length;){const et=b[$];d(et)}else throw new TypeError("Expected a list of plugins, not `"+b+"`")}function _(b,$){let et=-1,_e=-1;for(;++et<a.length;)if(a[et][0]===b){_e=et;break}if(_e===-1)a.push([b,...$]);else if($.length>0){let[tt,...it]=$;const st=a[_e][1];isPlainObject(st)&&isPlainObject(tt)&&(tt=extend$1(!0,st,tt)),a[_e]=[b,tt,...it]}}}}const unified=new Processor().freeze();function assertParser(i,s){if(typeof s!="function")throw new TypeError("Cannot `"+i+"` without `parser`")}function assertCompiler(i,s){if(typeof s!="function")throw new TypeError("Cannot `"+i+"` without `compiler`")}function assertUnfrozen(i,s){if(s)throw new Error("Cannot call `"+i+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(i){if(!isPlainObject(i)||typeof i.type!="string")throw new TypeError("Expected node, got `"+i+"`")}function assertDone(i,s,o){if(!o)throw new Error("`"+i+"` finished async. Use `"+s+"` instead")}function vfile(i){return looksLikeAVFile(i)?i:new VFile(i)}function looksLikeAVFile(i){return!!(i&&typeof i=="object"&&"message"in i&&"messages"in i)}function looksLikeAValue(i){return typeof i=="string"||isUint8Array(i)}function isUint8Array(i){return!!(i&&typeof i=="object"&&"byteLength"in i&&"byteOffset"in i)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(i){const s=createProcessor(i),o=createFile(i);return post(s.runSync(s.parse(o),o),i)}function createProcessor(i){const s=i.rehypePlugins||emptyPlugins,o=i.remarkPlugins||emptyPlugins,a=i.remarkRehypeOptions?{...i.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(o).use(remarkRehype,a).use(s)}function createFile(i){const s=i.children||"",o=new VFile;return typeof s=="string"&&(o.value=s),o}function post(i,s){const o=s.allowedElements,a=s.allowElement,c=s.components,d=s.disallowedElements,h=s.skipHtml,g=s.unwrapDisallowed,_=s.urlTransform||defaultUrlTransform;for(const $ of deprecations)Object.hasOwn(s,$.from)&&(""+$.from+($.to?"use `"+$.to+"` instead":"remove it")+changelog+$.id,void 0);return visit(i,b),toJsxRuntime(i,{Fragment:jsxRuntimeExports.Fragment,components:c,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function b($,et,_e){if($.type==="raw"&&_e&&typeof et=="number")return h?_e.children.splice(et,1):_e.children[et]={type:"text",value:$.value},et;if($.type==="element"){let tt;for(tt in urlAttributes)if(Object.hasOwn(urlAttributes,tt)&&Object.hasOwn($.properties,tt)){const it=$.properties[tt],st=urlAttributes[tt];(st===null||st.includes($.tagName))&&($.properties[tt]=_(String(it||""),tt,$))}}if($.type==="element"){let tt=o?!o.includes($.tagName):d?d.includes($.tagName):!1;if(!tt&&a&&typeof et=="number"&&(tt=!a($,et,_e)),tt&&_e&&typeof et=="number")return g&&$.children?_e.children.splice(et,1,...$.children):_e.children.splice(et,1),et}}}function defaultUrlTransform(i){const s=i.indexOf(":"),o=i.indexOf("?"),a=i.indexOf("#"),c=i.indexOf("/");return s===-1||c!==-1&&s>c||o!==-1&&s>o||a!==-1&&s>a||safeProtocol.test(i.slice(0,s))?i:""}var AVATAR_NAME="Avatar",[createAvatarContext,createAvatarScope]=createContextScope$1(AVATAR_NAME),[AvatarProvider,useAvatarContext]=createAvatarContext(AVATAR_NAME),Avatar$1=reactExports.forwardRef((i,s)=>{const{__scopeAvatar:o,...a}=i,[c,d]=reactExports.useState("idle");return jsxRuntimeExports.jsx(AvatarProvider,{scope:o,imageLoadingStatus:c,onImageLoadingStatusChange:d,children:jsxRuntimeExports.jsx(Primitive.span,{...a,ref:s})})});Avatar$1.displayName=AVATAR_NAME;var IMAGE_NAME="AvatarImage",AvatarImage$1=reactExports.forwardRef((i,s)=>{const{__scopeAvatar:o,src:a,onLoadingStatusChange:c=()=>{},...d}=i,h=useAvatarContext(IMAGE_NAME,o),g=useImageLoadingStatus(a,d.referrerPolicy),_=useCallbackRef(b=>{c(b),h.onImageLoadingStatusChange(b)});return useLayoutEffect2(()=>{g!=="idle"&&_(g)},[g,_]),g==="loaded"?jsxRuntimeExports.jsx(Primitive.img,{...d,ref:s,src:a}):null});AvatarImage$1.displayName=IMAGE_NAME;var FALLBACK_NAME="AvatarFallback",AvatarFallback$1=reactExports.forwardRef((i,s)=>{const{__scopeAvatar:o,delayMs:a,...c}=i,d=useAvatarContext(FALLBACK_NAME,o),[h,g]=reactExports.useState(a===void 0);return reactExports.useEffect(()=>{if(a!==void 0){const _=window.setTimeout(()=>g(!0),a);return()=>window.clearTimeout(_)}},[a]),h&&d.imageLoadingStatus!=="loaded"?jsxRuntimeExports.jsx(Primitive.span,{...c,ref:s}):null});AvatarFallback$1.displayName=FALLBACK_NAME;function useImageLoadingStatus(i,s){const[o,a]=reactExports.useState("idle");return useLayoutEffect2(()=>{if(!i){a("error");return}let c=!0;const d=new window.Image,h=g=>()=>{c&&a(g)};return a("loading"),d.onload=h("loaded"),d.onerror=h("error"),d.src=i,s&&(d.referrerPolicy=s),()=>{c=!1}},[i,s]),o}var Root$1=Avatar$1,Image$1=AvatarImage$1,Fallback=AvatarFallback$1;const Avatar=reactExports.forwardRef(({className:i,...s},o)=>jsxRuntimeExports.jsx(Root$1,{ref:o,className:cn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full bg-primary",i),...s}));Avatar.displayName=Root$1.displayName;const AvatarImage=reactExports.forwardRef(({className:i,...s},o)=>jsxRuntimeExports.jsx(Image$1,{ref:o,className:cn("aspect-square h-full w-full",i),...s}));AvatarImage.displayName=Image$1.displayName;const AvatarFallback=reactExports.forwardRef(({className:i,...s},o)=>jsxRuntimeExports.jsx(Fallback,{ref:o,className:cn("flex h-full w-full items-center justify-center rounded-full bg-primary-foreground text-primary",i),...s}));AvatarFallback.displayName=Fallback.displayName;const ChatInterface=({messages:i,onSendMessage:s,isLoading:o,pdfText:a})=>{const[c,d]=reactExports.useState(""),h=reactExports.useRef(null),{toast:g}=useToast(),_=()=>{var _e;(_e=h.current)==null||_e.scrollIntoView({behavior:"smooth"})};reactExports.useEffect(()=>{_()},[i]);const b=async _e=>{if(_e.preventDefault(),!c.trim()||o||!a){a||g({title:"No Document",description:"Please upload a document first to ask questions.",variant:"destructive"});return}const tt=c.trim();d("");try{await s(tt)}catch(it){console.error("Error sending message:",it),g({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}},$=_e=>{window.open(_e,"_blank","noopener,noreferrer")},et=()=>{const _e=i.map(lt=>`${lt.sender==="user"?"You":"AskNoteBot"}: ${lt.text}
`).join(`
`),tt=new Blob([_e],{type:"text/plain"}),it=URL.createObjectURL(tt),st=document.createElement("a");st.href=it,st.download="chat-history.txt",document.body.appendChild(st),st.click(),document.body.removeChild(st),URL.revokeObjectURL(it)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-background dark:bg-background",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end p-2 border-b border-border",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:et,className:"flex items-center gap-2",disabled:i.length===0,children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"}),"Download Chat"]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.length===0?jsxRuntimeExports.jsx("div",{className:"h-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center p-8 rounded-lg max-w-md",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"mx-auto h-12 w-12 text-primary mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Your conversation will appear here"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Ask questions about your document to get started."})]})}):i.map(_e=>jsxRuntimeExports.jsxs("div",{className:`flex ${_e.sender==="user"?"justify-end":"justify-start"} items-start gap-2`,children:[_e.sender==="bot"&&jsxRuntimeExports.jsx(Avatar,{className:"h-8 w-8 bg-primary",children:jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-primary-foreground",children:jsxRuntimeExports.jsx(Bot,{className:"h-4 w-4 text-primary"})})}),jsxRuntimeExports.jsxs("div",{className:`max-w-[85%] p-3 rounded-lg ${_e.sender==="user"?"bg-primary text-primary-foreground rounded-br-none":"bg-secondary text-secondary-foreground rounded-bl-none"}`,children:[_e.sender==="bot"?jsxRuntimeExports.jsx("div",{className:"text-sm markdown-content",children:jsxRuntimeExports.jsx(Markdown,{components:{a:({href:tt,children:it})=>jsxRuntimeExports.jsx("button",{onClick:()=>$(tt||""),className:"text-blue-600 hover:underline flex items-center",children:it})},children:_e.text})}):jsxRuntimeExports.jsx("p",{className:"text-sm",children:_e.text}),jsxRuntimeExports.jsx("p",{className:`text-xs mt-1 ${_e.sender==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:_e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),_e.sender==="user"&&jsxRuntimeExports.jsx(Avatar,{className:"h-8 w-8 bg-primary",children:jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-primary-foreground",children:jsxRuntimeExports.jsx(User,{className:"h-4 w-4 text-primary"})})})]},_e.id)),jsxRuntimeExports.jsx("div",{ref:h})]}),jsxRuntimeExports.jsxs("form",{className:"border-t border-border p-4 flex items-center gap-2 bg-background dark:bg-background",onSubmit:b,children:[jsxRuntimeExports.jsx(Input,{type:"text",placeholder:a?o?"Processing...":"Ask a question about your document...":"Upload a document first to ask questions",value:c,onChange:_e=>d(_e.target.value),className:"flex-1",disabled:o||!a}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:o||!c.trim()||!a,children:jsxRuntimeExports.jsx(Send,{className:"h-4 w-4"})})]})]})};var DirectionContext=reactExports.createContext(void 0);function useDirection(i){const s=reactExports.useContext(DirectionContext);return i||s||"ltr"}function clamp(i,[s,o]){return Math.min(o,Math.max(s,i))}function useStateMachine(i,s){return reactExports.useReducer((o,a)=>s[o][a]??o,i)}var SCROLL_AREA_NAME="ScrollArea",[createScrollAreaContext,createScrollAreaScope]=createContextScope$1(SCROLL_AREA_NAME),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext(SCROLL_AREA_NAME),ScrollArea$1=reactExports.forwardRef((i,s)=>{const{__scopeScrollArea:o,type:a="hover",dir:c,scrollHideDelay:d=600,...h}=i,[g,_]=reactExports.useState(null),[b,$]=reactExports.useState(null),[et,_e]=reactExports.useState(null),[tt,it]=reactExports.useState(null),[st,lt]=reactExports.useState(null),[nt,rt]=reactExports.useState(0),[pt,gt]=reactExports.useState(0),[ht,dt]=reactExports.useState(!1),[mt,yt]=reactExports.useState(!1),xt=useComposedRefs(s,vt=>_(vt)),Et=useDirection(c);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:o,type:a,dir:Et,scrollHideDelay:d,scrollArea:g,viewport:b,onViewportChange:$,content:et,onContentChange:_e,scrollbarX:tt,onScrollbarXChange:it,scrollbarXEnabled:ht,onScrollbarXEnabledChange:dt,scrollbarY:st,onScrollbarYChange:lt,scrollbarYEnabled:mt,onScrollbarYEnabledChange:yt,onCornerWidthChange:rt,onCornerHeightChange:gt,children:jsxRuntimeExports.jsx(Primitive.div,{dir:Et,...h,ref:xt,style:{position:"relative","--radix-scroll-area-corner-width":nt+"px","--radix-scroll-area-corner-height":pt+"px",...i.style}})})});ScrollArea$1.displayName=SCROLL_AREA_NAME;var VIEWPORT_NAME="ScrollAreaViewport",ScrollAreaViewport=reactExports.forwardRef((i,s)=>{const{__scopeScrollArea:o,children:a,asChild:c,nonce:d,...h}=i,g=useScrollAreaContext(VIEWPORT_NAME,o),_=reactExports.useRef(null),b=useComposedRefs(s,_,g.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:d}),jsxRuntimeExports.jsx(Primitive.div,{"data-radix-scroll-area-viewport":"",...h,asChild:c,ref:b,style:{overflowX:g.scrollbarXEnabled?"scroll":"hidden",overflowY:g.scrollbarYEnabled?"scroll":"hidden",...i.style},children:getSubtree({asChild:c,children:a},$=>jsxRuntimeExports.jsx("div",{"data-radix-scroll-area-content":"",ref:g.onContentChange,style:{minWidth:g.scrollbarXEnabled?"fit-content":void 0},children:$}))})]})});ScrollAreaViewport.displayName=VIEWPORT_NAME;var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef((i,s)=>{const{forceMount:o,...a}=i,c=useScrollAreaContext(SCROLLBAR_NAME,i.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:h}=c,g=i.orientation==="horizontal";return reactExports.useEffect(()=>(g?d(!0):h(!0),()=>{g?d(!1):h(!1)}),[g,d,h]),c.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...a,ref:s,forceMount:o}):c.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...a,ref:s,forceMount:o}):c.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...a,ref:s,forceMount:o}):c.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...a,ref:s}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef((i,s)=>{const{forceMount:o,...a}=i,c=useScrollAreaContext(SCROLLBAR_NAME,i.__scopeScrollArea),[d,h]=reactExports.useState(!1);return reactExports.useEffect(()=>{const g=c.scrollArea;let _=0;if(g){const b=()=>{window.clearTimeout(_),h(!0)},$=()=>{_=window.setTimeout(()=>h(!1),c.scrollHideDelay)};return g.addEventListener("pointerenter",b),g.addEventListener("pointerleave",$),()=>{window.clearTimeout(_),g.removeEventListener("pointerenter",b),g.removeEventListener("pointerleave",$)}}},[c.scrollArea,c.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:o||d,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":d?"visible":"hidden",...a,ref:s})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef((i,s)=>{const{forceMount:o,...a}=i,c=useScrollAreaContext(SCROLLBAR_NAME,i.__scopeScrollArea),d=i.orientation==="horizontal",h=useDebounceCallback(()=>_("SCROLL_END"),100),[g,_]=useStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(g==="idle"){const b=window.setTimeout(()=>_("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(b)}},[g,c.scrollHideDelay,_]),reactExports.useEffect(()=>{const b=c.viewport,$=d?"scrollLeft":"scrollTop";if(b){let et=b[$];const _e=()=>{const tt=b[$];et!==tt&&(_("SCROLL"),h()),et=tt};return b.addEventListener("scroll",_e),()=>b.removeEventListener("scroll",_e)}},[c.viewport,d,_,h]),jsxRuntimeExports.jsx(Presence,{present:o||g!=="hidden",children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":g==="hidden"?"hidden":"visible",...a,ref:s,onPointerEnter:composeEventHandlers(i.onPointerEnter,()=>_("POINTER_ENTER")),onPointerLeave:composeEventHandlers(i.onPointerLeave,()=>_("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef((i,s)=>{const o=useScrollAreaContext(SCROLLBAR_NAME,i.__scopeScrollArea),{forceMount:a,...c}=i,[d,h]=reactExports.useState(!1),g=i.orientation==="horizontal",_=useDebounceCallback(()=>{if(o.viewport){const b=o.viewport.offsetWidth<o.viewport.scrollWidth,$=o.viewport.offsetHeight<o.viewport.scrollHeight;h(g?b:$)}},10);return useResizeObserver(o.viewport,_),useResizeObserver(o.content,_),jsxRuntimeExports.jsx(Presence,{present:a||d,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":d?"visible":"hidden",...c,ref:s})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef((i,s)=>{const{orientation:o="vertical",...a}=i,c=useScrollAreaContext(SCROLLBAR_NAME,i.__scopeScrollArea),d=reactExports.useRef(null),h=reactExports.useRef(0),[g,_]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),b=getThumbRatio(g.viewport,g.content),$={...a,sizes:g,onSizesChange:_,hasThumb:b>0&&b<1,onThumbChange:_e=>d.current=_e,onThumbPointerUp:()=>h.current=0,onThumbPointerDown:_e=>h.current=_e};function et(_e,tt){return getScrollPositionFromPointer(_e,h.current,g,tt)}return o==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...$,ref:s,onThumbPositionChange:()=>{if(c.viewport&&d.current){const _e=c.viewport.scrollLeft,tt=getThumbOffsetFromScroll(_e,g,c.dir);d.current.style.transform=`translate3d(${tt}px, 0, 0)`}},onWheelScroll:_e=>{c.viewport&&(c.viewport.scrollLeft=_e)},onDragScroll:_e=>{c.viewport&&(c.viewport.scrollLeft=et(_e,c.dir))}}):o==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...$,ref:s,onThumbPositionChange:()=>{if(c.viewport&&d.current){const _e=c.viewport.scrollTop,tt=getThumbOffsetFromScroll(_e,g);d.current.style.transform=`translate3d(0, ${tt}px, 0)`}},onWheelScroll:_e=>{c.viewport&&(c.viewport.scrollTop=_e)},onDragScroll:_e=>{c.viewport&&(c.viewport.scrollTop=et(_e))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef((i,s)=>{const{sizes:o,onSizesChange:a,...c}=i,d=useScrollAreaContext(SCROLLBAR_NAME,i.__scopeScrollArea),[h,g]=reactExports.useState(),_=reactExports.useRef(null),b=useComposedRefs(s,_,d.onScrollbarXChange);return reactExports.useEffect(()=>{_.current&&g(getComputedStyle(_.current))},[_]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...c,ref:b,sizes:o,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize(o)+"px",...i.style},onThumbPointerDown:$=>i.onThumbPointerDown($.x),onDragScroll:$=>i.onDragScroll($.x),onWheelScroll:($,et)=>{if(d.viewport){const _e=d.viewport.scrollLeft+$.deltaX;i.onWheelScroll(_e),isScrollingWithinScrollbarBounds(_e,et)&&$.preventDefault()}},onResize:()=>{_.current&&d.viewport&&h&&a({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:_.current.clientWidth,paddingStart:toInt(h.paddingLeft),paddingEnd:toInt(h.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef((i,s)=>{const{sizes:o,onSizesChange:a,...c}=i,d=useScrollAreaContext(SCROLLBAR_NAME,i.__scopeScrollArea),[h,g]=reactExports.useState(),_=reactExports.useRef(null),b=useComposedRefs(s,_,d.onScrollbarYChange);return reactExports.useEffect(()=>{_.current&&g(getComputedStyle(_.current))},[_]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...c,ref:b,sizes:o,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize(o)+"px",...i.style},onThumbPointerDown:$=>i.onThumbPointerDown($.y),onDragScroll:$=>i.onDragScroll($.y),onWheelScroll:($,et)=>{if(d.viewport){const _e=d.viewport.scrollTop+$.deltaY;i.onWheelScroll(_e),isScrollingWithinScrollbarBounds(_e,et)&&$.preventDefault()}},onResize:()=>{_.current&&d.viewport&&h&&a({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:_.current.clientHeight,paddingStart:toInt(h.paddingTop),paddingEnd:toInt(h.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef((i,s)=>{const{__scopeScrollArea:o,sizes:a,hasThumb:c,onThumbChange:d,onThumbPointerUp:h,onThumbPointerDown:g,onThumbPositionChange:_,onDragScroll:b,onWheelScroll:$,onResize:et,..._e}=i,tt=useScrollAreaContext(SCROLLBAR_NAME,o),[it,st]=reactExports.useState(null),lt=useComposedRefs(s,xt=>st(xt)),nt=reactExports.useRef(null),rt=reactExports.useRef(""),pt=tt.viewport,gt=a.content-a.viewport,ht=useCallbackRef($),dt=useCallbackRef(_),mt=useDebounceCallback(et,10);function yt(xt){if(nt.current){const Et=xt.clientX-nt.current.left,vt=xt.clientY-nt.current.top;b({x:Et,y:vt})}}return reactExports.useEffect(()=>{const xt=Et=>{const vt=Et.target;(it==null?void 0:it.contains(vt))&&ht(Et,gt)};return document.addEventListener("wheel",xt,{passive:!1}),()=>document.removeEventListener("wheel",xt,{passive:!1})},[pt,it,gt,ht]),reactExports.useEffect(dt,[a,dt]),useResizeObserver(it,mt),useResizeObserver(tt.content,mt),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:o,scrollbar:it,hasThumb:c,onThumbChange:useCallbackRef(d),onThumbPointerUp:useCallbackRef(h),onThumbPositionChange:dt,onThumbPointerDown:useCallbackRef(g),children:jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:lt,style:{position:"absolute",..._e.style},onPointerDown:composeEventHandlers(i.onPointerDown,xt=>{xt.button===0&&(xt.target.setPointerCapture(xt.pointerId),nt.current=it.getBoundingClientRect(),rt.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",tt.viewport&&(tt.viewport.style.scrollBehavior="auto"),yt(xt))}),onPointerMove:composeEventHandlers(i.onPointerMove,yt),onPointerUp:composeEventHandlers(i.onPointerUp,xt=>{const Et=xt.target;Et.hasPointerCapture(xt.pointerId)&&Et.releasePointerCapture(xt.pointerId),document.body.style.webkitUserSelect=rt.current,tt.viewport&&(tt.viewport.style.scrollBehavior=""),nt.current=null})})})}),THUMB_NAME="ScrollAreaThumb",ScrollAreaThumb=reactExports.forwardRef((i,s)=>{const{forceMount:o,...a}=i,c=useScrollbarContext(THUMB_NAME,i.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:o||c.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:s,...a})})}),ScrollAreaThumbImpl=reactExports.forwardRef((i,s)=>{const{__scopeScrollArea:o,style:a,...c}=i,d=useScrollAreaContext(THUMB_NAME,o),h=useScrollbarContext(THUMB_NAME,o),{onThumbPositionChange:g}=h,_=useComposedRefs(s,et=>h.onThumbChange(et)),b=reactExports.useRef(),$=useDebounceCallback(()=>{b.current&&(b.current(),b.current=void 0)},100);return reactExports.useEffect(()=>{const et=d.viewport;if(et){const _e=()=>{if($(),!b.current){const tt=addUnlinkedScrollListener(et,g);b.current=tt,g()}};return g(),et.addEventListener("scroll",_e),()=>et.removeEventListener("scroll",_e)}},[d.viewport,$,g]),jsxRuntimeExports.jsx(Primitive.div,{"data-state":h.hasThumb?"visible":"hidden",...c,ref:_,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:composeEventHandlers(i.onPointerDownCapture,et=>{const tt=et.target.getBoundingClientRect(),it=et.clientX-tt.left,st=et.clientY-tt.top;h.onThumbPointerDown({x:it,y:st})}),onPointerUp:composeEventHandlers(i.onPointerUp,h.onThumbPointerUp)})});ScrollAreaThumb.displayName=THUMB_NAME;var CORNER_NAME="ScrollAreaCorner",ScrollAreaCorner=reactExports.forwardRef((i,s)=>{const o=useScrollAreaContext(CORNER_NAME,i.__scopeScrollArea),a=!!(o.scrollbarX&&o.scrollbarY);return o.type!=="scroll"&&a?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{...i,ref:s}):null});ScrollAreaCorner.displayName=CORNER_NAME;var ScrollAreaCornerImpl=reactExports.forwardRef((i,s)=>{const{__scopeScrollArea:o,...a}=i,c=useScrollAreaContext(CORNER_NAME,o),[d,h]=reactExports.useState(0),[g,_]=reactExports.useState(0),b=!!(d&&g);return useResizeObserver(c.scrollbarX,()=>{var et;const $=((et=c.scrollbarX)==null?void 0:et.offsetHeight)||0;c.onCornerHeightChange($),_($)}),useResizeObserver(c.scrollbarY,()=>{var et;const $=((et=c.scrollbarY)==null?void 0:et.offsetWidth)||0;c.onCornerWidthChange($),h($)}),b?jsxRuntimeExports.jsx(Primitive.div,{...a,ref:s,style:{width:d,height:g,position:"absolute",right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:0,...i.style}}):null});function toInt(i){return i?parseInt(i,10):0}function getThumbRatio(i,s){const o=i/s;return isNaN(o)?0:o}function getThumbSize(i){const s=getThumbRatio(i.viewport,i.content),o=i.scrollbar.paddingStart+i.scrollbar.paddingEnd,a=(i.scrollbar.size-o)*s;return Math.max(a,18)}function getScrollPositionFromPointer(i,s,o,a="ltr"){const c=getThumbSize(o),d=c/2,h=s||d,g=c-h,_=o.scrollbar.paddingStart+h,b=o.scrollbar.size-o.scrollbar.paddingEnd-g,$=o.content-o.viewport,et=a==="ltr"?[0,$]:[$*-1,0];return linearScale([_,b],et)(i)}function getThumbOffsetFromScroll(i,s,o="ltr"){const a=getThumbSize(s),c=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,d=s.scrollbar.size-c,h=s.content-s.viewport,g=d-a,_=o==="ltr"?[0,h]:[h*-1,0],b=clamp(i,_);return linearScale([0,h],[0,g])(b)}function linearScale(i,s){return o=>{if(i[0]===i[1]||s[0]===s[1])return s[0];const a=(s[1]-s[0])/(i[1]-i[0]);return s[0]+a*(o-i[0])}}function isScrollingWithinScrollbarBounds(i,s){return i>0&&i<s}var addUnlinkedScrollListener=(i,s=()=>{})=>{let o={left:i.scrollLeft,top:i.scrollTop},a=0;return function c(){const d={left:i.scrollLeft,top:i.scrollTop},h=o.left!==d.left,g=o.top!==d.top;(h||g)&&s(),o=d,a=window.requestAnimationFrame(c)}(),()=>window.cancelAnimationFrame(a)};function useDebounceCallback(i,s){const o=useCallbackRef(i),a=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(a.current),[]),reactExports.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(o,s)},[o,s])}function useResizeObserver(i,s){const o=useCallbackRef(s);useLayoutEffect2(()=>{let a=0;if(i){const c=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(o)});return c.observe(i),()=>{window.cancelAnimationFrame(a),c.unobserve(i)}}},[i,o])}function getSubtree(i,s){const{asChild:o,children:a}=i;if(!o)return typeof s=="function"?s(a):s;const c=reactExports.Children.only(a);return reactExports.cloneElement(c,{children:typeof s=="function"?s(c.props.children):s})}var Root=ScrollArea$1,Viewport=ScrollAreaViewport,Corner=ScrollAreaCorner;const ScrollArea=reactExports.forwardRef(({className:i,children:s,...o},a)=>jsxRuntimeExports.jsxs(Root,{ref:a,className:cn("relative overflow-hidden",i),...o,children:[jsxRuntimeExports.jsx(Viewport,{className:"h-full w-full rounded-[inherit]",children:s}),jsxRuntimeExports.jsx(ScrollBar,{}),jsxRuntimeExports.jsx(Corner,{})]}));ScrollArea.displayName=Root.displayName;const ScrollBar=reactExports.forwardRef(({className:i,orientation:s="vertical",...o},a)=>jsxRuntimeExports.jsx(ScrollAreaScrollbar,{ref:a,orientation:s,className:cn("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",i),...o,children:jsxRuntimeExports.jsx(ScrollAreaThumb,{className:"relative flex-1 rounded-full bg-border"})}));ScrollBar.displayName=ScrollAreaScrollbar.displayName;const DocumentUploader=({onFileUpload:i,isLoading:s})=>{const[o,a]=reactExports.useState(!1),c=reactExports.useRef(null),{toast:d}=useToast(),h=_e=>{_e.preventDefault(),a(!0)},g=()=>{a(!1)},_=_e=>{if(_e.preventDefault(),a(!1),_e.dataTransfer.files&&_e.dataTransfer.files.length>0){const tt=_e.dataTransfer.files[0];$(tt.type)&&i(tt)}},b=_e=>{if(_e.target.files&&_e.target.files.length>0){const tt=_e.target.files[0];$(tt.type)?i(tt):d({title:"Invalid File Type",description:"Please upload a PDF file.",variant:"destructive"})}},$=_e=>_e==="application/pdf",et=()=>{c.current&&c.current.click()};return jsxRuntimeExports.jsxs("div",{className:cn("border-2 border-dashed rounded-xl p-4 text-center transition-all duration-300","hover:border-primary hover:shadow-lg hover:scale-[1.02]","dark:border-gray-700 dark:hover:border-blue-500","bg-gradient-to-br from-background to-background/50 backdrop-blur-sm",o?"border-blue-500 bg-blue-50/10":"border-gray-200","transform transition-transform duration-200 ease-in-out"),onDragOver:h,onDragLeave:g,onDrop:_,children:[jsxRuntimeExports.jsx("input",{type:"file",ref:c,className:"hidden",accept:".pdf",onChange:b}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(FileText,{className:"mx-auto h-8 w-8 text-primary mb-2 transform transition-transform group-hover:scale-110 duration-200"}),jsxRuntimeExports.jsx("h3",{className:"text-base font-medium mb-2",children:" Upload Document"}),jsxRuntimeExports.jsx(Button,{onClick:et,disabled:s,className:"bg-primary hover:bg-primary/90 transition-all duration-200 transform hover:scale-105",children:s?"Processing...":"Choose File"})]})]})},ChatSessionManager=({onFileUpload:i,isLoading:s,sessions:o,activeSessionId:a,onSelectSession:c,onCreateNewSession:d,onDeleteSession:h,onDeleteAllSessions:g})=>{useToast(),reactExports.useState({});const _=et=>et.toLocaleDateString(void 0,{month:"short",day:"numeric"}),b=et=>{var tt;if(et.name&&et.name!=="New Chat")return et.name;const _e=(tt=et.messages.find(it=>it.sender==="user"))==null?void 0:tt.text;return _e?_e.length>20?_e.substring(0,20)+"...":_e:et.documentName||`Chat ${_(et.createdAt)}`},$=async(et,_e)=>{await i(et,_e)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"border-b p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium mb-2",children:"Upload Document"}),jsxRuntimeExports.jsx(DocumentUploader,{onFileUpload:et=>$(et),isLoading:s})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-medium",children:["Chat History (",o.length,"/20)"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:d,disabled:s,children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-1"}),"New Chat"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:g,disabled:s||o.length===0,className:"text-red-500 hover:bg-red-100",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"h-[calc(100%-56px)]",children:jsxRuntimeExports.jsxs("div",{className:"p-2 space-y-1",children:[o.map(et=>jsxRuntimeExports.jsxs("div",{className:`group p-2 rounded-md flex items-center justify-between cursor-pointer hover:bg-gray-100 ${a===et.id?"bg-blue-50 border-l-2 border-blue-500":""}`,onClick:()=>c(et.id),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center truncate flex-1",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4 mr-2 flex-shrink-0 text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"truncate text-sm",children:b(et)})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 h-6 w-6 p-0",onClick:_e=>{_e.stopPropagation(),h(et.id)},children:jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3 text-red-500"})})]},et.id)),o.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center p-4 text-gray-500 text-sm",children:"No chat history yet"})]})})]})]})};let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function unsafeStringify(i,s=0){return byteToHex[i[s+0]]+byteToHex[i[s+1]]+byteToHex[i[s+2]]+byteToHex[i[s+3]]+"-"+byteToHex[i[s+4]]+byteToHex[i[s+5]]+"-"+byteToHex[i[s+6]]+byteToHex[i[s+7]]+"-"+byteToHex[i[s+8]]+byteToHex[i[s+9]]+"-"+byteToHex[i[s+10]]+byteToHex[i[s+11]]+byteToHex[i[s+12]]+byteToHex[i[s+13]]+byteToHex[i[s+14]]+byteToHex[i[s+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(i,s,o){if(native.randomUUID&&!s&&!i)return native.randomUUID();i=i||{};const a=i.random||(i.rng||rng)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,unsafeStringify(a)}const Chat=()=>{var pt;useLocation();const i=useNavigate(),{toast:s}=useToast(),[o,a]=reactExports.useState(!1),[c,d]=reactExports.useState([]),[h,g]=reactExports.useState(null),[_,b]=reactExports.useState({}),$=c.find(gt=>gt.id===h)||null,et=h&&((pt=_[h])==null?void 0:pt.text)||"";reactExports.useEffect(()=>{(()=>{const ht=localStorage.getItem("chatSessions");if(ht)try{const mt=JSON.parse(ht).map(xt=>({...xt,createdAt:new Date(xt.createdAt),messages:xt.messages.map(Et=>({...Et,timestamp:new Date(Et.timestamp)}))}));d(mt);const yt=localStorage.getItem("sessionDocuments");if(yt&&b(JSON.parse(yt)),mt.length>0){const xt=mt.sort((Et,vt)=>vt.createdAt.getTime()-Et.createdAt.getTime())[0];g(xt.id)}}catch(dt){console.error("Error loading saved sessions:",dt)}})()},[]),reactExports.useEffect(()=>{c.length>0&&localStorage.setItem("chatSessions",JSON.stringify(c))},[c]),reactExports.useEffect(()=>{Object.keys(_).length>0&&localStorage.setItem("sessionDocuments",JSON.stringify(_))},[_]);const _e=()=>{const gt={id:v4(),name:"New Chat",messages:[{id:v4(),text:" Hello! I am AskNoteBot. I can help you understand your document better. What would you like to know?",sender:"bot",timestamp:new Date}],createdAt:new Date};d(ht=>[gt,...ht]),g(gt.id)},tt=async(gt,ht)=>{a(!0);try{const dt=await extractTextFromPDF(gt);let mt=ht;if(!mt){const yt=v4(),xt={id:yt,name:gt.name.split(".")[0]||"New Chat",documentName:gt.name,messages:[{id:v4(),text:" Hello! I am AskNoteBot. I can help you understand your document better. What would you like to know?",sender:"bot",timestamp:new Date}],createdAt:new Date};d(Et=>[xt,...Et]),g(yt),mt=yt}b(yt=>({...yt,[mt]:{text:dt.fullText,name:gt.name}})),s({title:"Success",description:"Document uploaded successfully. Ready to chat!"})}catch(dt){console.error("Error extracting text:",dt),s({title:"Error",description:"Failed to process the document. Please try again.",variant:"destructive"})}finally{a(!1)}},it=async gt=>{var dt;if(!h){_e();return}a(!0);const ht={id:v4(),text:gt,sender:"user",timestamp:new Date};d(mt=>mt.map(yt=>yt.id===h?{...yt,messages:[...yt.messages,ht]}:yt));try{const mt=((dt=_[h])==null?void 0:dt.text)||"";if(!mt)throw new Error("No document available");const{context:yt,pages:xt}=findRelevantContext(mt,[],gt),Et=await generateAnswer(yt,xt,gt),vt={id:v4(),text:Et,sender:"bot",timestamp:new Date};d(St=>St.map(Rt=>Rt.id===h?{...Rt,messages:[...Rt.messages,vt]}:Rt))}catch(mt){console.error("Error answering question:",mt),s({title:"Error",description:"Failed to process your question. Please try again.",variant:"destructive"});const yt={id:v4(),text:"I encountered an error while processing your question. Please try again.",sender:"bot",timestamp:new Date};d(xt=>xt.map(Et=>Et.id===h?{...Et,messages:[...Et.messages,yt]}:Et))}finally{a(!1)}},st=gt=>{var ht;d(dt=>dt.filter(mt=>mt.id!==gt)),b(dt=>{const mt={...dt};return delete mt[gt],mt}),h===gt&&g(((ht=c.find(dt=>dt.id!==gt))==null?void 0:ht.id)||null),s({title:"Chat Deleted",description:"The chat session has been removed."})},lt=()=>{d([]),b({}),g(null),localStorage.removeItem("chatSessions"),localStorage.removeItem("sessionDocuments"),s({title:"All Chats Deleted",description:"All chat sessions have been removed."})},nt=gt=>{g(gt)},rt=()=>{i("/")};return jsxRuntimeExports.jsxs("div",{className:"h-screen flex flex-col",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex",children:[jsxRuntimeExports.jsx("div",{className:"w-64 border-r bg-gray-50 flex flex-col",children:jsxRuntimeExports.jsx(ChatSessionManager,{onFileUpload:tt,isLoading:o,sessions:c,activeSessionId:h,onSelectSession:nt,onCreateNewSession:_e,onDeleteSession:st,onDeleteAllSessions:lt})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"border-b p-4 flex justify-between items-center",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"flex items-center text-gray-600",onClick:rt,children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]}),jsxRuntimeExports.jsx("div",{className:"text-lg font-medium",children:($==null?void 0:$.name)||"AskNoteBot"}),jsxRuntimeExports.jsx("div",{className:"w-24"})," "]}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:h?jsxRuntimeExports.jsx(ChatInterface,{messages:($==null?void 0:$.messages)||[],onSendMessage:it,isLoading:o,pdfText:et}):jsxRuntimeExports.jsx("div",{className:"h-full flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"text-center p-8 rounded-lg max-w-md",children:jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Please upload a document or create a new chat"})})})})]})]})]})},NotFound=()=>{const i=useLocation();return reactExports.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",i.pathname)},[i.pathname]),jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),jsxRuntimeExports.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},queryClient=new QueryClient,App=()=>jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsxs(TooltipProvider,{children:[jsxRuntimeExports.jsx(Toaster$1,{}),jsxRuntimeExports.jsx(Toaster,{}),jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Index,{})}),jsxRuntimeExports.jsx(Route,{path:"/chat",element:jsxRuntimeExports.jsx(Chat,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})]})})]})});createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
